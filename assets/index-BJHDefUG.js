function hy(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in n)){const l=Object.getOwnPropertyDescriptor(i,o);l&&Object.defineProperty(n,o,l.get?l:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function xf(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var xd={exports:{}},bo={},Od={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sm;function bS(){if(sm)return Ne;sm=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),_=Symbol.iterator;function v(k){return k===null||typeof k!="object"?null:(k=_&&k[_]||k["@@iterator"],typeof k=="function"?k:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,N={};function R(k,D,ve){this.props=k,this.context=D,this.refs=N,this.updater=ve||E}R.prototype.isReactComponent={},R.prototype.setState=function(k,D){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,D,"setState")},R.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function H(){}H.prototype=R.prototype;function z(k,D,ve){this.props=k,this.context=D,this.refs=N,this.updater=ve||E}var J=z.prototype=new H;J.constructor=z,T(J,R.prototype),J.isPureReactComponent=!0;var G=Array.isArray,_e=Object.prototype.hasOwnProperty,A={current:null},ae={key:!0,ref:!0,__self:!0,__source:!0};function V(k,D,ve){var pe,Re={},Pe=null,$e=null;if(D!=null)for(pe in D.ref!==void 0&&($e=D.ref),D.key!==void 0&&(Pe=""+D.key),D)_e.call(D,pe)&&!ae.hasOwnProperty(pe)&&(Re[pe]=D[pe]);var Ve=arguments.length-2;if(Ve===1)Re.children=ve;else if(1<Ve){for(var Ye=Array(Ve),jt=0;jt<Ve;jt++)Ye[jt]=arguments[jt+2];Re.children=Ye}if(k&&k.defaultProps)for(pe in Ve=k.defaultProps,Ve)Re[pe]===void 0&&(Re[pe]=Ve[pe]);return{$$typeof:n,type:k,key:Pe,ref:$e,props:Re,_owner:A.current}}function ee(k,D){return{$$typeof:n,type:k.type,key:D,ref:k.ref,props:k.props,_owner:k._owner}}function de(k){return typeof k=="object"&&k!==null&&k.$$typeof===n}function ye(k){var D={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ve){return D[ve]})}var Te=/\/+/g;function ze(k,D){return typeof k=="object"&&k!==null&&k.key!=null?ye(""+k.key):D.toString(36)}function ke(k,D,ve,pe,Re){var Pe=typeof k;(Pe==="undefined"||Pe==="boolean")&&(k=null);var $e=!1;if(k===null)$e=!0;else switch(Pe){case"string":case"number":$e=!0;break;case"object":switch(k.$$typeof){case n:case e:$e=!0}}if($e)return $e=k,Re=Re($e),k=pe===""?"."+ze($e,0):pe,G(Re)?(ve="",k!=null&&(ve=k.replace(Te,"$&/")+"/"),ke(Re,D,ve,"",function(jt){return jt})):Re!=null&&(de(Re)&&(Re=ee(Re,ve+(!Re.key||$e&&$e.key===Re.key?"":(""+Re.key).replace(Te,"$&/")+"/")+k)),D.push(Re)),1;if($e=0,pe=pe===""?".":pe+":",G(k))for(var Ve=0;Ve<k.length;Ve++){Pe=k[Ve];var Ye=pe+ze(Pe,Ve);$e+=ke(Pe,D,ve,Ye,Re)}else if(Ye=v(k),typeof Ye=="function")for(k=Ye.call(k),Ve=0;!(Pe=k.next()).done;)Pe=Pe.value,Ye=pe+ze(Pe,Ve++),$e+=ke(Pe,D,ve,Ye,Re);else if(Pe==="object")throw D=String(k),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.");return $e}function qe(k,D,ve){if(k==null)return k;var pe=[],Re=0;return ke(k,pe,"","",function(Pe){return D.call(ve,Pe,Re++)}),pe}function Ze(k){if(k._status===-1){var D=k._result;D=D(),D.then(function(ve){(k._status===0||k._status===-1)&&(k._status=1,k._result=ve)},function(ve){(k._status===0||k._status===-1)&&(k._status=2,k._result=ve)}),k._status===-1&&(k._status=0,k._result=D)}if(k._status===1)return k._result.default;throw k._result}var Se={current:null},q={transition:null},Z={ReactCurrentDispatcher:Se,ReactCurrentBatchConfig:q,ReactCurrentOwner:A};function Y(){throw Error("act(...) is not supported in production builds of React.")}return Ne.Children={map:qe,forEach:function(k,D,ve){qe(k,function(){D.apply(this,arguments)},ve)},count:function(k){var D=0;return qe(k,function(){D++}),D},toArray:function(k){return qe(k,function(D){return D})||[]},only:function(k){if(!de(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Ne.Component=R,Ne.Fragment=t,Ne.Profiler=o,Ne.PureComponent=z,Ne.StrictMode=i,Ne.Suspense=h,Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,Ne.act=Y,Ne.cloneElement=function(k,D,ve){if(k==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+k+".");var pe=T({},k.props),Re=k.key,Pe=k.ref,$e=k._owner;if(D!=null){if(D.ref!==void 0&&(Pe=D.ref,$e=A.current),D.key!==void 0&&(Re=""+D.key),k.type&&k.type.defaultProps)var Ve=k.type.defaultProps;for(Ye in D)_e.call(D,Ye)&&!ae.hasOwnProperty(Ye)&&(pe[Ye]=D[Ye]===void 0&&Ve!==void 0?Ve[Ye]:D[Ye])}var Ye=arguments.length-2;if(Ye===1)pe.children=ve;else if(1<Ye){Ve=Array(Ye);for(var jt=0;jt<Ye;jt++)Ve[jt]=arguments[jt+2];pe.children=Ve}return{$$typeof:n,type:k.type,key:Re,ref:Pe,props:pe,_owner:$e}},Ne.createContext=function(k){return k={$$typeof:u,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},k.Provider={$$typeof:l,_context:k},k.Consumer=k},Ne.createElement=V,Ne.createFactory=function(k){var D=V.bind(null,k);return D.type=k,D},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(k){return{$$typeof:d,render:k}},Ne.isValidElement=de,Ne.lazy=function(k){return{$$typeof:m,_payload:{_status:-1,_result:k},_init:Ze}},Ne.memo=function(k,D){return{$$typeof:g,type:k,compare:D===void 0?null:D}},Ne.startTransition=function(k){var D=q.transition;q.transition={};try{k()}finally{q.transition=D}},Ne.unstable_act=Y,Ne.useCallback=function(k,D){return Se.current.useCallback(k,D)},Ne.useContext=function(k){return Se.current.useContext(k)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(k){return Se.current.useDeferredValue(k)},Ne.useEffect=function(k,D){return Se.current.useEffect(k,D)},Ne.useId=function(){return Se.current.useId()},Ne.useImperativeHandle=function(k,D,ve){return Se.current.useImperativeHandle(k,D,ve)},Ne.useInsertionEffect=function(k,D){return Se.current.useInsertionEffect(k,D)},Ne.useLayoutEffect=function(k,D){return Se.current.useLayoutEffect(k,D)},Ne.useMemo=function(k,D){return Se.current.useMemo(k,D)},Ne.useReducer=function(k,D,ve){return Se.current.useReducer(k,D,ve)},Ne.useRef=function(k){return Se.current.useRef(k)},Ne.useState=function(k){return Se.current.useState(k)},Ne.useSyncExternalStore=function(k,D,ve){return Se.current.useSyncExternalStore(k,D,ve)},Ne.useTransition=function(){return Se.current.useTransition()},Ne.version="18.3.1",Ne}var om;function Of(){return om||(om=1,Od.exports=bS()),Od.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var am;function LS(){if(am)return bo;am=1;var n=Of(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(d,h,g){var m,_={},v=null,E=null;g!==void 0&&(v=""+g),h.key!==void 0&&(v=""+h.key),h.ref!==void 0&&(E=h.ref);for(m in h)i.call(h,m)&&!l.hasOwnProperty(m)&&(_[m]=h[m]);if(d&&d.defaultProps)for(m in h=d.defaultProps,h)_[m]===void 0&&(_[m]=h[m]);return{$$typeof:e,type:d,key:v,ref:E,props:_,_owner:o.current}}return bo.Fragment=t,bo.jsx=u,bo.jsxs=u,bo}var lm;function DS(){return lm||(lm=1,xd.exports=LS()),xd.exports}var K=DS(),M=Of();const py=xf(M),MS=hy({__proto__:null,default:py},[M]);var jl={},Ad={exports:{}},Jt={},bd={exports:{}},Ld={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var um;function FS(){return um||(um=1,function(n){function e(q,Z){var Y=q.length;q.push(Z);e:for(;0<Y;){var k=Y-1>>>1,D=q[k];if(0<o(D,Z))q[k]=Z,q[Y]=D,Y=k;else break e}}function t(q){return q.length===0?null:q[0]}function i(q){if(q.length===0)return null;var Z=q[0],Y=q.pop();if(Y!==Z){q[0]=Y;e:for(var k=0,D=q.length,ve=D>>>1;k<ve;){var pe=2*(k+1)-1,Re=q[pe],Pe=pe+1,$e=q[Pe];if(0>o(Re,Y))Pe<D&&0>o($e,Re)?(q[k]=$e,q[Pe]=Y,k=Pe):(q[k]=Re,q[pe]=Y,k=pe);else if(Pe<D&&0>o($e,Y))q[k]=$e,q[Pe]=Y,k=Pe;else break e}}return Z}function o(q,Z){var Y=q.sortIndex-Z.sortIndex;return Y!==0?Y:q.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var h=[],g=[],m=1,_=null,v=3,E=!1,T=!1,N=!1,R=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function J(q){for(var Z=t(g);Z!==null;){if(Z.callback===null)i(g);else if(Z.startTime<=q)i(g),Z.sortIndex=Z.expirationTime,e(h,Z);else break;Z=t(g)}}function G(q){if(N=!1,J(q),!T)if(t(h)!==null)T=!0,Ze(_e);else{var Z=t(g);Z!==null&&Se(G,Z.startTime-q)}}function _e(q,Z){T=!1,N&&(N=!1,H(V),V=-1),E=!0;var Y=v;try{for(J(Z),_=t(h);_!==null&&(!(_.expirationTime>Z)||q&&!ye());){var k=_.callback;if(typeof k=="function"){_.callback=null,v=_.priorityLevel;var D=k(_.expirationTime<=Z);Z=n.unstable_now(),typeof D=="function"?_.callback=D:_===t(h)&&i(h),J(Z)}else i(h);_=t(h)}if(_!==null)var ve=!0;else{var pe=t(g);pe!==null&&Se(G,pe.startTime-Z),ve=!1}return ve}finally{_=null,v=Y,E=!1}}var A=!1,ae=null,V=-1,ee=5,de=-1;function ye(){return!(n.unstable_now()-de<ee)}function Te(){if(ae!==null){var q=n.unstable_now();de=q;var Z=!0;try{Z=ae(!0,q)}finally{Z?ze():(A=!1,ae=null)}}else A=!1}var ze;if(typeof z=="function")ze=function(){z(Te)};else if(typeof MessageChannel<"u"){var ke=new MessageChannel,qe=ke.port2;ke.port1.onmessage=Te,ze=function(){qe.postMessage(null)}}else ze=function(){R(Te,0)};function Ze(q){ae=q,A||(A=!0,ze())}function Se(q,Z){V=R(function(){q(n.unstable_now())},Z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(q){q.callback=null},n.unstable_continueExecution=function(){T||E||(T=!0,Ze(_e))},n.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<q?Math.floor(1e3/q):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(q){switch(v){case 1:case 2:case 3:var Z=3;break;default:Z=v}var Y=v;v=Z;try{return q()}finally{v=Y}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(q,Z){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var Y=v;v=q;try{return Z()}finally{v=Y}},n.unstable_scheduleCallback=function(q,Z,Y){var k=n.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?k+Y:k):Y=k,q){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=Y+D,q={id:m++,callback:Z,priorityLevel:q,startTime:Y,expirationTime:D,sortIndex:-1},Y>k?(q.sortIndex=Y,e(g,q),t(h)===null&&q===t(g)&&(N?(H(V),V=-1):N=!0,Se(G,Y-k))):(q.sortIndex=D,e(h,q),T||E||(T=!0,Ze(_e))),q},n.unstable_shouldYield=ye,n.unstable_wrapCallback=function(q){var Z=v;return function(){var Y=v;v=Z;try{return q.apply(this,arguments)}finally{v=Y}}}}(Ld)),Ld}var cm;function US(){return cm||(cm=1,bd.exports=FS()),bd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dm;function jS(){if(dm)return Jt;dm=1;var n=Of(),e=US();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(r,s){u(r,s),u(r+"Capture",s)}function u(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},_={};function v(r){return h.call(_,r)?!0:h.call(m,r)?!1:g.test(r)?_[r]=!0:(m[r]=!0,!1)}function E(r,s,a,c){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function T(r,s,a,c){if(s===null||typeof s>"u"||E(r,s,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function N(r,s,a,c,f,p,y){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=c,this.attributeNamespace=f,this.mustUseProperty=a,this.propertyName=r,this.type=s,this.sanitizeURL=p,this.removeEmptyString=y}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){R[r]=new N(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];R[s]=new N(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){R[r]=new N(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){R[r]=new N(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){R[r]=new N(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){R[r]=new N(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){R[r]=new N(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){R[r]=new N(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){R[r]=new N(r,5,!1,r.toLowerCase(),null,!1,!1)});var H=/[\-:]([a-z])/g;function z(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(H,z);R[s]=new N(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(H,z);R[s]=new N(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(H,z);R[s]=new N(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){R[r]=new N(r,1,!1,r.toLowerCase(),null,!1,!1)}),R.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){R[r]=new N(r,1,!1,r.toLowerCase(),null,!0,!0)});function J(r,s,a,c){var f=R.hasOwnProperty(s)?R[s]:null;(f!==null?f.type!==0:c||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(T(s,a,f,c)&&(a=null),c||f===null?v(s)&&(a===null?r.removeAttribute(s):r.setAttribute(s,""+a)):f.mustUseProperty?r[f.propertyName]=a===null?f.type===3?!1:"":a:(s=f.attributeName,c=f.attributeNamespace,a===null?r.removeAttribute(s):(f=f.type,a=f===3||f===4&&a===!0?"":""+a,c?r.setAttributeNS(c,s,a):r.setAttribute(s,a))))}var G=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_e=Symbol.for("react.element"),A=Symbol.for("react.portal"),ae=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),ee=Symbol.for("react.profiler"),de=Symbol.for("react.provider"),ye=Symbol.for("react.context"),Te=Symbol.for("react.forward_ref"),ze=Symbol.for("react.suspense"),ke=Symbol.for("react.suspense_list"),qe=Symbol.for("react.memo"),Ze=Symbol.for("react.lazy"),Se=Symbol.for("react.offscreen"),q=Symbol.iterator;function Z(r){return r===null||typeof r!="object"?null:(r=q&&r[q]||r["@@iterator"],typeof r=="function"?r:null)}var Y=Object.assign,k;function D(r){if(k===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);k=s&&s[1]||""}return`
`+k+r}var ve=!1;function pe(r,s){if(!r||ve)return"";ve=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(b){var c=b}Reflect.construct(r,[],s)}else{try{s.call()}catch(b){c=b}r.call(s.prototype)}else{try{throw Error()}catch(b){c=b}r()}}catch(b){if(b&&c&&typeof b.stack=="string"){for(var f=b.stack.split(`
`),p=c.stack.split(`
`),y=f.length-1,w=p.length-1;1<=y&&0<=w&&f[y]!==p[w];)w--;for(;1<=y&&0<=w;y--,w--)if(f[y]!==p[w]){if(y!==1||w!==1)do if(y--,w--,0>w||f[y]!==p[w]){var C=`
`+f[y].replace(" at new "," at ");return r.displayName&&C.includes("<anonymous>")&&(C=C.replace("<anonymous>",r.displayName)),C}while(1<=y&&0<=w);break}}}finally{ve=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?D(r):""}function Re(r){switch(r.tag){case 5:return D(r.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return r=pe(r.type,!1),r;case 11:return r=pe(r.type.render,!1),r;case 1:return r=pe(r.type,!0),r;default:return""}}function Pe(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case ae:return"Fragment";case A:return"Portal";case ee:return"Profiler";case V:return"StrictMode";case ze:return"Suspense";case ke:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case ye:return(r.displayName||"Context")+".Consumer";case de:return(r._context.displayName||"Context")+".Provider";case Te:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case qe:return s=r.displayName||null,s!==null?s:Pe(r.type)||"Memo";case Ze:s=r._payload,r=r._init;try{return Pe(r(s))}catch{}}return null}function $e(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pe(s);case 8:return s===V?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Ve(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ye(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function jt(r){var s=Ye(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),c=""+r[s];if(!r.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,p=a.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(y){c=""+y,p.call(this,y)}}),Object.defineProperty(r,s,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(y){c=""+y},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function pt(r){r._valueTracker||(r._valueTracker=jt(r))}function Gn(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),c="";return r&&(c=Ye(r)?r.checked?"true":"false":r.value),r=c,r!==a?(s.setValue(r),!0):!1}function si(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function zs(r,s){var a=s.checked;return Y({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function xn(r,s){var a=s.defaultValue==null?"":s.defaultValue,c=s.checked!=null?s.checked:s.defaultChecked;a=Ve(s.value!=null?s.value:a),r._wrapperState={initialChecked:c,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Oa(r,s){s=s.checked,s!=null&&J(r,"checked",s,!1)}function $s(r,s){Oa(r,s);var a=Ve(s.value),c=s.type;if(a!=null)c==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(c==="submit"||c==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Bs(r,s.type,a):s.hasOwnProperty("defaultValue")&&Bs(r,s.type,Ve(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function Vs(r,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var c=s.type;if(!(c!=="submit"&&c!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,a||s===r.value||(r.value=s),r.defaultValue=s}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function Bs(r,s,a){(s!=="number"||si(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var oi=Array.isArray;function gr(r,s,a,c){if(r=r.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<r.length;a++)f=s.hasOwnProperty("$"+r[a].value),r[a].selected!==f&&(r[a].selected=f),f&&c&&(r[a].defaultSelected=!0)}else{for(a=""+Ve(a),s=null,f=0;f<r.length;f++){if(r[f].value===a){r[f].selected=!0,c&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function Ws(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return Y({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function On(r,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(oi(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}r._wrapperState={initialValue:Ve(a)}}function mr(r,s){var a=Ve(s.value),c=Ve(s.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),s.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),c!=null&&(r.defaultValue=""+c)}function Hs(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function Vi(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function on(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?Vi(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Ht,Ks=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,c,f){MSApp.execUnsafeLocalFunction(function(){return r(s,a,c,f)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(Ht=Ht||document.createElement("div"),Ht.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Ht.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function An(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var ai={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bn=["Webkit","ms","Moz","O"];Object.keys(ai).forEach(function(r){bn.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),ai[s]=ai[r]})});function Gs(r,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||ai.hasOwnProperty(r)&&ai[r]?(""+s).trim():s+"px"}function qs(r,s){r=r.style;for(var a in s)if(s.hasOwnProperty(a)){var c=a.indexOf("--")===0,f=Gs(a,s[a],c);a==="float"&&(a="cssFloat"),c?r.setProperty(a,f):r[a]=f}}var Aa=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ys(r,s){if(s){if(Aa[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Bi(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _r=null;function Wi(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var li=null,Ln=null,yr=null;function Qs(r){if(r=yo(r)){if(typeof li!="function")throw Error(t(280));var s=r.stateNode;s&&(s=el(s),li(r.stateNode,r.type,s))}}function ba(r){Ln?yr?yr.push(r):yr=[r]:Ln=r}function Js(){if(Ln){var r=Ln,s=yr;if(yr=Ln=null,Qs(r),s)for(r=0;r<s.length;r++)Qs(s[r])}}function ui(r,s){return r(s)}function ci(){}var Xs=!1;function La(r,s,a){if(Xs)return r(s,a);Xs=!0;try{return ui(r,s,a)}finally{Xs=!1,(Ln!==null||yr!==null)&&(ci(),Js())}}function S(r,s){var a=r.stateNode;if(a===null)return null;var c=el(a);if(c===null)return null;a=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var P=!1;if(d)try{var L={};Object.defineProperty(L,"passive",{get:function(){P=!0}}),window.addEventListener("test",L,L),window.removeEventListener("test",L,L)}catch{P=!1}function F(r,s,a,c,f,p,y,w,C){var b=Array.prototype.slice.call(arguments,3);try{s.apply(a,b)}catch(j){this.onError(j)}}var Q=!1,le=null,ge=!1,te=null,ie={onError:function(r){Q=!0,le=r}};function ne(r,s,a,c,f,p,y,w,C){Q=!1,le=null,F.apply(ie,arguments)}function ce(r,s,a,c,f,p,y,w,C){if(ne.apply(this,arguments),Q){if(Q){var b=le;Q=!1,le=null}else throw Error(t(198));ge||(ge=!0,te=b)}}function Ie(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function Ae(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function gt(r){if(Ie(r)!==r)throw Error(t(188))}function We(r){var s=r.alternate;if(!s){if(s=Ie(r),s===null)throw Error(t(188));return s!==r?null:r}for(var a=r,c=s;;){var f=a.return;if(f===null)break;var p=f.alternate;if(p===null){if(c=f.return,c!==null){a=c;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===a)return gt(f),r;if(p===c)return gt(f),s;p=p.sibling}throw Error(t(188))}if(a.return!==c.return)a=f,c=p;else{for(var y=!1,w=f.child;w;){if(w===a){y=!0,a=f,c=p;break}if(w===c){y=!0,c=f,a=p;break}w=w.sibling}if(!y){for(w=p.child;w;){if(w===a){y=!0,a=p,c=f;break}if(w===c){y=!0,c=p,a=f;break}w=w.sibling}if(!y)throw Error(t(189))}}if(a.alternate!==c)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?r:s}function De(r){return r=We(r),r!==null?et(r):null}function et(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=et(r);if(s!==null)return s;r=r.sibling}return null}var qn=e.unstable_scheduleCallback,vr=e.unstable_cancelCallback,mn=e.unstable_shouldYield,an=e.unstable_requestPaint,tt=e.unstable_now,di=e.unstable_getCurrentPriorityLevel,_n=e.unstable_ImmediatePriority,fi=e.unstable_UserBlockingPriority,Yn=e.unstable_NormalPriority,Me=e.unstable_LowPriority,nt=e.unstable_IdlePriority,yn=null,bt=null;function ut(r){if(bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(yn,r,void 0,(r.current.flags&128)===128)}catch{}}var St=Math.clz32?Math.clz32:Xw,Da=Math.log,Qu=Math.LN2;function Xw(r){return r>>>=0,r===0?32:31-(Da(r)/Qu|0)|0}var Ma=64,Fa=4194304;function Zs(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Ua(r,s){var a=r.pendingLanes;if(a===0)return 0;var c=0,f=r.suspendedLanes,p=r.pingedLanes,y=a&268435455;if(y!==0){var w=y&~f;w!==0?c=Zs(w):(p&=y,p!==0&&(c=Zs(p)))}else y=a&~f,y!==0?c=Zs(y):p!==0&&(c=Zs(p));if(c===0)return 0;if(s!==0&&s!==c&&!(s&f)&&(f=c&-c,p=s&-s,f>=p||f===16&&(p&4194240)!==0))return s;if(c&4&&(c|=a&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=c;0<s;)a=31-St(s),f=1<<a,c|=r[a],s&=~f;return c}function Zw(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eE(r,s){for(var a=r.suspendedLanes,c=r.pingedLanes,f=r.expirationTimes,p=r.pendingLanes;0<p;){var y=31-St(p),w=1<<y,C=f[y];C===-1?(!(w&a)||w&c)&&(f[y]=Zw(w,s)):C<=s&&(r.expiredLanes|=w),p&=~w}}function Ju(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Mh(){var r=Ma;return Ma<<=1,!(Ma&4194240)&&(Ma=64),r}function Xu(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function eo(r,s,a){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-St(s),r[s]=a}function tE(r,s){var a=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var c=r.eventTimes;for(r=r.expirationTimes;0<a;){var f=31-St(a),p=1<<f;s[f]=0,c[f]=-1,r[f]=-1,a&=~p}}function Zu(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var c=31-St(a),f=1<<c;f&s|r[c]&s&&(r[c]|=s),a&=~f}}var Be=0;function Fh(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var Uh,ec,jh,zh,$h,tc=!1,ja=[],wr=null,Er=null,Sr=null,to=new Map,no=new Map,Cr=[],nE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vh(r,s){switch(r){case"focusin":case"focusout":wr=null;break;case"dragenter":case"dragleave":Er=null;break;case"mouseover":case"mouseout":Sr=null;break;case"pointerover":case"pointerout":to.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":no.delete(s.pointerId)}}function ro(r,s,a,c,f,p){return r===null||r.nativeEvent!==p?(r={blockedOn:s,domEventName:a,eventSystemFlags:c,nativeEvent:p,targetContainers:[f]},s!==null&&(s=yo(s),s!==null&&ec(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function rE(r,s,a,c,f){switch(s){case"focusin":return wr=ro(wr,r,s,a,c,f),!0;case"dragenter":return Er=ro(Er,r,s,a,c,f),!0;case"mouseover":return Sr=ro(Sr,r,s,a,c,f),!0;case"pointerover":var p=f.pointerId;return to.set(p,ro(to.get(p)||null,r,s,a,c,f)),!0;case"gotpointercapture":return p=f.pointerId,no.set(p,ro(no.get(p)||null,r,s,a,c,f)),!0}return!1}function Bh(r){var s=hi(r.target);if(s!==null){var a=Ie(s);if(a!==null){if(s=a.tag,s===13){if(s=Ae(a),s!==null){r.blockedOn=s,$h(r.priority,function(){jh(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function za(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=rc(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var c=new a.constructor(a.type,a);_r=c,a.target.dispatchEvent(c),_r=null}else return s=yo(a),s!==null&&ec(s),r.blockedOn=a,!1;s.shift()}return!0}function Wh(r,s,a){za(r)&&a.delete(s)}function iE(){tc=!1,wr!==null&&za(wr)&&(wr=null),Er!==null&&za(Er)&&(Er=null),Sr!==null&&za(Sr)&&(Sr=null),to.forEach(Wh),no.forEach(Wh)}function io(r,s){r.blockedOn===s&&(r.blockedOn=null,tc||(tc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,iE)))}function so(r){function s(f){return io(f,r)}if(0<ja.length){io(ja[0],r);for(var a=1;a<ja.length;a++){var c=ja[a];c.blockedOn===r&&(c.blockedOn=null)}}for(wr!==null&&io(wr,r),Er!==null&&io(Er,r),Sr!==null&&io(Sr,r),to.forEach(s),no.forEach(s),a=0;a<Cr.length;a++)c=Cr[a],c.blockedOn===r&&(c.blockedOn=null);for(;0<Cr.length&&(a=Cr[0],a.blockedOn===null);)Bh(a),a.blockedOn===null&&Cr.shift()}var Hi=G.ReactCurrentBatchConfig,$a=!0;function sE(r,s,a,c){var f=Be,p=Hi.transition;Hi.transition=null;try{Be=1,nc(r,s,a,c)}finally{Be=f,Hi.transition=p}}function oE(r,s,a,c){var f=Be,p=Hi.transition;Hi.transition=null;try{Be=4,nc(r,s,a,c)}finally{Be=f,Hi.transition=p}}function nc(r,s,a,c){if($a){var f=rc(r,s,a,c);if(f===null)wc(r,s,c,Va,a),Vh(r,c);else if(rE(f,r,s,a,c))c.stopPropagation();else if(Vh(r,c),s&4&&-1<nE.indexOf(r)){for(;f!==null;){var p=yo(f);if(p!==null&&Uh(p),p=rc(r,s,a,c),p===null&&wc(r,s,c,Va,a),p===f)break;f=p}f!==null&&c.stopPropagation()}else wc(r,s,c,null,a)}}var Va=null;function rc(r,s,a,c){if(Va=null,r=Wi(c),r=hi(r),r!==null)if(s=Ie(r),s===null)r=null;else if(a=s.tag,a===13){if(r=Ae(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Va=r,null}function Hh(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(di()){case _n:return 1;case fi:return 4;case Yn:case Me:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Ir=null,ic=null,Ba=null;function Kh(){if(Ba)return Ba;var r,s=ic,a=s.length,c,f="value"in Ir?Ir.value:Ir.textContent,p=f.length;for(r=0;r<a&&s[r]===f[r];r++);var y=a-r;for(c=1;c<=y&&s[a-c]===f[p-c];c++);return Ba=f.slice(r,1<c?1-c:void 0)}function Wa(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Ha(){return!0}function Gh(){return!1}function en(r){function s(a,c,f,p,y){this._reactName=a,this._targetInst=f,this.type=c,this.nativeEvent=p,this.target=y,this.currentTarget=null;for(var w in r)r.hasOwnProperty(w)&&(a=r[w],this[w]=a?a(p):p[w]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Ha:Gh,this.isPropagationStopped=Gh,this}return Y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ha)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ha)},persist:function(){},isPersistent:Ha}),s}var Ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sc=en(Ki),oo=Y({},Ki,{view:0,detail:0}),aE=en(oo),oc,ac,ao,Ka=Y({},oo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uc,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ao&&(ao&&r.type==="mousemove"?(oc=r.screenX-ao.screenX,ac=r.screenY-ao.screenY):ac=oc=0,ao=r),oc)},movementY:function(r){return"movementY"in r?r.movementY:ac}}),qh=en(Ka),lE=Y({},Ka,{dataTransfer:0}),uE=en(lE),cE=Y({},oo,{relatedTarget:0}),lc=en(cE),dE=Y({},Ki,{animationName:0,elapsedTime:0,pseudoElement:0}),fE=en(dE),hE=Y({},Ki,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),pE=en(hE),gE=Y({},Ki,{data:0}),Yh=en(gE),mE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_E={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vE(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=yE[r])?!!s[r]:!1}function uc(){return vE}var wE=Y({},oo,{key:function(r){if(r.key){var s=mE[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Wa(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?_E[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uc,charCode:function(r){return r.type==="keypress"?Wa(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Wa(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),EE=en(wE),SE=Y({},Ka,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qh=en(SE),CE=Y({},oo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uc}),IE=en(CE),TE=Y({},Ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),kE=en(TE),RE=Y({},Ka,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),PE=en(RE),NE=[9,13,27,32],cc=d&&"CompositionEvent"in window,lo=null;d&&"documentMode"in document&&(lo=document.documentMode);var xE=d&&"TextEvent"in window&&!lo,Jh=d&&(!cc||lo&&8<lo&&11>=lo),Xh=" ",Zh=!1;function ep(r,s){switch(r){case"keyup":return NE.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tp(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Gi=!1;function OE(r,s){switch(r){case"compositionend":return tp(s);case"keypress":return s.which!==32?null:(Zh=!0,Xh);case"textInput":return r=s.data,r===Xh&&Zh?null:r;default:return null}}function AE(r,s){if(Gi)return r==="compositionend"||!cc&&ep(r,s)?(r=Kh(),Ba=ic=Ir=null,Gi=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Jh&&s.locale!=="ko"?null:s.data;default:return null}}var bE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function np(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!bE[r.type]:s==="textarea"}function rp(r,s,a,c){ba(c),s=Ja(s,"onChange"),0<s.length&&(a=new sc("onChange","change",null,a,c),r.push({event:a,listeners:s}))}var uo=null,co=null;function LE(r){Ep(r,0)}function Ga(r){var s=Xi(r);if(Gn(s))return r}function DE(r,s){if(r==="change")return s}var ip=!1;if(d){var dc;if(d){var fc="oninput"in document;if(!fc){var sp=document.createElement("div");sp.setAttribute("oninput","return;"),fc=typeof sp.oninput=="function"}dc=fc}else dc=!1;ip=dc&&(!document.documentMode||9<document.documentMode)}function op(){uo&&(uo.detachEvent("onpropertychange",ap),co=uo=null)}function ap(r){if(r.propertyName==="value"&&Ga(co)){var s=[];rp(s,co,r,Wi(r)),La(LE,s)}}function ME(r,s,a){r==="focusin"?(op(),uo=s,co=a,uo.attachEvent("onpropertychange",ap)):r==="focusout"&&op()}function FE(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Ga(co)}function UE(r,s){if(r==="click")return Ga(s)}function jE(r,s){if(r==="input"||r==="change")return Ga(s)}function zE(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var vn=typeof Object.is=="function"?Object.is:zE;function fo(r,s){if(vn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),c=Object.keys(s);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var f=a[c];if(!h.call(s,f)||!vn(r[f],s[f]))return!1}return!0}function lp(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function up(r,s){var a=lp(r);r=0;for(var c;a;){if(a.nodeType===3){if(c=r+a.textContent.length,r<=s&&c>=s)return{node:a,offset:s-r};r=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=lp(a)}}function cp(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?cp(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function dp(){for(var r=window,s=si();s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=si(r.document)}return s}function hc(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function $E(r){var s=dp(),a=r.focusedElem,c=r.selectionRange;if(s!==a&&a&&a.ownerDocument&&cp(a.ownerDocument.documentElement,a)){if(c!==null&&hc(a)){if(s=c.start,r=c.end,r===void 0&&(r=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(r,a.value.length);else if(r=(s=a.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var f=a.textContent.length,p=Math.min(c.start,f);c=c.end===void 0?p:Math.min(c.end,f),!r.extend&&p>c&&(f=c,c=p,p=f),f=up(a,p);var y=up(a,c);f&&y&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==y.node||r.focusOffset!==y.offset)&&(s=s.createRange(),s.setStart(f.node,f.offset),r.removeAllRanges(),p>c?(r.addRange(s),r.extend(y.node,y.offset)):(s.setEnd(y.node,y.offset),r.addRange(s)))}}for(s=[],r=a;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)r=s[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var VE=d&&"documentMode"in document&&11>=document.documentMode,qi=null,pc=null,ho=null,gc=!1;function fp(r,s,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;gc||qi==null||qi!==si(c)||(c=qi,"selectionStart"in c&&hc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ho&&fo(ho,c)||(ho=c,c=Ja(pc,"onSelect"),0<c.length&&(s=new sc("onSelect","select",null,s,a),r.push({event:s,listeners:c}),s.target=qi)))}function qa(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var Yi={animationend:qa("Animation","AnimationEnd"),animationiteration:qa("Animation","AnimationIteration"),animationstart:qa("Animation","AnimationStart"),transitionend:qa("Transition","TransitionEnd")},mc={},hp={};d&&(hp=document.createElement("div").style,"AnimationEvent"in window||(delete Yi.animationend.animation,delete Yi.animationiteration.animation,delete Yi.animationstart.animation),"TransitionEvent"in window||delete Yi.transitionend.transition);function Ya(r){if(mc[r])return mc[r];if(!Yi[r])return r;var s=Yi[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in hp)return mc[r]=s[a];return r}var pp=Ya("animationend"),gp=Ya("animationiteration"),mp=Ya("animationstart"),_p=Ya("transitionend"),yp=new Map,vp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tr(r,s){yp.set(r,s),l(s,[r])}for(var _c=0;_c<vp.length;_c++){var yc=vp[_c],BE=yc.toLowerCase(),WE=yc[0].toUpperCase()+yc.slice(1);Tr(BE,"on"+WE)}Tr(pp,"onAnimationEnd"),Tr(gp,"onAnimationIteration"),Tr(mp,"onAnimationStart"),Tr("dblclick","onDoubleClick"),Tr("focusin","onFocus"),Tr("focusout","onBlur"),Tr(_p,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var po="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HE=new Set("cancel close invalid load scroll toggle".split(" ").concat(po));function wp(r,s,a){var c=r.type||"unknown-event";r.currentTarget=a,ce(c,s,void 0,r),r.currentTarget=null}function Ep(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var c=r[a],f=c.event;c=c.listeners;e:{var p=void 0;if(s)for(var y=c.length-1;0<=y;y--){var w=c[y],C=w.instance,b=w.currentTarget;if(w=w.listener,C!==p&&f.isPropagationStopped())break e;wp(f,w,b),p=C}else for(y=0;y<c.length;y++){if(w=c[y],C=w.instance,b=w.currentTarget,w=w.listener,C!==p&&f.isPropagationStopped())break e;wp(f,w,b),p=C}}}if(ge)throw r=te,ge=!1,te=null,r}function rt(r,s){var a=s[kc];a===void 0&&(a=s[kc]=new Set);var c=r+"__bubble";a.has(c)||(Sp(s,r,2,!1),a.add(c))}function vc(r,s,a){var c=0;s&&(c|=4),Sp(a,r,c,s)}var Qa="_reactListening"+Math.random().toString(36).slice(2);function go(r){if(!r[Qa]){r[Qa]=!0,i.forEach(function(a){a!=="selectionchange"&&(HE.has(a)||vc(a,!1,r),vc(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Qa]||(s[Qa]=!0,vc("selectionchange",!1,s))}}function Sp(r,s,a,c){switch(Hh(s)){case 1:var f=sE;break;case 4:f=oE;break;default:f=nc}a=f.bind(null,s,a,r),f=void 0,!P||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),c?f!==void 0?r.addEventListener(s,a,{capture:!0,passive:f}):r.addEventListener(s,a,!0):f!==void 0?r.addEventListener(s,a,{passive:f}):r.addEventListener(s,a,!1)}function wc(r,s,a,c,f){var p=c;if(!(s&1)&&!(s&2)&&c!==null)e:for(;;){if(c===null)return;var y=c.tag;if(y===3||y===4){var w=c.stateNode.containerInfo;if(w===f||w.nodeType===8&&w.parentNode===f)break;if(y===4)for(y=c.return;y!==null;){var C=y.tag;if((C===3||C===4)&&(C=y.stateNode.containerInfo,C===f||C.nodeType===8&&C.parentNode===f))return;y=y.return}for(;w!==null;){if(y=hi(w),y===null)return;if(C=y.tag,C===5||C===6){c=p=y;continue e}w=w.parentNode}}c=c.return}La(function(){var b=p,j=Wi(a),$=[];e:{var U=yp.get(r);if(U!==void 0){var X=sc,se=r;switch(r){case"keypress":if(Wa(a)===0)break e;case"keydown":case"keyup":X=EE;break;case"focusin":se="focus",X=lc;break;case"focusout":se="blur",X=lc;break;case"beforeblur":case"afterblur":X=lc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=qh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=uE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=IE;break;case pp:case gp:case mp:X=fE;break;case _p:X=kE;break;case"scroll":X=aE;break;case"wheel":X=PE;break;case"copy":case"cut":case"paste":X=pE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Qh}var oe=(s&4)!==0,ht=!oe&&r==="scroll",x=oe?U!==null?U+"Capture":null:U;oe=[];for(var I=b,O;I!==null;){O=I;var B=O.stateNode;if(O.tag===5&&B!==null&&(O=B,x!==null&&(B=S(I,x),B!=null&&oe.push(mo(I,B,O)))),ht)break;I=I.return}0<oe.length&&(U=new X(U,se,null,a,j),$.push({event:U,listeners:oe}))}}if(!(s&7)){e:{if(U=r==="mouseover"||r==="pointerover",X=r==="mouseout"||r==="pointerout",U&&a!==_r&&(se=a.relatedTarget||a.fromElement)&&(hi(se)||se[Qn]))break e;if((X||U)&&(U=j.window===j?j:(U=j.ownerDocument)?U.defaultView||U.parentWindow:window,X?(se=a.relatedTarget||a.toElement,X=b,se=se?hi(se):null,se!==null&&(ht=Ie(se),se!==ht||se.tag!==5&&se.tag!==6)&&(se=null)):(X=null,se=b),X!==se)){if(oe=qh,B="onMouseLeave",x="onMouseEnter",I="mouse",(r==="pointerout"||r==="pointerover")&&(oe=Qh,B="onPointerLeave",x="onPointerEnter",I="pointer"),ht=X==null?U:Xi(X),O=se==null?U:Xi(se),U=new oe(B,I+"leave",X,a,j),U.target=ht,U.relatedTarget=O,B=null,hi(j)===b&&(oe=new oe(x,I+"enter",se,a,j),oe.target=O,oe.relatedTarget=ht,B=oe),ht=B,X&&se)t:{for(oe=X,x=se,I=0,O=oe;O;O=Qi(O))I++;for(O=0,B=x;B;B=Qi(B))O++;for(;0<I-O;)oe=Qi(oe),I--;for(;0<O-I;)x=Qi(x),O--;for(;I--;){if(oe===x||x!==null&&oe===x.alternate)break t;oe=Qi(oe),x=Qi(x)}oe=null}else oe=null;X!==null&&Cp($,U,X,oe,!1),se!==null&&ht!==null&&Cp($,ht,se,oe,!0)}}e:{if(U=b?Xi(b):window,X=U.nodeName&&U.nodeName.toLowerCase(),X==="select"||X==="input"&&U.type==="file")var ue=DE;else if(np(U))if(ip)ue=jE;else{ue=FE;var fe=ME}else(X=U.nodeName)&&X.toLowerCase()==="input"&&(U.type==="checkbox"||U.type==="radio")&&(ue=UE);if(ue&&(ue=ue(r,b))){rp($,ue,a,j);break e}fe&&fe(r,U,b),r==="focusout"&&(fe=U._wrapperState)&&fe.controlled&&U.type==="number"&&Bs(U,"number",U.value)}switch(fe=b?Xi(b):window,r){case"focusin":(np(fe)||fe.contentEditable==="true")&&(qi=fe,pc=b,ho=null);break;case"focusout":ho=pc=qi=null;break;case"mousedown":gc=!0;break;case"contextmenu":case"mouseup":case"dragend":gc=!1,fp($,a,j);break;case"selectionchange":if(VE)break;case"keydown":case"keyup":fp($,a,j)}var he;if(cc)e:{switch(r){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Gi?ep(r,a)&&(Ee="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(Ee="onCompositionStart");Ee&&(Jh&&a.locale!=="ko"&&(Gi||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Gi&&(he=Kh()):(Ir=j,ic="value"in Ir?Ir.value:Ir.textContent,Gi=!0)),fe=Ja(b,Ee),0<fe.length&&(Ee=new Yh(Ee,r,null,a,j),$.push({event:Ee,listeners:fe}),he?Ee.data=he:(he=tp(a),he!==null&&(Ee.data=he)))),(he=xE?OE(r,a):AE(r,a))&&(b=Ja(b,"onBeforeInput"),0<b.length&&(j=new Yh("onBeforeInput","beforeinput",null,a,j),$.push({event:j,listeners:b}),j.data=he))}Ep($,s)})}function mo(r,s,a){return{instance:r,listener:s,currentTarget:a}}function Ja(r,s){for(var a=s+"Capture",c=[];r!==null;){var f=r,p=f.stateNode;f.tag===5&&p!==null&&(f=p,p=S(r,a),p!=null&&c.unshift(mo(r,p,f)),p=S(r,s),p!=null&&c.push(mo(r,p,f))),r=r.return}return c}function Qi(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Cp(r,s,a,c,f){for(var p=s._reactName,y=[];a!==null&&a!==c;){var w=a,C=w.alternate,b=w.stateNode;if(C!==null&&C===c)break;w.tag===5&&b!==null&&(w=b,f?(C=S(a,p),C!=null&&y.unshift(mo(a,C,w))):f||(C=S(a,p),C!=null&&y.push(mo(a,C,w)))),a=a.return}y.length!==0&&r.push({event:s,listeners:y})}var KE=/\r\n?/g,GE=/\u0000|\uFFFD/g;function Ip(r){return(typeof r=="string"?r:""+r).replace(KE,`
`).replace(GE,"")}function Xa(r,s,a){if(s=Ip(s),Ip(r)!==s&&a)throw Error(t(425))}function Za(){}var Ec=null,Sc=null;function Cc(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ic=typeof setTimeout=="function"?setTimeout:void 0,qE=typeof clearTimeout=="function"?clearTimeout:void 0,Tp=typeof Promise=="function"?Promise:void 0,YE=typeof queueMicrotask=="function"?queueMicrotask:typeof Tp<"u"?function(r){return Tp.resolve(null).then(r).catch(QE)}:Ic;function QE(r){setTimeout(function(){throw r})}function Tc(r,s){var a=s,c=0;do{var f=a.nextSibling;if(r.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(c===0){r.removeChild(f),so(s);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=f}while(a);so(s)}function kr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function kp(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return r;s--}else a==="/$"&&s++}r=r.previousSibling}return null}var Ji=Math.random().toString(36).slice(2),Dn="__reactFiber$"+Ji,_o="__reactProps$"+Ji,Qn="__reactContainer$"+Ji,kc="__reactEvents$"+Ji,JE="__reactListeners$"+Ji,XE="__reactHandles$"+Ji;function hi(r){var s=r[Dn];if(s)return s;for(var a=r.parentNode;a;){if(s=a[Qn]||a[Dn]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=kp(r);r!==null;){if(a=r[Dn])return a;r=kp(r)}return s}r=a,a=r.parentNode}return null}function yo(r){return r=r[Dn]||r[Qn],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Xi(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function el(r){return r[_o]||null}var Rc=[],Zi=-1;function Rr(r){return{current:r}}function it(r){0>Zi||(r.current=Rc[Zi],Rc[Zi]=null,Zi--)}function Qe(r,s){Zi++,Rc[Zi]=r.current,r.current=s}var Pr={},Lt=Rr(Pr),Kt=Rr(!1),pi=Pr;function es(r,s){var a=r.type.contextTypes;if(!a)return Pr;var c=r.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===s)return c.__reactInternalMemoizedMaskedChildContext;var f={},p;for(p in a)f[p]=s[p];return c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=f),f}function Gt(r){return r=r.childContextTypes,r!=null}function tl(){it(Kt),it(Lt)}function Rp(r,s,a){if(Lt.current!==Pr)throw Error(t(168));Qe(Lt,s),Qe(Kt,a)}function Pp(r,s,a){var c=r.stateNode;if(s=s.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var f in c)if(!(f in s))throw Error(t(108,$e(r)||"Unknown",f));return Y({},a,c)}function nl(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Pr,pi=Lt.current,Qe(Lt,r),Qe(Kt,Kt.current),!0}function Np(r,s,a){var c=r.stateNode;if(!c)throw Error(t(169));a?(r=Pp(r,s,pi),c.__reactInternalMemoizedMergedChildContext=r,it(Kt),it(Lt),Qe(Lt,r)):it(Kt),Qe(Kt,a)}var Jn=null,rl=!1,Pc=!1;function xp(r){Jn===null?Jn=[r]:Jn.push(r)}function ZE(r){rl=!0,xp(r)}function Nr(){if(!Pc&&Jn!==null){Pc=!0;var r=0,s=Be;try{var a=Jn;for(Be=1;r<a.length;r++){var c=a[r];do c=c(!0);while(c!==null)}Jn=null,rl=!1}catch(f){throw Jn!==null&&(Jn=Jn.slice(r+1)),qn(_n,Nr),f}finally{Be=s,Pc=!1}}return null}var ts=[],ns=0,il=null,sl=0,ln=[],un=0,gi=null,Xn=1,Zn="";function mi(r,s){ts[ns++]=sl,ts[ns++]=il,il=r,sl=s}function Op(r,s,a){ln[un++]=Xn,ln[un++]=Zn,ln[un++]=gi,gi=r;var c=Xn;r=Zn;var f=32-St(c)-1;c&=~(1<<f),a+=1;var p=32-St(s)+f;if(30<p){var y=f-f%5;p=(c&(1<<y)-1).toString(32),c>>=y,f-=y,Xn=1<<32-St(s)+f|a<<f|c,Zn=p+r}else Xn=1<<p|a<<f|c,Zn=r}function Nc(r){r.return!==null&&(mi(r,1),Op(r,1,0))}function xc(r){for(;r===il;)il=ts[--ns],ts[ns]=null,sl=ts[--ns],ts[ns]=null;for(;r===gi;)gi=ln[--un],ln[un]=null,Zn=ln[--un],ln[un]=null,Xn=ln[--un],ln[un]=null}var tn=null,nn=null,st=!1,wn=null;function Ap(r,s){var a=hn(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=r,s=r.deletions,s===null?(r.deletions=[a],r.flags|=16):s.push(a)}function bp(r,s){switch(r.tag){case 5:var a=r.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,tn=r,nn=kr(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,tn=r,nn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=gi!==null?{id:Xn,overflow:Zn}:null,r.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=hn(18,null,null,0),a.stateNode=s,a.return=r,r.child=a,tn=r,nn=null,!0):!1;default:return!1}}function Oc(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Ac(r){if(st){var s=nn;if(s){var a=s;if(!bp(r,s)){if(Oc(r))throw Error(t(418));s=kr(a.nextSibling);var c=tn;s&&bp(r,s)?Ap(c,a):(r.flags=r.flags&-4097|2,st=!1,tn=r)}}else{if(Oc(r))throw Error(t(418));r.flags=r.flags&-4097|2,st=!1,tn=r}}}function Lp(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;tn=r}function ol(r){if(r!==tn)return!1;if(!st)return Lp(r),st=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Cc(r.type,r.memoizedProps)),s&&(s=nn)){if(Oc(r))throw Dp(),Error(t(418));for(;s;)Ap(r,s),s=kr(s.nextSibling)}if(Lp(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(s===0){nn=kr(r.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}r=r.nextSibling}nn=null}}else nn=tn?kr(r.stateNode.nextSibling):null;return!0}function Dp(){for(var r=nn;r;)r=kr(r.nextSibling)}function rs(){nn=tn=null,st=!1}function bc(r){wn===null?wn=[r]:wn.push(r)}var eS=G.ReactCurrentBatchConfig;function vo(r,s,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var c=a.stateNode}if(!c)throw Error(t(147,r));var f=c,p=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===p?s.ref:(s=function(y){var w=f.refs;y===null?delete w[p]:w[p]=y},s._stringRef=p,s)}if(typeof r!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,r))}return r}function al(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Mp(r){var s=r._init;return s(r._payload)}function Fp(r){function s(x,I){if(r){var O=x.deletions;O===null?(x.deletions=[I],x.flags|=16):O.push(I)}}function a(x,I){if(!r)return null;for(;I!==null;)s(x,I),I=I.sibling;return null}function c(x,I){for(x=new Map;I!==null;)I.key!==null?x.set(I.key,I):x.set(I.index,I),I=I.sibling;return x}function f(x,I){return x=Fr(x,I),x.index=0,x.sibling=null,x}function p(x,I,O){return x.index=O,r?(O=x.alternate,O!==null?(O=O.index,O<I?(x.flags|=2,I):O):(x.flags|=2,I)):(x.flags|=1048576,I)}function y(x){return r&&x.alternate===null&&(x.flags|=2),x}function w(x,I,O,B){return I===null||I.tag!==6?(I=Id(O,x.mode,B),I.return=x,I):(I=f(I,O),I.return=x,I)}function C(x,I,O,B){var ue=O.type;return ue===ae?j(x,I,O.props.children,B,O.key):I!==null&&(I.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===Ze&&Mp(ue)===I.type)?(B=f(I,O.props),B.ref=vo(x,I,O),B.return=x,B):(B=Ol(O.type,O.key,O.props,null,x.mode,B),B.ref=vo(x,I,O),B.return=x,B)}function b(x,I,O,B){return I===null||I.tag!==4||I.stateNode.containerInfo!==O.containerInfo||I.stateNode.implementation!==O.implementation?(I=Td(O,x.mode,B),I.return=x,I):(I=f(I,O.children||[]),I.return=x,I)}function j(x,I,O,B,ue){return I===null||I.tag!==7?(I=Ii(O,x.mode,B,ue),I.return=x,I):(I=f(I,O),I.return=x,I)}function $(x,I,O){if(typeof I=="string"&&I!==""||typeof I=="number")return I=Id(""+I,x.mode,O),I.return=x,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case _e:return O=Ol(I.type,I.key,I.props,null,x.mode,O),O.ref=vo(x,null,I),O.return=x,O;case A:return I=Td(I,x.mode,O),I.return=x,I;case Ze:var B=I._init;return $(x,B(I._payload),O)}if(oi(I)||Z(I))return I=Ii(I,x.mode,O,null),I.return=x,I;al(x,I)}return null}function U(x,I,O,B){var ue=I!==null?I.key:null;if(typeof O=="string"&&O!==""||typeof O=="number")return ue!==null?null:w(x,I,""+O,B);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case _e:return O.key===ue?C(x,I,O,B):null;case A:return O.key===ue?b(x,I,O,B):null;case Ze:return ue=O._init,U(x,I,ue(O._payload),B)}if(oi(O)||Z(O))return ue!==null?null:j(x,I,O,B,null);al(x,O)}return null}function X(x,I,O,B,ue){if(typeof B=="string"&&B!==""||typeof B=="number")return x=x.get(O)||null,w(I,x,""+B,ue);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case _e:return x=x.get(B.key===null?O:B.key)||null,C(I,x,B,ue);case A:return x=x.get(B.key===null?O:B.key)||null,b(I,x,B,ue);case Ze:var fe=B._init;return X(x,I,O,fe(B._payload),ue)}if(oi(B)||Z(B))return x=x.get(O)||null,j(I,x,B,ue,null);al(I,B)}return null}function se(x,I,O,B){for(var ue=null,fe=null,he=I,Ee=I=0,Tt=null;he!==null&&Ee<O.length;Ee++){he.index>Ee?(Tt=he,he=null):Tt=he.sibling;var Ue=U(x,he,O[Ee],B);if(Ue===null){he===null&&(he=Tt);break}r&&he&&Ue.alternate===null&&s(x,he),I=p(Ue,I,Ee),fe===null?ue=Ue:fe.sibling=Ue,fe=Ue,he=Tt}if(Ee===O.length)return a(x,he),st&&mi(x,Ee),ue;if(he===null){for(;Ee<O.length;Ee++)he=$(x,O[Ee],B),he!==null&&(I=p(he,I,Ee),fe===null?ue=he:fe.sibling=he,fe=he);return st&&mi(x,Ee),ue}for(he=c(x,he);Ee<O.length;Ee++)Tt=X(he,x,Ee,O[Ee],B),Tt!==null&&(r&&Tt.alternate!==null&&he.delete(Tt.key===null?Ee:Tt.key),I=p(Tt,I,Ee),fe===null?ue=Tt:fe.sibling=Tt,fe=Tt);return r&&he.forEach(function(Ur){return s(x,Ur)}),st&&mi(x,Ee),ue}function oe(x,I,O,B){var ue=Z(O);if(typeof ue!="function")throw Error(t(150));if(O=ue.call(O),O==null)throw Error(t(151));for(var fe=ue=null,he=I,Ee=I=0,Tt=null,Ue=O.next();he!==null&&!Ue.done;Ee++,Ue=O.next()){he.index>Ee?(Tt=he,he=null):Tt=he.sibling;var Ur=U(x,he,Ue.value,B);if(Ur===null){he===null&&(he=Tt);break}r&&he&&Ur.alternate===null&&s(x,he),I=p(Ur,I,Ee),fe===null?ue=Ur:fe.sibling=Ur,fe=Ur,he=Tt}if(Ue.done)return a(x,he),st&&mi(x,Ee),ue;if(he===null){for(;!Ue.done;Ee++,Ue=O.next())Ue=$(x,Ue.value,B),Ue!==null&&(I=p(Ue,I,Ee),fe===null?ue=Ue:fe.sibling=Ue,fe=Ue);return st&&mi(x,Ee),ue}for(he=c(x,he);!Ue.done;Ee++,Ue=O.next())Ue=X(he,x,Ee,Ue.value,B),Ue!==null&&(r&&Ue.alternate!==null&&he.delete(Ue.key===null?Ee:Ue.key),I=p(Ue,I,Ee),fe===null?ue=Ue:fe.sibling=Ue,fe=Ue);return r&&he.forEach(function(AS){return s(x,AS)}),st&&mi(x,Ee),ue}function ht(x,I,O,B){if(typeof O=="object"&&O!==null&&O.type===ae&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case _e:e:{for(var ue=O.key,fe=I;fe!==null;){if(fe.key===ue){if(ue=O.type,ue===ae){if(fe.tag===7){a(x,fe.sibling),I=f(fe,O.props.children),I.return=x,x=I;break e}}else if(fe.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===Ze&&Mp(ue)===fe.type){a(x,fe.sibling),I=f(fe,O.props),I.ref=vo(x,fe,O),I.return=x,x=I;break e}a(x,fe);break}else s(x,fe);fe=fe.sibling}O.type===ae?(I=Ii(O.props.children,x.mode,B,O.key),I.return=x,x=I):(B=Ol(O.type,O.key,O.props,null,x.mode,B),B.ref=vo(x,I,O),B.return=x,x=B)}return y(x);case A:e:{for(fe=O.key;I!==null;){if(I.key===fe)if(I.tag===4&&I.stateNode.containerInfo===O.containerInfo&&I.stateNode.implementation===O.implementation){a(x,I.sibling),I=f(I,O.children||[]),I.return=x,x=I;break e}else{a(x,I);break}else s(x,I);I=I.sibling}I=Td(O,x.mode,B),I.return=x,x=I}return y(x);case Ze:return fe=O._init,ht(x,I,fe(O._payload),B)}if(oi(O))return se(x,I,O,B);if(Z(O))return oe(x,I,O,B);al(x,O)}return typeof O=="string"&&O!==""||typeof O=="number"?(O=""+O,I!==null&&I.tag===6?(a(x,I.sibling),I=f(I,O),I.return=x,x=I):(a(x,I),I=Id(O,x.mode,B),I.return=x,x=I),y(x)):a(x,I)}return ht}var is=Fp(!0),Up=Fp(!1),ll=Rr(null),ul=null,ss=null,Lc=null;function Dc(){Lc=ss=ul=null}function Mc(r){var s=ll.current;it(ll),r._currentValue=s}function Fc(r,s,a){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===a)break;r=r.return}}function os(r,s){ul=r,Lc=ss=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&s&&(qt=!0),r.firstContext=null)}function cn(r){var s=r._currentValue;if(Lc!==r)if(r={context:r,memoizedValue:s,next:null},ss===null){if(ul===null)throw Error(t(308));ss=r,ul.dependencies={lanes:0,firstContext:r}}else ss=ss.next=r;return s}var _i=null;function Uc(r){_i===null?_i=[r]:_i.push(r)}function jp(r,s,a,c){var f=s.interleaved;return f===null?(a.next=a,Uc(s)):(a.next=f.next,f.next=a),s.interleaved=a,er(r,c)}function er(r,s){r.lanes|=s;var a=r.alternate;for(a!==null&&(a.lanes|=s),a=r,r=r.return;r!==null;)r.childLanes|=s,a=r.alternate,a!==null&&(a.childLanes|=s),a=r,r=r.return;return a.tag===3?a.stateNode:null}var xr=!1;function jc(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zp(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function tr(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function Or(r,s,a){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,Fe&2){var f=c.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),c.pending=s,er(r,a)}return f=c.interleaved,f===null?(s.next=s,Uc(c)):(s.next=f.next,f.next=s),c.interleaved=s,er(r,a)}function cl(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var c=s.lanes;c&=r.pendingLanes,a|=c,s.lanes=a,Zu(r,a)}}function $p(r,s){var a=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var f=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var y={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};p===null?f=p=y:p=p.next=y,a=a.next}while(a!==null);p===null?f=p=s:p=p.next=s}else f=p=s;a={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:c.shared,effects:c.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}function dl(r,s,a,c){var f=r.updateQueue;xr=!1;var p=f.firstBaseUpdate,y=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var C=w,b=C.next;C.next=null,y===null?p=b:y.next=b,y=C;var j=r.alternate;j!==null&&(j=j.updateQueue,w=j.lastBaseUpdate,w!==y&&(w===null?j.firstBaseUpdate=b:w.next=b,j.lastBaseUpdate=C))}if(p!==null){var $=f.baseState;y=0,j=b=C=null,w=p;do{var U=w.lane,X=w.eventTime;if((c&U)===U){j!==null&&(j=j.next={eventTime:X,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var se=r,oe=w;switch(U=s,X=a,oe.tag){case 1:if(se=oe.payload,typeof se=="function"){$=se.call(X,$,U);break e}$=se;break e;case 3:se.flags=se.flags&-65537|128;case 0:if(se=oe.payload,U=typeof se=="function"?se.call(X,$,U):se,U==null)break e;$=Y({},$,U);break e;case 2:xr=!0}}w.callback!==null&&w.lane!==0&&(r.flags|=64,U=f.effects,U===null?f.effects=[w]:U.push(w))}else X={eventTime:X,lane:U,tag:w.tag,payload:w.payload,callback:w.callback,next:null},j===null?(b=j=X,C=$):j=j.next=X,y|=U;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;U=w,w=U.next,U.next=null,f.lastBaseUpdate=U,f.shared.pending=null}}while(!0);if(j===null&&(C=$),f.baseState=C,f.firstBaseUpdate=b,f.lastBaseUpdate=j,s=f.shared.interleaved,s!==null){f=s;do y|=f.lane,f=f.next;while(f!==s)}else p===null&&(f.shared.lanes=0);wi|=y,r.lanes=y,r.memoizedState=$}}function Vp(r,s,a){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var c=r[s],f=c.callback;if(f!==null){if(c.callback=null,c=a,typeof f!="function")throw Error(t(191,f));f.call(c)}}}var wo={},Mn=Rr(wo),Eo=Rr(wo),So=Rr(wo);function yi(r){if(r===wo)throw Error(t(174));return r}function zc(r,s){switch(Qe(So,s),Qe(Eo,r),Qe(Mn,wo),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:on(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=on(s,r)}it(Mn),Qe(Mn,s)}function as(){it(Mn),it(Eo),it(So)}function Bp(r){yi(So.current);var s=yi(Mn.current),a=on(s,r.type);s!==a&&(Qe(Eo,r),Qe(Mn,a))}function $c(r){Eo.current===r&&(it(Mn),it(Eo))}var at=Rr(0);function fl(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Vc=[];function Bc(){for(var r=0;r<Vc.length;r++)Vc[r]._workInProgressVersionPrimary=null;Vc.length=0}var hl=G.ReactCurrentDispatcher,Wc=G.ReactCurrentBatchConfig,vi=0,lt=null,yt=null,Ct=null,pl=!1,Co=!1,Io=0,tS=0;function Dt(){throw Error(t(321))}function Hc(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!vn(r[a],s[a]))return!1;return!0}function Kc(r,s,a,c,f,p){if(vi=p,lt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,hl.current=r===null||r.memoizedState===null?sS:oS,r=a(c,f),Co){p=0;do{if(Co=!1,Io=0,25<=p)throw Error(t(301));p+=1,Ct=yt=null,s.updateQueue=null,hl.current=aS,r=a(c,f)}while(Co)}if(hl.current=_l,s=yt!==null&&yt.next!==null,vi=0,Ct=yt=lt=null,pl=!1,s)throw Error(t(300));return r}function Gc(){var r=Io!==0;return Io=0,r}function Fn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?lt.memoizedState=Ct=r:Ct=Ct.next=r,Ct}function dn(){if(yt===null){var r=lt.alternate;r=r!==null?r.memoizedState:null}else r=yt.next;var s=Ct===null?lt.memoizedState:Ct.next;if(s!==null)Ct=s,yt=r;else{if(r===null)throw Error(t(310));yt=r,r={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},Ct===null?lt.memoizedState=Ct=r:Ct=Ct.next=r}return Ct}function To(r,s){return typeof s=="function"?s(r):s}function qc(r){var s=dn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var c=yt,f=c.baseQueue,p=a.pending;if(p!==null){if(f!==null){var y=f.next;f.next=p.next,p.next=y}c.baseQueue=f=p,a.pending=null}if(f!==null){p=f.next,c=c.baseState;var w=y=null,C=null,b=p;do{var j=b.lane;if((vi&j)===j)C!==null&&(C=C.next={lane:0,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null}),c=b.hasEagerState?b.eagerState:r(c,b.action);else{var $={lane:j,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null};C===null?(w=C=$,y=c):C=C.next=$,lt.lanes|=j,wi|=j}b=b.next}while(b!==null&&b!==p);C===null?y=c:C.next=w,vn(c,s.memoizedState)||(qt=!0),s.memoizedState=c,s.baseState=y,s.baseQueue=C,a.lastRenderedState=c}if(r=a.interleaved,r!==null){f=r;do p=f.lane,lt.lanes|=p,wi|=p,f=f.next;while(f!==r)}else f===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function Yc(r){var s=dn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var c=a.dispatch,f=a.pending,p=s.memoizedState;if(f!==null){a.pending=null;var y=f=f.next;do p=r(p,y.action),y=y.next;while(y!==f);vn(p,s.memoizedState)||(qt=!0),s.memoizedState=p,s.baseQueue===null&&(s.baseState=p),a.lastRenderedState=p}return[p,c]}function Wp(){}function Hp(r,s){var a=lt,c=dn(),f=s(),p=!vn(c.memoizedState,f);if(p&&(c.memoizedState=f,qt=!0),c=c.queue,Qc(qp.bind(null,a,c,r),[r]),c.getSnapshot!==s||p||Ct!==null&&Ct.memoizedState.tag&1){if(a.flags|=2048,ko(9,Gp.bind(null,a,c,f,s),void 0,null),It===null)throw Error(t(349));vi&30||Kp(a,s,f)}return f}function Kp(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=lt.updateQueue,s===null?(s={lastEffect:null,stores:null},lt.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function Gp(r,s,a,c){s.value=a,s.getSnapshot=c,Yp(s)&&Qp(r)}function qp(r,s,a){return a(function(){Yp(s)&&Qp(r)})}function Yp(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!vn(r,a)}catch{return!0}}function Qp(r){var s=er(r,1);s!==null&&In(s,r,1,-1)}function Jp(r){var s=Fn();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:To,lastRenderedState:r},s.queue=r,r=r.dispatch=iS.bind(null,lt,r),[s.memoizedState,r]}function ko(r,s,a,c){return r={tag:r,create:s,destroy:a,deps:c,next:null},s=lt.updateQueue,s===null?(s={lastEffect:null,stores:null},lt.updateQueue=s,s.lastEffect=r.next=r):(a=s.lastEffect,a===null?s.lastEffect=r.next=r:(c=a.next,a.next=r,r.next=c,s.lastEffect=r)),r}function Xp(){return dn().memoizedState}function gl(r,s,a,c){var f=Fn();lt.flags|=r,f.memoizedState=ko(1|s,a,void 0,c===void 0?null:c)}function ml(r,s,a,c){var f=dn();c=c===void 0?null:c;var p=void 0;if(yt!==null){var y=yt.memoizedState;if(p=y.destroy,c!==null&&Hc(c,y.deps)){f.memoizedState=ko(s,a,p,c);return}}lt.flags|=r,f.memoizedState=ko(1|s,a,p,c)}function Zp(r,s){return gl(8390656,8,r,s)}function Qc(r,s){return ml(2048,8,r,s)}function eg(r,s){return ml(4,2,r,s)}function tg(r,s){return ml(4,4,r,s)}function ng(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function rg(r,s,a){return a=a!=null?a.concat([r]):null,ml(4,4,ng.bind(null,s,r),a)}function Jc(){}function ig(r,s){var a=dn();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&Hc(s,c[1])?c[0]:(a.memoizedState=[r,s],r)}function sg(r,s){var a=dn();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&Hc(s,c[1])?c[0]:(r=r(),a.memoizedState=[r,s],r)}function og(r,s,a){return vi&21?(vn(a,s)||(a=Mh(),lt.lanes|=a,wi|=a,r.baseState=!0),s):(r.baseState&&(r.baseState=!1,qt=!0),r.memoizedState=a)}function nS(r,s){var a=Be;Be=a!==0&&4>a?a:4,r(!0);var c=Wc.transition;Wc.transition={};try{r(!1),s()}finally{Be=a,Wc.transition=c}}function ag(){return dn().memoizedState}function rS(r,s,a){var c=Dr(r);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},lg(r))ug(s,a);else if(a=jp(r,s,a,c),a!==null){var f=$t();In(a,r,c,f),cg(a,s,c)}}function iS(r,s,a){var c=Dr(r),f={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(lg(r))ug(s,f);else{var p=r.alternate;if(r.lanes===0&&(p===null||p.lanes===0)&&(p=s.lastRenderedReducer,p!==null))try{var y=s.lastRenderedState,w=p(y,a);if(f.hasEagerState=!0,f.eagerState=w,vn(w,y)){var C=s.interleaved;C===null?(f.next=f,Uc(s)):(f.next=C.next,C.next=f),s.interleaved=f;return}}catch{}finally{}a=jp(r,s,f,c),a!==null&&(f=$t(),In(a,r,c,f),cg(a,s,c))}}function lg(r){var s=r.alternate;return r===lt||s!==null&&s===lt}function ug(r,s){Co=pl=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function cg(r,s,a){if(a&4194240){var c=s.lanes;c&=r.pendingLanes,a|=c,s.lanes=a,Zu(r,a)}}var _l={readContext:cn,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useInsertionEffect:Dt,useLayoutEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useMutableSource:Dt,useSyncExternalStore:Dt,useId:Dt,unstable_isNewReconciler:!1},sS={readContext:cn,useCallback:function(r,s){return Fn().memoizedState=[r,s===void 0?null:s],r},useContext:cn,useEffect:Zp,useImperativeHandle:function(r,s,a){return a=a!=null?a.concat([r]):null,gl(4194308,4,ng.bind(null,s,r),a)},useLayoutEffect:function(r,s){return gl(4194308,4,r,s)},useInsertionEffect:function(r,s){return gl(4,2,r,s)},useMemo:function(r,s){var a=Fn();return s=s===void 0?null:s,r=r(),a.memoizedState=[r,s],r},useReducer:function(r,s,a){var c=Fn();return s=a!==void 0?a(s):s,c.memoizedState=c.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},c.queue=r,r=r.dispatch=rS.bind(null,lt,r),[c.memoizedState,r]},useRef:function(r){var s=Fn();return r={current:r},s.memoizedState=r},useState:Jp,useDebugValue:Jc,useDeferredValue:function(r){return Fn().memoizedState=r},useTransition:function(){var r=Jp(!1),s=r[0];return r=nS.bind(null,r[1]),Fn().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,a){var c=lt,f=Fn();if(st){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),It===null)throw Error(t(349));vi&30||Kp(c,s,a)}f.memoizedState=a;var p={value:a,getSnapshot:s};return f.queue=p,Zp(qp.bind(null,c,p,r),[r]),c.flags|=2048,ko(9,Gp.bind(null,c,p,a,s),void 0,null),a},useId:function(){var r=Fn(),s=It.identifierPrefix;if(st){var a=Zn,c=Xn;a=(c&~(1<<32-St(c)-1)).toString(32)+a,s=":"+s+"R"+a,a=Io++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=tS++,s=":"+s+"r"+a.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},oS={readContext:cn,useCallback:ig,useContext:cn,useEffect:Qc,useImperativeHandle:rg,useInsertionEffect:eg,useLayoutEffect:tg,useMemo:sg,useReducer:qc,useRef:Xp,useState:function(){return qc(To)},useDebugValue:Jc,useDeferredValue:function(r){var s=dn();return og(s,yt.memoizedState,r)},useTransition:function(){var r=qc(To)[0],s=dn().memoizedState;return[r,s]},useMutableSource:Wp,useSyncExternalStore:Hp,useId:ag,unstable_isNewReconciler:!1},aS={readContext:cn,useCallback:ig,useContext:cn,useEffect:Qc,useImperativeHandle:rg,useInsertionEffect:eg,useLayoutEffect:tg,useMemo:sg,useReducer:Yc,useRef:Xp,useState:function(){return Yc(To)},useDebugValue:Jc,useDeferredValue:function(r){var s=dn();return yt===null?s.memoizedState=r:og(s,yt.memoizedState,r)},useTransition:function(){var r=Yc(To)[0],s=dn().memoizedState;return[r,s]},useMutableSource:Wp,useSyncExternalStore:Hp,useId:ag,unstable_isNewReconciler:!1};function En(r,s){if(r&&r.defaultProps){s=Y({},s),r=r.defaultProps;for(var a in r)s[a]===void 0&&(s[a]=r[a]);return s}return s}function Xc(r,s,a,c){s=r.memoizedState,a=a(c,s),a=a==null?s:Y({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var yl={isMounted:function(r){return(r=r._reactInternals)?Ie(r)===r:!1},enqueueSetState:function(r,s,a){r=r._reactInternals;var c=$t(),f=Dr(r),p=tr(c,f);p.payload=s,a!=null&&(p.callback=a),s=Or(r,p,f),s!==null&&(In(s,r,f,c),cl(s,r,f))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var c=$t(),f=Dr(r),p=tr(c,f);p.tag=1,p.payload=s,a!=null&&(p.callback=a),s=Or(r,p,f),s!==null&&(In(s,r,f,c),cl(s,r,f))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=$t(),c=Dr(r),f=tr(a,c);f.tag=2,s!=null&&(f.callback=s),s=Or(r,f,c),s!==null&&(In(s,r,c,a),cl(s,r,c))}};function dg(r,s,a,c,f,p,y){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,p,y):s.prototype&&s.prototype.isPureReactComponent?!fo(a,c)||!fo(f,p):!0}function fg(r,s,a){var c=!1,f=Pr,p=s.contextType;return typeof p=="object"&&p!==null?p=cn(p):(f=Gt(s)?pi:Lt.current,c=s.contextTypes,p=(c=c!=null)?es(r,f):Pr),s=new s(a,p),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=yl,r.stateNode=s,s._reactInternals=r,c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=f,r.__reactInternalMemoizedMaskedChildContext=p),s}function hg(r,s,a,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,c),s.state!==r&&yl.enqueueReplaceState(s,s.state,null)}function Zc(r,s,a,c){var f=r.stateNode;f.props=a,f.state=r.memoizedState,f.refs={},jc(r);var p=s.contextType;typeof p=="object"&&p!==null?f.context=cn(p):(p=Gt(s)?pi:Lt.current,f.context=es(r,p)),f.state=r.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(Xc(r,s,p,a),f.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(s=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),s!==f.state&&yl.enqueueReplaceState(f,f.state,null),dl(r,a,f,c),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308)}function ls(r,s){try{var a="",c=s;do a+=Re(c),c=c.return;while(c);var f=a}catch(p){f=`
Error generating stack: `+p.message+`
`+p.stack}return{value:r,source:s,stack:f,digest:null}}function ed(r,s,a){return{value:r,source:null,stack:a??null,digest:s??null}}function td(r,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var lS=typeof WeakMap=="function"?WeakMap:Map;function pg(r,s,a){a=tr(-1,a),a.tag=3,a.payload={element:null};var c=s.value;return a.callback=function(){Tl||(Tl=!0,md=c),td(r,s)},a}function gg(r,s,a){a=tr(-1,a),a.tag=3;var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=s.value;a.payload=function(){return c(f)},a.callback=function(){td(r,s)}}var p=r.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(a.callback=function(){td(r,s),typeof c!="function"&&(br===null?br=new Set([this]):br.add(this));var y=s.stack;this.componentDidCatch(s.value,{componentStack:y!==null?y:""})}),a}function mg(r,s,a){var c=r.pingCache;if(c===null){c=r.pingCache=new lS;var f=new Set;c.set(s,f)}else f=c.get(s),f===void 0&&(f=new Set,c.set(s,f));f.has(a)||(f.add(a),r=SS.bind(null,r,s,a),s.then(r,r))}function _g(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function yg(r,s,a,c,f){return r.mode&1?(r.flags|=65536,r.lanes=f,r):(r===s?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=tr(-1,1),s.tag=2,Or(a,s,1))),a.lanes|=1),r)}var uS=G.ReactCurrentOwner,qt=!1;function zt(r,s,a,c){s.child=r===null?Up(s,null,a,c):is(s,r.child,a,c)}function vg(r,s,a,c,f){a=a.render;var p=s.ref;return os(s,f),c=Kc(r,s,a,c,p,f),a=Gc(),r!==null&&!qt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,nr(r,s,f)):(st&&a&&Nc(s),s.flags|=1,zt(r,s,c,f),s.child)}function wg(r,s,a,c,f){if(r===null){var p=a.type;return typeof p=="function"&&!Cd(p)&&p.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=p,Eg(r,s,p,c,f)):(r=Ol(a.type,null,c,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(p=r.child,!(r.lanes&f)){var y=p.memoizedProps;if(a=a.compare,a=a!==null?a:fo,a(y,c)&&r.ref===s.ref)return nr(r,s,f)}return s.flags|=1,r=Fr(p,c),r.ref=s.ref,r.return=s,s.child=r}function Eg(r,s,a,c,f){if(r!==null){var p=r.memoizedProps;if(fo(p,c)&&r.ref===s.ref)if(qt=!1,s.pendingProps=c=p,(r.lanes&f)!==0)r.flags&131072&&(qt=!0);else return s.lanes=r.lanes,nr(r,s,f)}return nd(r,s,a,c,f)}function Sg(r,s,a){var c=s.pendingProps,f=c.children,p=r!==null?r.memoizedState:null;if(c.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(cs,rn),rn|=a;else{if(!(a&1073741824))return r=p!==null?p.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Qe(cs,rn),rn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=p!==null?p.baseLanes:a,Qe(cs,rn),rn|=c}else p!==null?(c=p.baseLanes|a,s.memoizedState=null):c=a,Qe(cs,rn),rn|=c;return zt(r,s,f,a),s.child}function Cg(r,s){var a=s.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function nd(r,s,a,c,f){var p=Gt(a)?pi:Lt.current;return p=es(s,p),os(s,f),a=Kc(r,s,a,c,p,f),c=Gc(),r!==null&&!qt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,nr(r,s,f)):(st&&c&&Nc(s),s.flags|=1,zt(r,s,a,f),s.child)}function Ig(r,s,a,c,f){if(Gt(a)){var p=!0;nl(s)}else p=!1;if(os(s,f),s.stateNode===null)wl(r,s),fg(s,a,c),Zc(s,a,c,f),c=!0;else if(r===null){var y=s.stateNode,w=s.memoizedProps;y.props=w;var C=y.context,b=a.contextType;typeof b=="object"&&b!==null?b=cn(b):(b=Gt(a)?pi:Lt.current,b=es(s,b));var j=a.getDerivedStateFromProps,$=typeof j=="function"||typeof y.getSnapshotBeforeUpdate=="function";$||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==c||C!==b)&&hg(s,y,c,b),xr=!1;var U=s.memoizedState;y.state=U,dl(s,c,y,f),C=s.memoizedState,w!==c||U!==C||Kt.current||xr?(typeof j=="function"&&(Xc(s,a,j,c),C=s.memoizedState),(w=xr||dg(s,a,w,c,U,C,b))?($||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=C),y.props=c,y.state=C,y.context=b,c=w):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{y=s.stateNode,zp(r,s),w=s.memoizedProps,b=s.type===s.elementType?w:En(s.type,w),y.props=b,$=s.pendingProps,U=y.context,C=a.contextType,typeof C=="object"&&C!==null?C=cn(C):(C=Gt(a)?pi:Lt.current,C=es(s,C));var X=a.getDerivedStateFromProps;(j=typeof X=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==$||U!==C)&&hg(s,y,c,C),xr=!1,U=s.memoizedState,y.state=U,dl(s,c,y,f);var se=s.memoizedState;w!==$||U!==se||Kt.current||xr?(typeof X=="function"&&(Xc(s,a,X,c),se=s.memoizedState),(b=xr||dg(s,a,b,c,U,se,C)||!1)?(j||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,se,C),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,se,C)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||w===r.memoizedProps&&U===r.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===r.memoizedProps&&U===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=se),y.props=c,y.state=se,y.context=C,c=b):(typeof y.componentDidUpdate!="function"||w===r.memoizedProps&&U===r.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===r.memoizedProps&&U===r.memoizedState||(s.flags|=1024),c=!1)}return rd(r,s,a,c,p,f)}function rd(r,s,a,c,f,p){Cg(r,s);var y=(s.flags&128)!==0;if(!c&&!y)return f&&Np(s,a,!1),nr(r,s,p);c=s.stateNode,uS.current=s;var w=y&&typeof a.getDerivedStateFromError!="function"?null:c.render();return s.flags|=1,r!==null&&y?(s.child=is(s,r.child,null,p),s.child=is(s,null,w,p)):zt(r,s,w,p),s.memoizedState=c.state,f&&Np(s,a,!0),s.child}function Tg(r){var s=r.stateNode;s.pendingContext?Rp(r,s.pendingContext,s.pendingContext!==s.context):s.context&&Rp(r,s.context,!1),zc(r,s.containerInfo)}function kg(r,s,a,c,f){return rs(),bc(f),s.flags|=256,zt(r,s,a,c),s.child}var id={dehydrated:null,treeContext:null,retryLane:0};function sd(r){return{baseLanes:r,cachePool:null,transitions:null}}function Rg(r,s,a){var c=s.pendingProps,f=at.current,p=!1,y=(s.flags&128)!==0,w;if((w=y)||(w=r!==null&&r.memoizedState===null?!1:(f&2)!==0),w?(p=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(f|=1),Qe(at,f&1),r===null)return Ac(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(s.mode&1?r.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(y=c.children,r=c.fallback,p?(c=s.mode,p=s.child,y={mode:"hidden",children:y},!(c&1)&&p!==null?(p.childLanes=0,p.pendingProps=y):p=Al(y,c,0,null),r=Ii(r,c,a,null),p.return=s,r.return=s,p.sibling=r,s.child=p,s.child.memoizedState=sd(a),s.memoizedState=id,r):od(s,y));if(f=r.memoizedState,f!==null&&(w=f.dehydrated,w!==null))return cS(r,s,y,c,w,f,a);if(p){p=c.fallback,y=s.mode,f=r.child,w=f.sibling;var C={mode:"hidden",children:c.children};return!(y&1)&&s.child!==f?(c=s.child,c.childLanes=0,c.pendingProps=C,s.deletions=null):(c=Fr(f,C),c.subtreeFlags=f.subtreeFlags&14680064),w!==null?p=Fr(w,p):(p=Ii(p,y,a,null),p.flags|=2),p.return=s,c.return=s,c.sibling=p,s.child=c,c=p,p=s.child,y=r.child.memoizedState,y=y===null?sd(a):{baseLanes:y.baseLanes|a,cachePool:null,transitions:y.transitions},p.memoizedState=y,p.childLanes=r.childLanes&~a,s.memoizedState=id,c}return p=r.child,r=p.sibling,c=Fr(p,{mode:"visible",children:c.children}),!(s.mode&1)&&(c.lanes=a),c.return=s,c.sibling=null,r!==null&&(a=s.deletions,a===null?(s.deletions=[r],s.flags|=16):a.push(r)),s.child=c,s.memoizedState=null,c}function od(r,s){return s=Al({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function vl(r,s,a,c){return c!==null&&bc(c),is(s,r.child,null,a),r=od(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function cS(r,s,a,c,f,p,y){if(a)return s.flags&256?(s.flags&=-257,c=ed(Error(t(422))),vl(r,s,y,c)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(p=c.fallback,f=s.mode,c=Al({mode:"visible",children:c.children},f,0,null),p=Ii(p,f,y,null),p.flags|=2,c.return=s,p.return=s,c.sibling=p,s.child=c,s.mode&1&&is(s,r.child,null,y),s.child.memoizedState=sd(y),s.memoizedState=id,p);if(!(s.mode&1))return vl(r,s,y,null);if(f.data==="$!"){if(c=f.nextSibling&&f.nextSibling.dataset,c)var w=c.dgst;return c=w,p=Error(t(419)),c=ed(p,c,void 0),vl(r,s,y,c)}if(w=(y&r.childLanes)!==0,qt||w){if(c=It,c!==null){switch(y&-y){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=f&(c.suspendedLanes|y)?0:f,f!==0&&f!==p.retryLane&&(p.retryLane=f,er(r,f),In(c,r,f,-1))}return Sd(),c=ed(Error(t(421))),vl(r,s,y,c)}return f.data==="$?"?(s.flags|=128,s.child=r.child,s=CS.bind(null,r),f._reactRetry=s,null):(r=p.treeContext,nn=kr(f.nextSibling),tn=s,st=!0,wn=null,r!==null&&(ln[un++]=Xn,ln[un++]=Zn,ln[un++]=gi,Xn=r.id,Zn=r.overflow,gi=s),s=od(s,c.children),s.flags|=4096,s)}function Pg(r,s,a){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),Fc(r.return,s,a)}function ad(r,s,a,c,f){var p=r.memoizedState;p===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:f}:(p.isBackwards=s,p.rendering=null,p.renderingStartTime=0,p.last=c,p.tail=a,p.tailMode=f)}function Ng(r,s,a){var c=s.pendingProps,f=c.revealOrder,p=c.tail;if(zt(r,s,c.children,a),c=at.current,c&2)c=c&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Pg(r,a,s);else if(r.tag===19)Pg(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}if(Qe(at,c),!(s.mode&1))s.memoizedState=null;else switch(f){case"forwards":for(a=s.child,f=null;a!==null;)r=a.alternate,r!==null&&fl(r)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),ad(s,!1,f,a,p);break;case"backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&fl(r)===null){s.child=f;break}r=f.sibling,f.sibling=a,a=f,f=r}ad(s,!0,a,null,p);break;case"together":ad(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function wl(r,s){!(s.mode&1)&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function nr(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),wi|=s.lanes,!(a&s.childLanes))return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,a=Fr(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=Fr(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function dS(r,s,a){switch(s.tag){case 3:Tg(s),rs();break;case 5:Bp(s);break;case 1:Gt(s.type)&&nl(s);break;case 4:zc(s,s.stateNode.containerInfo);break;case 10:var c=s.type._context,f=s.memoizedProps.value;Qe(ll,c._currentValue),c._currentValue=f;break;case 13:if(c=s.memoizedState,c!==null)return c.dehydrated!==null?(Qe(at,at.current&1),s.flags|=128,null):a&s.child.childLanes?Rg(r,s,a):(Qe(at,at.current&1),r=nr(r,s,a),r!==null?r.sibling:null);Qe(at,at.current&1);break;case 19:if(c=(a&s.childLanes)!==0,r.flags&128){if(c)return Ng(r,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Qe(at,at.current),c)break;return null;case 22:case 23:return s.lanes=0,Sg(r,s,a)}return nr(r,s,a)}var xg,ld,Og,Ag;xg=function(r,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},ld=function(){},Og=function(r,s,a,c){var f=r.memoizedProps;if(f!==c){r=s.stateNode,yi(Mn.current);var p=null;switch(a){case"input":f=zs(r,f),c=zs(r,c),p=[];break;case"select":f=Y({},f,{value:void 0}),c=Y({},c,{value:void 0}),p=[];break;case"textarea":f=Ws(r,f),c=Ws(r,c),p=[];break;default:typeof f.onClick!="function"&&typeof c.onClick=="function"&&(r.onclick=Za)}Ys(a,c);var y;a=null;for(b in f)if(!c.hasOwnProperty(b)&&f.hasOwnProperty(b)&&f[b]!=null)if(b==="style"){var w=f[b];for(y in w)w.hasOwnProperty(y)&&(a||(a={}),a[y]="")}else b!=="dangerouslySetInnerHTML"&&b!=="children"&&b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(o.hasOwnProperty(b)?p||(p=[]):(p=p||[]).push(b,null));for(b in c){var C=c[b];if(w=f!=null?f[b]:void 0,c.hasOwnProperty(b)&&C!==w&&(C!=null||w!=null))if(b==="style")if(w){for(y in w)!w.hasOwnProperty(y)||C&&C.hasOwnProperty(y)||(a||(a={}),a[y]="");for(y in C)C.hasOwnProperty(y)&&w[y]!==C[y]&&(a||(a={}),a[y]=C[y])}else a||(p||(p=[]),p.push(b,a)),a=C;else b==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,w=w?w.__html:void 0,C!=null&&w!==C&&(p=p||[]).push(b,C)):b==="children"?typeof C!="string"&&typeof C!="number"||(p=p||[]).push(b,""+C):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&(o.hasOwnProperty(b)?(C!=null&&b==="onScroll"&&rt("scroll",r),p||w===C||(p=[])):(p=p||[]).push(b,C))}a&&(p=p||[]).push("style",a);var b=p;(s.updateQueue=b)&&(s.flags|=4)}},Ag=function(r,s,a,c){a!==c&&(s.flags|=4)};function Ro(r,s){if(!st)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function Mt(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,c=0;if(s)for(var f=r.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags&14680064,c|=f.flags&14680064,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=c,r.childLanes=a,s}function fS(r,s,a){var c=s.pendingProps;switch(xc(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(s),null;case 1:return Gt(s.type)&&tl(),Mt(s),null;case 3:return c=s.stateNode,as(),it(Kt),it(Lt),Bc(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(ol(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,wn!==null&&(vd(wn),wn=null))),ld(r,s),Mt(s),null;case 5:$c(s);var f=yi(So.current);if(a=s.type,r!==null&&s.stateNode!=null)Og(r,s,a,c,f),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!c){if(s.stateNode===null)throw Error(t(166));return Mt(s),null}if(r=yi(Mn.current),ol(s)){c=s.stateNode,a=s.type;var p=s.memoizedProps;switch(c[Dn]=s,c[_o]=p,r=(s.mode&1)!==0,a){case"dialog":rt("cancel",c),rt("close",c);break;case"iframe":case"object":case"embed":rt("load",c);break;case"video":case"audio":for(f=0;f<po.length;f++)rt(po[f],c);break;case"source":rt("error",c);break;case"img":case"image":case"link":rt("error",c),rt("load",c);break;case"details":rt("toggle",c);break;case"input":xn(c,p),rt("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!p.multiple},rt("invalid",c);break;case"textarea":On(c,p),rt("invalid",c)}Ys(a,p),f=null;for(var y in p)if(p.hasOwnProperty(y)){var w=p[y];y==="children"?typeof w=="string"?c.textContent!==w&&(p.suppressHydrationWarning!==!0&&Xa(c.textContent,w,r),f=["children",w]):typeof w=="number"&&c.textContent!==""+w&&(p.suppressHydrationWarning!==!0&&Xa(c.textContent,w,r),f=["children",""+w]):o.hasOwnProperty(y)&&w!=null&&y==="onScroll"&&rt("scroll",c)}switch(a){case"input":pt(c),Vs(c,p,!0);break;case"textarea":pt(c),Hs(c);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(c.onclick=Za)}c=f,s.updateQueue=c,c!==null&&(s.flags|=4)}else{y=f.nodeType===9?f:f.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Vi(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=y.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof c.is=="string"?r=y.createElement(a,{is:c.is}):(r=y.createElement(a),a==="select"&&(y=r,c.multiple?y.multiple=!0:c.size&&(y.size=c.size))):r=y.createElementNS(r,a),r[Dn]=s,r[_o]=c,xg(r,s,!1,!1),s.stateNode=r;e:{switch(y=Bi(a,c),a){case"dialog":rt("cancel",r),rt("close",r),f=c;break;case"iframe":case"object":case"embed":rt("load",r),f=c;break;case"video":case"audio":for(f=0;f<po.length;f++)rt(po[f],r);f=c;break;case"source":rt("error",r),f=c;break;case"img":case"image":case"link":rt("error",r),rt("load",r),f=c;break;case"details":rt("toggle",r),f=c;break;case"input":xn(r,c),f=zs(r,c),rt("invalid",r);break;case"option":f=c;break;case"select":r._wrapperState={wasMultiple:!!c.multiple},f=Y({},c,{value:void 0}),rt("invalid",r);break;case"textarea":On(r,c),f=Ws(r,c),rt("invalid",r);break;default:f=c}Ys(a,f),w=f;for(p in w)if(w.hasOwnProperty(p)){var C=w[p];p==="style"?qs(r,C):p==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,C!=null&&Ks(r,C)):p==="children"?typeof C=="string"?(a!=="textarea"||C!=="")&&An(r,C):typeof C=="number"&&An(r,""+C):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(o.hasOwnProperty(p)?C!=null&&p==="onScroll"&&rt("scroll",r):C!=null&&J(r,p,C,y))}switch(a){case"input":pt(r),Vs(r,c,!1);break;case"textarea":pt(r),Hs(r);break;case"option":c.value!=null&&r.setAttribute("value",""+Ve(c.value));break;case"select":r.multiple=!!c.multiple,p=c.value,p!=null?gr(r,!!c.multiple,p,!1):c.defaultValue!=null&&gr(r,!!c.multiple,c.defaultValue,!0);break;default:typeof f.onClick=="function"&&(r.onclick=Za)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Mt(s),null;case 6:if(r&&s.stateNode!=null)Ag(r,s,r.memoizedProps,c);else{if(typeof c!="string"&&s.stateNode===null)throw Error(t(166));if(a=yi(So.current),yi(Mn.current),ol(s)){if(c=s.stateNode,a=s.memoizedProps,c[Dn]=s,(p=c.nodeValue!==a)&&(r=tn,r!==null))switch(r.tag){case 3:Xa(c.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Xa(c.nodeValue,a,(r.mode&1)!==0)}p&&(s.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[Dn]=s,s.stateNode=c}return Mt(s),null;case 13:if(it(at),c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(st&&nn!==null&&s.mode&1&&!(s.flags&128))Dp(),rs(),s.flags|=98560,p=!1;else if(p=ol(s),c!==null&&c.dehydrated!==null){if(r===null){if(!p)throw Error(t(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(t(317));p[Dn]=s}else rs(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Mt(s),p=!1}else wn!==null&&(vd(wn),wn=null),p=!0;if(!p)return s.flags&65536?s:null}return s.flags&128?(s.lanes=a,s):(c=c!==null,c!==(r!==null&&r.memoizedState!==null)&&c&&(s.child.flags|=8192,s.mode&1&&(r===null||at.current&1?vt===0&&(vt=3):Sd())),s.updateQueue!==null&&(s.flags|=4),Mt(s),null);case 4:return as(),ld(r,s),r===null&&go(s.stateNode.containerInfo),Mt(s),null;case 10:return Mc(s.type._context),Mt(s),null;case 17:return Gt(s.type)&&tl(),Mt(s),null;case 19:if(it(at),p=s.memoizedState,p===null)return Mt(s),null;if(c=(s.flags&128)!==0,y=p.rendering,y===null)if(c)Ro(p,!1);else{if(vt!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(y=fl(r),y!==null){for(s.flags|=128,Ro(p,!1),c=y.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),s.subtreeFlags=0,c=a,a=s.child;a!==null;)p=a,r=c,p.flags&=14680066,y=p.alternate,y===null?(p.childLanes=0,p.lanes=r,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=y.childLanes,p.lanes=y.lanes,p.child=y.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=y.memoizedProps,p.memoizedState=y.memoizedState,p.updateQueue=y.updateQueue,p.type=y.type,r=y.dependencies,p.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return Qe(at,at.current&1|2),s.child}r=r.sibling}p.tail!==null&&tt()>ds&&(s.flags|=128,c=!0,Ro(p,!1),s.lanes=4194304)}else{if(!c)if(r=fl(y),r!==null){if(s.flags|=128,c=!0,a=r.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),Ro(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!st)return Mt(s),null}else 2*tt()-p.renderingStartTime>ds&&a!==1073741824&&(s.flags|=128,c=!0,Ro(p,!1),s.lanes=4194304);p.isBackwards?(y.sibling=s.child,s.child=y):(a=p.last,a!==null?a.sibling=y:s.child=y,p.last=y)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=tt(),s.sibling=null,a=at.current,Qe(at,c?a&1|2:a&1),s):(Mt(s),null);case 22:case 23:return Ed(),c=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==c&&(s.flags|=8192),c&&s.mode&1?rn&1073741824&&(Mt(s),s.subtreeFlags&6&&(s.flags|=8192)):Mt(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function hS(r,s){switch(xc(s),s.tag){case 1:return Gt(s.type)&&tl(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return as(),it(Kt),it(Lt),Bc(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 5:return $c(s),null;case 13:if(it(at),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));rs()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return it(at),null;case 4:return as(),null;case 10:return Mc(s.type._context),null;case 22:case 23:return Ed(),null;case 24:return null;default:return null}}var El=!1,Ft=!1,pS=typeof WeakSet=="function"?WeakSet:Set,re=null;function us(r,s){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){ct(r,s,c)}else a.current=null}function ud(r,s,a){try{a()}catch(c){ct(r,s,c)}}var bg=!1;function gS(r,s){if(Ec=$a,r=dp(),hc(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var f=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break e}var y=0,w=-1,C=-1,b=0,j=0,$=r,U=null;t:for(;;){for(var X;$!==a||f!==0&&$.nodeType!==3||(w=y+f),$!==p||c!==0&&$.nodeType!==3||(C=y+c),$.nodeType===3&&(y+=$.nodeValue.length),(X=$.firstChild)!==null;)U=$,$=X;for(;;){if($===r)break t;if(U===a&&++b===f&&(w=y),U===p&&++j===c&&(C=y),(X=$.nextSibling)!==null)break;$=U,U=$.parentNode}$=X}a=w===-1||C===-1?null:{start:w,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Sc={focusedElem:r,selectionRange:a},$a=!1,re=s;re!==null;)if(s=re,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,re=r;else for(;re!==null;){s=re;try{var se=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(se!==null){var oe=se.memoizedProps,ht=se.memoizedState,x=s.stateNode,I=x.getSnapshotBeforeUpdate(s.elementType===s.type?oe:En(s.type,oe),ht);x.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var O=s.stateNode.containerInfo;O.nodeType===1?O.textContent="":O.nodeType===9&&O.documentElement&&O.removeChild(O.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(B){ct(s,s.return,B)}if(r=s.sibling,r!==null){r.return=s.return,re=r;break}re=s.return}return se=bg,bg=!1,se}function Po(r,s,a){var c=s.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&r)===r){var p=f.destroy;f.destroy=void 0,p!==void 0&&ud(s,a,p)}f=f.next}while(f!==c)}}function Sl(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&r)===r){var c=a.create;a.destroy=c()}a=a.next}while(a!==s)}}function cd(r){var s=r.ref;if(s!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof s=="function"?s(r):s.current=r}}function Lg(r){var s=r.alternate;s!==null&&(r.alternate=null,Lg(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[Dn],delete s[_o],delete s[kc],delete s[JE],delete s[XE])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Dg(r){return r.tag===5||r.tag===3||r.tag===4}function Mg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Dg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function dd(r,s,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(r,s):a.insertBefore(r,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(r,a)):(s=a,s.appendChild(r)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Za));else if(c!==4&&(r=r.child,r!==null))for(dd(r,s,a),r=r.sibling;r!==null;)dd(r,s,a),r=r.sibling}function fd(r,s,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(c!==4&&(r=r.child,r!==null))for(fd(r,s,a),r=r.sibling;r!==null;)fd(r,s,a),r=r.sibling}var Pt=null,Sn=!1;function Ar(r,s,a){for(a=a.child;a!==null;)Fg(r,s,a),a=a.sibling}function Fg(r,s,a){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(yn,a)}catch{}switch(a.tag){case 5:Ft||us(a,s);case 6:var c=Pt,f=Sn;Pt=null,Ar(r,s,a),Pt=c,Sn=f,Pt!==null&&(Sn?(r=Pt,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):Pt.removeChild(a.stateNode));break;case 18:Pt!==null&&(Sn?(r=Pt,a=a.stateNode,r.nodeType===8?Tc(r.parentNode,a):r.nodeType===1&&Tc(r,a),so(r)):Tc(Pt,a.stateNode));break;case 4:c=Pt,f=Sn,Pt=a.stateNode.containerInfo,Sn=!0,Ar(r,s,a),Pt=c,Sn=f;break;case 0:case 11:case 14:case 15:if(!Ft&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){f=c=c.next;do{var p=f,y=p.destroy;p=p.tag,y!==void 0&&(p&2||p&4)&&ud(a,s,y),f=f.next}while(f!==c)}Ar(r,s,a);break;case 1:if(!Ft&&(us(a,s),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(w){ct(a,s,w)}Ar(r,s,a);break;case 21:Ar(r,s,a);break;case 22:a.mode&1?(Ft=(c=Ft)||a.memoizedState!==null,Ar(r,s,a),Ft=c):Ar(r,s,a);break;default:Ar(r,s,a)}}function Ug(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new pS),s.forEach(function(c){var f=IS.bind(null,r,c);a.has(c)||(a.add(c),c.then(f,f))})}}function Cn(r,s){var a=s.deletions;if(a!==null)for(var c=0;c<a.length;c++){var f=a[c];try{var p=r,y=s,w=y;e:for(;w!==null;){switch(w.tag){case 5:Pt=w.stateNode,Sn=!1;break e;case 3:Pt=w.stateNode.containerInfo,Sn=!0;break e;case 4:Pt=w.stateNode.containerInfo,Sn=!0;break e}w=w.return}if(Pt===null)throw Error(t(160));Fg(p,y,f),Pt=null,Sn=!1;var C=f.alternate;C!==null&&(C.return=null),f.return=null}catch(b){ct(f,s,b)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)jg(s,r),s=s.sibling}function jg(r,s){var a=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Cn(s,r),Un(r),c&4){try{Po(3,r,r.return),Sl(3,r)}catch(oe){ct(r,r.return,oe)}try{Po(5,r,r.return)}catch(oe){ct(r,r.return,oe)}}break;case 1:Cn(s,r),Un(r),c&512&&a!==null&&us(a,a.return);break;case 5:if(Cn(s,r),Un(r),c&512&&a!==null&&us(a,a.return),r.flags&32){var f=r.stateNode;try{An(f,"")}catch(oe){ct(r,r.return,oe)}}if(c&4&&(f=r.stateNode,f!=null)){var p=r.memoizedProps,y=a!==null?a.memoizedProps:p,w=r.type,C=r.updateQueue;if(r.updateQueue=null,C!==null)try{w==="input"&&p.type==="radio"&&p.name!=null&&Oa(f,p),Bi(w,y);var b=Bi(w,p);for(y=0;y<C.length;y+=2){var j=C[y],$=C[y+1];j==="style"?qs(f,$):j==="dangerouslySetInnerHTML"?Ks(f,$):j==="children"?An(f,$):J(f,j,$,b)}switch(w){case"input":$s(f,p);break;case"textarea":mr(f,p);break;case"select":var U=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!p.multiple;var X=p.value;X!=null?gr(f,!!p.multiple,X,!1):U!==!!p.multiple&&(p.defaultValue!=null?gr(f,!!p.multiple,p.defaultValue,!0):gr(f,!!p.multiple,p.multiple?[]:"",!1))}f[_o]=p}catch(oe){ct(r,r.return,oe)}}break;case 6:if(Cn(s,r),Un(r),c&4){if(r.stateNode===null)throw Error(t(162));f=r.stateNode,p=r.memoizedProps;try{f.nodeValue=p}catch(oe){ct(r,r.return,oe)}}break;case 3:if(Cn(s,r),Un(r),c&4&&a!==null&&a.memoizedState.isDehydrated)try{so(s.containerInfo)}catch(oe){ct(r,r.return,oe)}break;case 4:Cn(s,r),Un(r);break;case 13:Cn(s,r),Un(r),f=r.child,f.flags&8192&&(p=f.memoizedState!==null,f.stateNode.isHidden=p,!p||f.alternate!==null&&f.alternate.memoizedState!==null||(gd=tt())),c&4&&Ug(r);break;case 22:if(j=a!==null&&a.memoizedState!==null,r.mode&1?(Ft=(b=Ft)||j,Cn(s,r),Ft=b):Cn(s,r),Un(r),c&8192){if(b=r.memoizedState!==null,(r.stateNode.isHidden=b)&&!j&&r.mode&1)for(re=r,j=r.child;j!==null;){for($=re=j;re!==null;){switch(U=re,X=U.child,U.tag){case 0:case 11:case 14:case 15:Po(4,U,U.return);break;case 1:us(U,U.return);var se=U.stateNode;if(typeof se.componentWillUnmount=="function"){c=U,a=U.return;try{s=c,se.props=s.memoizedProps,se.state=s.memoizedState,se.componentWillUnmount()}catch(oe){ct(c,a,oe)}}break;case 5:us(U,U.return);break;case 22:if(U.memoizedState!==null){Vg($);continue}}X!==null?(X.return=U,re=X):Vg($)}j=j.sibling}e:for(j=null,$=r;;){if($.tag===5){if(j===null){j=$;try{f=$.stateNode,b?(p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(w=$.stateNode,C=$.memoizedProps.style,y=C!=null&&C.hasOwnProperty("display")?C.display:null,w.style.display=Gs("display",y))}catch(oe){ct(r,r.return,oe)}}}else if($.tag===6){if(j===null)try{$.stateNode.nodeValue=b?"":$.memoizedProps}catch(oe){ct(r,r.return,oe)}}else if(($.tag!==22&&$.tag!==23||$.memoizedState===null||$===r)&&$.child!==null){$.child.return=$,$=$.child;continue}if($===r)break e;for(;$.sibling===null;){if($.return===null||$.return===r)break e;j===$&&(j=null),$=$.return}j===$&&(j=null),$.sibling.return=$.return,$=$.sibling}}break;case 19:Cn(s,r),Un(r),c&4&&Ug(r);break;case 21:break;default:Cn(s,r),Un(r)}}function Un(r){var s=r.flags;if(s&2){try{e:{for(var a=r.return;a!==null;){if(Dg(a)){var c=a;break e}a=a.return}throw Error(t(160))}switch(c.tag){case 5:var f=c.stateNode;c.flags&32&&(An(f,""),c.flags&=-33);var p=Mg(r);fd(r,p,f);break;case 3:case 4:var y=c.stateNode.containerInfo,w=Mg(r);dd(r,w,y);break;default:throw Error(t(161))}}catch(C){ct(r,r.return,C)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function mS(r,s,a){re=r,zg(r)}function zg(r,s,a){for(var c=(r.mode&1)!==0;re!==null;){var f=re,p=f.child;if(f.tag===22&&c){var y=f.memoizedState!==null||El;if(!y){var w=f.alternate,C=w!==null&&w.memoizedState!==null||Ft;w=El;var b=Ft;if(El=y,(Ft=C)&&!b)for(re=f;re!==null;)y=re,C=y.child,y.tag===22&&y.memoizedState!==null?Bg(f):C!==null?(C.return=y,re=C):Bg(f);for(;p!==null;)re=p,zg(p),p=p.sibling;re=f,El=w,Ft=b}$g(r)}else f.subtreeFlags&8772&&p!==null?(p.return=f,re=p):$g(r)}}function $g(r){for(;re!==null;){var s=re;if(s.flags&8772){var a=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:Ft||Sl(5,s);break;case 1:var c=s.stateNode;if(s.flags&4&&!Ft)if(a===null)c.componentDidMount();else{var f=s.elementType===s.type?a.memoizedProps:En(s.type,a.memoizedProps);c.componentDidUpdate(f,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var p=s.updateQueue;p!==null&&Vp(s,p,c);break;case 3:var y=s.updateQueue;if(y!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}Vp(s,y,a)}break;case 5:var w=s.stateNode;if(a===null&&s.flags&4){a=w;var C=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":C.autoFocus&&a.focus();break;case"img":C.src&&(a.src=C.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var b=s.alternate;if(b!==null){var j=b.memoizedState;if(j!==null){var $=j.dehydrated;$!==null&&so($)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Ft||s.flags&512&&cd(s)}catch(U){ct(s,s.return,U)}}if(s===r){re=null;break}if(a=s.sibling,a!==null){a.return=s.return,re=a;break}re=s.return}}function Vg(r){for(;re!==null;){var s=re;if(s===r){re=null;break}var a=s.sibling;if(a!==null){a.return=s.return,re=a;break}re=s.return}}function Bg(r){for(;re!==null;){var s=re;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{Sl(4,s)}catch(C){ct(s,a,C)}break;case 1:var c=s.stateNode;if(typeof c.componentDidMount=="function"){var f=s.return;try{c.componentDidMount()}catch(C){ct(s,f,C)}}var p=s.return;try{cd(s)}catch(C){ct(s,p,C)}break;case 5:var y=s.return;try{cd(s)}catch(C){ct(s,y,C)}}}catch(C){ct(s,s.return,C)}if(s===r){re=null;break}var w=s.sibling;if(w!==null){w.return=s.return,re=w;break}re=s.return}}var _S=Math.ceil,Cl=G.ReactCurrentDispatcher,hd=G.ReactCurrentOwner,fn=G.ReactCurrentBatchConfig,Fe=0,It=null,mt=null,Nt=0,rn=0,cs=Rr(0),vt=0,No=null,wi=0,Il=0,pd=0,xo=null,Yt=null,gd=0,ds=1/0,rr=null,Tl=!1,md=null,br=null,kl=!1,Lr=null,Rl=0,Oo=0,_d=null,Pl=-1,Nl=0;function $t(){return Fe&6?tt():Pl!==-1?Pl:Pl=tt()}function Dr(r){return r.mode&1?Fe&2&&Nt!==0?Nt&-Nt:eS.transition!==null?(Nl===0&&(Nl=Mh()),Nl):(r=Be,r!==0||(r=window.event,r=r===void 0?16:Hh(r.type)),r):1}function In(r,s,a,c){if(50<Oo)throw Oo=0,_d=null,Error(t(185));eo(r,a,c),(!(Fe&2)||r!==It)&&(r===It&&(!(Fe&2)&&(Il|=a),vt===4&&Mr(r,Nt)),Qt(r,c),a===1&&Fe===0&&!(s.mode&1)&&(ds=tt()+500,rl&&Nr()))}function Qt(r,s){var a=r.callbackNode;eE(r,s);var c=Ua(r,r===It?Nt:0);if(c===0)a!==null&&vr(a),r.callbackNode=null,r.callbackPriority=0;else if(s=c&-c,r.callbackPriority!==s){if(a!=null&&vr(a),s===1)r.tag===0?ZE(Hg.bind(null,r)):xp(Hg.bind(null,r)),YE(function(){!(Fe&6)&&Nr()}),a=null;else{switch(Fh(c)){case 1:a=_n;break;case 4:a=fi;break;case 16:a=Yn;break;case 536870912:a=nt;break;default:a=Yn}a=Zg(a,Wg.bind(null,r))}r.callbackPriority=s,r.callbackNode=a}}function Wg(r,s){if(Pl=-1,Nl=0,Fe&6)throw Error(t(327));var a=r.callbackNode;if(fs()&&r.callbackNode!==a)return null;var c=Ua(r,r===It?Nt:0);if(c===0)return null;if(c&30||c&r.expiredLanes||s)s=xl(r,c);else{s=c;var f=Fe;Fe|=2;var p=Gg();(It!==r||Nt!==s)&&(rr=null,ds=tt()+500,Si(r,s));do try{wS();break}catch(w){Kg(r,w)}while(!0);Dc(),Cl.current=p,Fe=f,mt!==null?s=0:(It=null,Nt=0,s=vt)}if(s!==0){if(s===2&&(f=Ju(r),f!==0&&(c=f,s=yd(r,f))),s===1)throw a=No,Si(r,0),Mr(r,c),Qt(r,tt()),a;if(s===6)Mr(r,c);else{if(f=r.current.alternate,!(c&30)&&!yS(f)&&(s=xl(r,c),s===2&&(p=Ju(r),p!==0&&(c=p,s=yd(r,p))),s===1))throw a=No,Si(r,0),Mr(r,c),Qt(r,tt()),a;switch(r.finishedWork=f,r.finishedLanes=c,s){case 0:case 1:throw Error(t(345));case 2:Ci(r,Yt,rr);break;case 3:if(Mr(r,c),(c&130023424)===c&&(s=gd+500-tt(),10<s)){if(Ua(r,0)!==0)break;if(f=r.suspendedLanes,(f&c)!==c){$t(),r.pingedLanes|=r.suspendedLanes&f;break}r.timeoutHandle=Ic(Ci.bind(null,r,Yt,rr),s);break}Ci(r,Yt,rr);break;case 4:if(Mr(r,c),(c&4194240)===c)break;for(s=r.eventTimes,f=-1;0<c;){var y=31-St(c);p=1<<y,y=s[y],y>f&&(f=y),c&=~p}if(c=f,c=tt()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*_S(c/1960))-c,10<c){r.timeoutHandle=Ic(Ci.bind(null,r,Yt,rr),c);break}Ci(r,Yt,rr);break;case 5:Ci(r,Yt,rr);break;default:throw Error(t(329))}}}return Qt(r,tt()),r.callbackNode===a?Wg.bind(null,r):null}function yd(r,s){var a=xo;return r.current.memoizedState.isDehydrated&&(Si(r,s).flags|=256),r=xl(r,s),r!==2&&(s=Yt,Yt=a,s!==null&&vd(s)),r}function vd(r){Yt===null?Yt=r:Yt.push.apply(Yt,r)}function yS(r){for(var s=r;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var f=a[c],p=f.getSnapshot;f=f.value;try{if(!vn(p(),f))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Mr(r,s){for(s&=~pd,s&=~Il,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var a=31-St(s),c=1<<a;r[a]=-1,s&=~c}}function Hg(r){if(Fe&6)throw Error(t(327));fs();var s=Ua(r,0);if(!(s&1))return Qt(r,tt()),null;var a=xl(r,s);if(r.tag!==0&&a===2){var c=Ju(r);c!==0&&(s=c,a=yd(r,c))}if(a===1)throw a=No,Si(r,0),Mr(r,s),Qt(r,tt()),a;if(a===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,Ci(r,Yt,rr),Qt(r,tt()),null}function wd(r,s){var a=Fe;Fe|=1;try{return r(s)}finally{Fe=a,Fe===0&&(ds=tt()+500,rl&&Nr())}}function Ei(r){Lr!==null&&Lr.tag===0&&!(Fe&6)&&fs();var s=Fe;Fe|=1;var a=fn.transition,c=Be;try{if(fn.transition=null,Be=1,r)return r()}finally{Be=c,fn.transition=a,Fe=s,!(Fe&6)&&Nr()}}function Ed(){rn=cs.current,it(cs)}function Si(r,s){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,qE(a)),mt!==null)for(a=mt.return;a!==null;){var c=a;switch(xc(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&tl();break;case 3:as(),it(Kt),it(Lt),Bc();break;case 5:$c(c);break;case 4:as();break;case 13:it(at);break;case 19:it(at);break;case 10:Mc(c.type._context);break;case 22:case 23:Ed()}a=a.return}if(It=r,mt=r=Fr(r.current,null),Nt=rn=s,vt=0,No=null,pd=Il=wi=0,Yt=xo=null,_i!==null){for(s=0;s<_i.length;s++)if(a=_i[s],c=a.interleaved,c!==null){a.interleaved=null;var f=c.next,p=a.pending;if(p!==null){var y=p.next;p.next=f,c.next=y}a.pending=c}_i=null}return r}function Kg(r,s){do{var a=mt;try{if(Dc(),hl.current=_l,pl){for(var c=lt.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}pl=!1}if(vi=0,Ct=yt=lt=null,Co=!1,Io=0,hd.current=null,a===null||a.return===null){vt=1,No=s,mt=null;break}e:{var p=r,y=a.return,w=a,C=s;if(s=Nt,w.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){var b=C,j=w,$=j.tag;if(!(j.mode&1)&&($===0||$===11||$===15)){var U=j.alternate;U?(j.updateQueue=U.updateQueue,j.memoizedState=U.memoizedState,j.lanes=U.lanes):(j.updateQueue=null,j.memoizedState=null)}var X=_g(y);if(X!==null){X.flags&=-257,yg(X,y,w,p,s),X.mode&1&&mg(p,b,s),s=X,C=b;var se=s.updateQueue;if(se===null){var oe=new Set;oe.add(C),s.updateQueue=oe}else se.add(C);break e}else{if(!(s&1)){mg(p,b,s),Sd();break e}C=Error(t(426))}}else if(st&&w.mode&1){var ht=_g(y);if(ht!==null){!(ht.flags&65536)&&(ht.flags|=256),yg(ht,y,w,p,s),bc(ls(C,w));break e}}p=C=ls(C,w),vt!==4&&(vt=2),xo===null?xo=[p]:xo.push(p),p=y;do{switch(p.tag){case 3:p.flags|=65536,s&=-s,p.lanes|=s;var x=pg(p,C,s);$p(p,x);break e;case 1:w=C;var I=p.type,O=p.stateNode;if(!(p.flags&128)&&(typeof I.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(br===null||!br.has(O)))){p.flags|=65536,s&=-s,p.lanes|=s;var B=gg(p,w,s);$p(p,B);break e}}p=p.return}while(p!==null)}Yg(a)}catch(ue){s=ue,mt===a&&a!==null&&(mt=a=a.return);continue}break}while(!0)}function Gg(){var r=Cl.current;return Cl.current=_l,r===null?_l:r}function Sd(){(vt===0||vt===3||vt===2)&&(vt=4),It===null||!(wi&268435455)&&!(Il&268435455)||Mr(It,Nt)}function xl(r,s){var a=Fe;Fe|=2;var c=Gg();(It!==r||Nt!==s)&&(rr=null,Si(r,s));do try{vS();break}catch(f){Kg(r,f)}while(!0);if(Dc(),Fe=a,Cl.current=c,mt!==null)throw Error(t(261));return It=null,Nt=0,vt}function vS(){for(;mt!==null;)qg(mt)}function wS(){for(;mt!==null&&!mn();)qg(mt)}function qg(r){var s=Xg(r.alternate,r,rn);r.memoizedProps=r.pendingProps,s===null?Yg(r):mt=s,hd.current=null}function Yg(r){var s=r;do{var a=s.alternate;if(r=s.return,s.flags&32768){if(a=hS(a,s),a!==null){a.flags&=32767,mt=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{vt=6,mt=null;return}}else if(a=fS(a,s,rn),a!==null){mt=a;return}if(s=s.sibling,s!==null){mt=s;return}mt=s=r}while(s!==null);vt===0&&(vt=5)}function Ci(r,s,a){var c=Be,f=fn.transition;try{fn.transition=null,Be=1,ES(r,s,a,c)}finally{fn.transition=f,Be=c}return null}function ES(r,s,a,c){do fs();while(Lr!==null);if(Fe&6)throw Error(t(327));a=r.finishedWork;var f=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var p=a.lanes|a.childLanes;if(tE(r,p),r===It&&(mt=It=null,Nt=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||kl||(kl=!0,Zg(Yn,function(){return fs(),null})),p=(a.flags&15990)!==0,a.subtreeFlags&15990||p){p=fn.transition,fn.transition=null;var y=Be;Be=1;var w=Fe;Fe|=4,hd.current=null,gS(r,a),jg(a,r),$E(Sc),$a=!!Ec,Sc=Ec=null,r.current=a,mS(a),an(),Fe=w,Be=y,fn.transition=p}else r.current=a;if(kl&&(kl=!1,Lr=r,Rl=f),p=r.pendingLanes,p===0&&(br=null),ut(a.stateNode),Qt(r,tt()),s!==null)for(c=r.onRecoverableError,a=0;a<s.length;a++)f=s[a],c(f.value,{componentStack:f.stack,digest:f.digest});if(Tl)throw Tl=!1,r=md,md=null,r;return Rl&1&&r.tag!==0&&fs(),p=r.pendingLanes,p&1?r===_d?Oo++:(Oo=0,_d=r):Oo=0,Nr(),null}function fs(){if(Lr!==null){var r=Fh(Rl),s=fn.transition,a=Be;try{if(fn.transition=null,Be=16>r?16:r,Lr===null)var c=!1;else{if(r=Lr,Lr=null,Rl=0,Fe&6)throw Error(t(331));var f=Fe;for(Fe|=4,re=r.current;re!==null;){var p=re,y=p.child;if(re.flags&16){var w=p.deletions;if(w!==null){for(var C=0;C<w.length;C++){var b=w[C];for(re=b;re!==null;){var j=re;switch(j.tag){case 0:case 11:case 15:Po(8,j,p)}var $=j.child;if($!==null)$.return=j,re=$;else for(;re!==null;){j=re;var U=j.sibling,X=j.return;if(Lg(j),j===b){re=null;break}if(U!==null){U.return=X,re=U;break}re=X}}}var se=p.alternate;if(se!==null){var oe=se.child;if(oe!==null){se.child=null;do{var ht=oe.sibling;oe.sibling=null,oe=ht}while(oe!==null)}}re=p}}if(p.subtreeFlags&2064&&y!==null)y.return=p,re=y;else e:for(;re!==null;){if(p=re,p.flags&2048)switch(p.tag){case 0:case 11:case 15:Po(9,p,p.return)}var x=p.sibling;if(x!==null){x.return=p.return,re=x;break e}re=p.return}}var I=r.current;for(re=I;re!==null;){y=re;var O=y.child;if(y.subtreeFlags&2064&&O!==null)O.return=y,re=O;else e:for(y=I;re!==null;){if(w=re,w.flags&2048)try{switch(w.tag){case 0:case 11:case 15:Sl(9,w)}}catch(ue){ct(w,w.return,ue)}if(w===y){re=null;break e}var B=w.sibling;if(B!==null){B.return=w.return,re=B;break e}re=w.return}}if(Fe=f,Nr(),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(yn,r)}catch{}c=!0}return c}finally{Be=a,fn.transition=s}}return!1}function Qg(r,s,a){s=ls(a,s),s=pg(r,s,1),r=Or(r,s,1),s=$t(),r!==null&&(eo(r,1,s),Qt(r,s))}function ct(r,s,a){if(r.tag===3)Qg(r,r,a);else for(;s!==null;){if(s.tag===3){Qg(s,r,a);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(br===null||!br.has(c))){r=ls(a,r),r=gg(s,r,1),s=Or(s,r,1),r=$t(),s!==null&&(eo(s,1,r),Qt(s,r));break}}s=s.return}}function SS(r,s,a){var c=r.pingCache;c!==null&&c.delete(s),s=$t(),r.pingedLanes|=r.suspendedLanes&a,It===r&&(Nt&a)===a&&(vt===4||vt===3&&(Nt&130023424)===Nt&&500>tt()-gd?Si(r,0):pd|=a),Qt(r,s)}function Jg(r,s){s===0&&(r.mode&1?(s=Fa,Fa<<=1,!(Fa&130023424)&&(Fa=4194304)):s=1);var a=$t();r=er(r,s),r!==null&&(eo(r,s,a),Qt(r,a))}function CS(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),Jg(r,a)}function IS(r,s){var a=0;switch(r.tag){case 13:var c=r.stateNode,f=r.memoizedState;f!==null&&(a=f.retryLane);break;case 19:c=r.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(s),Jg(r,a)}var Xg;Xg=function(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps||Kt.current)qt=!0;else{if(!(r.lanes&a)&&!(s.flags&128))return qt=!1,dS(r,s,a);qt=!!(r.flags&131072)}else qt=!1,st&&s.flags&1048576&&Op(s,sl,s.index);switch(s.lanes=0,s.tag){case 2:var c=s.type;wl(r,s),r=s.pendingProps;var f=es(s,Lt.current);os(s,a),f=Kc(null,s,c,r,f,a);var p=Gc();return s.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Gt(c)?(p=!0,nl(s)):p=!1,s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,jc(s),f.updater=yl,s.stateNode=f,f._reactInternals=s,Zc(s,c,r,a),s=rd(null,s,c,!0,p,a)):(s.tag=0,st&&p&&Nc(s),zt(null,s,f,a),s=s.child),s;case 16:c=s.elementType;e:{switch(wl(r,s),r=s.pendingProps,f=c._init,c=f(c._payload),s.type=c,f=s.tag=kS(c),r=En(c,r),f){case 0:s=nd(null,s,c,r,a);break e;case 1:s=Ig(null,s,c,r,a);break e;case 11:s=vg(null,s,c,r,a);break e;case 14:s=wg(null,s,c,En(c.type,r),a);break e}throw Error(t(306,c,""))}return s;case 0:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:En(c,f),nd(r,s,c,f,a);case 1:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:En(c,f),Ig(r,s,c,f,a);case 3:e:{if(Tg(s),r===null)throw Error(t(387));c=s.pendingProps,p=s.memoizedState,f=p.element,zp(r,s),dl(s,c,null,a);var y=s.memoizedState;if(c=y.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:y.cache,pendingSuspenseBoundaries:y.pendingSuspenseBoundaries,transitions:y.transitions},s.updateQueue.baseState=p,s.memoizedState=p,s.flags&256){f=ls(Error(t(423)),s),s=kg(r,s,c,a,f);break e}else if(c!==f){f=ls(Error(t(424)),s),s=kg(r,s,c,a,f);break e}else for(nn=kr(s.stateNode.containerInfo.firstChild),tn=s,st=!0,wn=null,a=Up(s,null,c,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(rs(),c===f){s=nr(r,s,a);break e}zt(r,s,c,a)}s=s.child}return s;case 5:return Bp(s),r===null&&Ac(s),c=s.type,f=s.pendingProps,p=r!==null?r.memoizedProps:null,y=f.children,Cc(c,f)?y=null:p!==null&&Cc(c,p)&&(s.flags|=32),Cg(r,s),zt(r,s,y,a),s.child;case 6:return r===null&&Ac(s),null;case 13:return Rg(r,s,a);case 4:return zc(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=is(s,null,c,a):zt(r,s,c,a),s.child;case 11:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:En(c,f),vg(r,s,c,f,a);case 7:return zt(r,s,s.pendingProps,a),s.child;case 8:return zt(r,s,s.pendingProps.children,a),s.child;case 12:return zt(r,s,s.pendingProps.children,a),s.child;case 10:e:{if(c=s.type._context,f=s.pendingProps,p=s.memoizedProps,y=f.value,Qe(ll,c._currentValue),c._currentValue=y,p!==null)if(vn(p.value,y)){if(p.children===f.children&&!Kt.current){s=nr(r,s,a);break e}}else for(p=s.child,p!==null&&(p.return=s);p!==null;){var w=p.dependencies;if(w!==null){y=p.child;for(var C=w.firstContext;C!==null;){if(C.context===c){if(p.tag===1){C=tr(-1,a&-a),C.tag=2;var b=p.updateQueue;if(b!==null){b=b.shared;var j=b.pending;j===null?C.next=C:(C.next=j.next,j.next=C),b.pending=C}}p.lanes|=a,C=p.alternate,C!==null&&(C.lanes|=a),Fc(p.return,a,s),w.lanes|=a;break}C=C.next}}else if(p.tag===10)y=p.type===s.type?null:p.child;else if(p.tag===18){if(y=p.return,y===null)throw Error(t(341));y.lanes|=a,w=y.alternate,w!==null&&(w.lanes|=a),Fc(y,a,s),y=p.sibling}else y=p.child;if(y!==null)y.return=p;else for(y=p;y!==null;){if(y===s){y=null;break}if(p=y.sibling,p!==null){p.return=y.return,y=p;break}y=y.return}p=y}zt(r,s,f.children,a),s=s.child}return s;case 9:return f=s.type,c=s.pendingProps.children,os(s,a),f=cn(f),c=c(f),s.flags|=1,zt(r,s,c,a),s.child;case 14:return c=s.type,f=En(c,s.pendingProps),f=En(c.type,f),wg(r,s,c,f,a);case 15:return Eg(r,s,s.type,s.pendingProps,a);case 17:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:En(c,f),wl(r,s),s.tag=1,Gt(c)?(r=!0,nl(s)):r=!1,os(s,a),fg(s,c,f),Zc(s,c,f,a),rd(null,s,c,!0,r,a);case 19:return Ng(r,s,a);case 22:return Sg(r,s,a)}throw Error(t(156,s.tag))};function Zg(r,s){return qn(r,s)}function TS(r,s,a,c){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(r,s,a,c){return new TS(r,s,a,c)}function Cd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function kS(r){if(typeof r=="function")return Cd(r)?1:0;if(r!=null){if(r=r.$$typeof,r===Te)return 11;if(r===qe)return 14}return 2}function Fr(r,s){var a=r.alternate;return a===null?(a=hn(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function Ol(r,s,a,c,f,p){var y=2;if(c=r,typeof r=="function")Cd(r)&&(y=1);else if(typeof r=="string")y=5;else e:switch(r){case ae:return Ii(a.children,f,p,s);case V:y=8,f|=8;break;case ee:return r=hn(12,a,s,f|2),r.elementType=ee,r.lanes=p,r;case ze:return r=hn(13,a,s,f),r.elementType=ze,r.lanes=p,r;case ke:return r=hn(19,a,s,f),r.elementType=ke,r.lanes=p,r;case Se:return Al(a,f,p,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case de:y=10;break e;case ye:y=9;break e;case Te:y=11;break e;case qe:y=14;break e;case Ze:y=16,c=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=hn(y,a,s,f),s.elementType=r,s.type=c,s.lanes=p,s}function Ii(r,s,a,c){return r=hn(7,r,c,s),r.lanes=a,r}function Al(r,s,a,c){return r=hn(22,r,c,s),r.elementType=Se,r.lanes=a,r.stateNode={isHidden:!1},r}function Id(r,s,a){return r=hn(6,r,null,s),r.lanes=a,r}function Td(r,s,a){return s=hn(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function RS(r,s,a,c,f){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xu(0),this.expirationTimes=Xu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xu(0),this.identifierPrefix=c,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function kd(r,s,a,c,f,p,y,w,C){return r=new RS(r,s,a,w,C),s===1?(s=1,p===!0&&(s|=8)):s=0,p=hn(3,null,null,s),r.current=p,p.stateNode=r,p.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},jc(p),r}function PS(r,s,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:c==null?null:""+c,children:r,containerInfo:s,implementation:a}}function em(r){if(!r)return Pr;r=r._reactInternals;e:{if(Ie(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Gt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var a=r.type;if(Gt(a))return Pp(r,a,s)}return s}function tm(r,s,a,c,f,p,y,w,C){return r=kd(a,c,!0,r,f,p,y,w,C),r.context=em(null),a=r.current,c=$t(),f=Dr(a),p=tr(c,f),p.callback=s??null,Or(a,p,f),r.current.lanes=f,eo(r,f,c),Qt(r,c),r}function bl(r,s,a,c){var f=s.current,p=$t(),y=Dr(f);return a=em(a),s.context===null?s.context=a:s.pendingContext=a,s=tr(p,y),s.payload={element:r},c=c===void 0?null:c,c!==null&&(s.callback=c),r=Or(f,s,y),r!==null&&(In(r,f,y,p),cl(r,f,y)),y}function Ll(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function nm(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function Rd(r,s){nm(r,s),(r=r.alternate)&&nm(r,s)}var rm=typeof reportError=="function"?reportError:function(r){console.error(r)};function Pd(r){this._internalRoot=r}Dl.prototype.render=Pd.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));bl(r,s,null,null)},Dl.prototype.unmount=Pd.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Ei(function(){bl(null,r,null,null)}),s[Qn]=null}};function Dl(r){this._internalRoot=r}Dl.prototype.unstable_scheduleHydration=function(r){if(r){var s=zh();r={blockedOn:null,target:r,priority:s};for(var a=0;a<Cr.length&&s!==0&&s<Cr[a].priority;a++);Cr.splice(a,0,r),a===0&&Bh(r)}};function Nd(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Ml(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function im(){}function NS(r,s,a,c,f){if(f){if(typeof c=="function"){var p=c;c=function(){var b=Ll(y);p.call(b)}}var y=tm(s,c,r,0,null,!1,!1,"",im);return r._reactRootContainer=y,r[Qn]=y.current,go(r.nodeType===8?r.parentNode:r),Ei(),y}for(;f=r.lastChild;)r.removeChild(f);if(typeof c=="function"){var w=c;c=function(){var b=Ll(C);w.call(b)}}var C=kd(r,0,!1,null,null,!1,!1,"",im);return r._reactRootContainer=C,r[Qn]=C.current,go(r.nodeType===8?r.parentNode:r),Ei(function(){bl(s,C,a,c)}),C}function Fl(r,s,a,c,f){var p=a._reactRootContainer;if(p){var y=p;if(typeof f=="function"){var w=f;f=function(){var C=Ll(y);w.call(C)}}bl(s,y,r,f)}else y=NS(a,s,r,f,c);return Ll(y)}Uh=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var a=Zs(s.pendingLanes);a!==0&&(Zu(s,a|1),Qt(s,tt()),!(Fe&6)&&(ds=tt()+500,Nr()))}break;case 13:Ei(function(){var c=er(r,1);if(c!==null){var f=$t();In(c,r,1,f)}}),Rd(r,1)}},ec=function(r){if(r.tag===13){var s=er(r,134217728);if(s!==null){var a=$t();In(s,r,134217728,a)}Rd(r,134217728)}},jh=function(r){if(r.tag===13){var s=Dr(r),a=er(r,s);if(a!==null){var c=$t();In(a,r,s,c)}Rd(r,s)}},zh=function(){return Be},$h=function(r,s){var a=Be;try{return Be=r,s()}finally{Be=a}},li=function(r,s,a){switch(s){case"input":if($s(r,a),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var c=a[s];if(c!==r&&c.form===r.form){var f=el(c);if(!f)throw Error(t(90));Gn(c),$s(c,f)}}}break;case"textarea":mr(r,a);break;case"select":s=a.value,s!=null&&gr(r,!!a.multiple,s,!1)}},ui=wd,ci=Ei;var xS={usingClientEntryPoint:!1,Events:[yo,Xi,el,ba,Js,wd]},Ao={findFiberByHostInstance:hi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},OS={bundleType:Ao.bundleType,version:Ao.version,rendererPackageName:Ao.rendererPackageName,rendererConfig:Ao.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:G.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=De(r),r===null?null:r.stateNode},findFiberByHostInstance:Ao.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ul=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ul.isDisabled&&Ul.supportsFiber)try{yn=Ul.inject(OS),bt=Ul}catch{}}return Jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xS,Jt.createPortal=function(r,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Nd(s))throw Error(t(200));return PS(r,s,null,a)},Jt.createRoot=function(r,s){if(!Nd(r))throw Error(t(299));var a=!1,c="",f=rm;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onRecoverableError!==void 0&&(f=s.onRecoverableError)),s=kd(r,1,!1,null,null,a,!1,c,f),r[Qn]=s.current,go(r.nodeType===8?r.parentNode:r),new Pd(s)},Jt.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=De(s),r=r===null?null:r.stateNode,r},Jt.flushSync=function(r){return Ei(r)},Jt.hydrate=function(r,s,a){if(!Ml(s))throw Error(t(200));return Fl(null,r,s,!0,a)},Jt.hydrateRoot=function(r,s,a){if(!Nd(r))throw Error(t(405));var c=a!=null&&a.hydratedSources||null,f=!1,p="",y=rm;if(a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(y=a.onRecoverableError)),s=tm(s,null,r,1,a??null,f,!1,p,y),r[Qn]=s.current,go(r),c)for(r=0;r<c.length;r++)a=c[r],f=a._getVersion,f=f(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,f]:s.mutableSourceEagerHydrationData.push(a,f);return new Dl(s)},Jt.render=function(r,s,a){if(!Ml(s))throw Error(t(200));return Fl(null,r,s,!1,a)},Jt.unmountComponentAtNode=function(r){if(!Ml(r))throw Error(t(40));return r._reactRootContainer?(Ei(function(){Fl(null,null,r,!1,function(){r._reactRootContainer=null,r[Qn]=null})}),!0):!1},Jt.unstable_batchedUpdates=wd,Jt.unstable_renderSubtreeIntoContainer=function(r,s,a,c){if(!Ml(a))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Fl(r,s,a,!1,c)},Jt.version="18.3.1-next-f1338f8080-20240426",Jt}var fm;function gy(){if(fm)return Ad.exports;fm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Ad.exports=jS(),Ad.exports}var hm;function zS(){if(hm)return jl;hm=1;var n=gy();return jl.createRoot=n.createRoot,jl.hydrateRoot=n.hydrateRoot,jl}var $S=zS();const VS=xf($S);var my=gy();const BS=xf(my),WS=hy({__proto__:null,default:BS},[my]);/**
 * @remix-run/router v1.21.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ot(){return ot=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ot.apply(this,arguments)}var _t;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(_t||(_t={}));const pm="popstate";function HS(n){n===void 0&&(n={});function e(i,o){let{pathname:l,search:u,hash:d}=i.location;return ta("",{pathname:l,search:u,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:ma(o)}return GS(e,t,null,n)}function be(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Is(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function KS(){return Math.random().toString(36).substr(2,8)}function gm(n,e){return{usr:n.state,key:n.key,idx:e}}function ta(n,e,t,i){return t===void 0&&(t=null),ot({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?ri(e):e,{state:t,key:e&&e.key||i||KS()})}function ma(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function ri(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function GS(n,e,t,i){i===void 0&&(i={});let{window:o=document.defaultView,v5Compat:l=!1}=i,u=o.history,d=_t.Pop,h=null,g=m();g==null&&(g=0,u.replaceState(ot({},u.state,{idx:g}),""));function m(){return(u.state||{idx:null}).idx}function _(){d=_t.Pop;let R=m(),H=R==null?null:R-g;g=R,h&&h({action:d,location:N.location,delta:H})}function v(R,H){d=_t.Push;let z=ta(N.location,R,H);g=m()+1;let J=gm(z,g),G=N.createHref(z);try{u.pushState(J,"",G)}catch(_e){if(_e instanceof DOMException&&_e.name==="DataCloneError")throw _e;o.location.assign(G)}l&&h&&h({action:d,location:N.location,delta:1})}function E(R,H){d=_t.Replace;let z=ta(N.location,R,H);g=m();let J=gm(z,g),G=N.createHref(z);u.replaceState(J,"",G),l&&h&&h({action:d,location:N.location,delta:0})}function T(R){let H=o.location.origin!=="null"?o.location.origin:o.location.href,z=typeof R=="string"?R:ma(R);return z=z.replace(/ $/,"%20"),be(H,"No window.location.(origin|href) available to create URL for href: "+z),new URL(z,H)}let N={get action(){return d},get location(){return n(o,u)},listen(R){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(pm,_),h=R,()=>{o.removeEventListener(pm,_),h=null}},createHref(R){return e(o,R)},createURL:T,encodeLocation(R){let H=T(R);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:v,replace:E,go(R){return u.go(R)}};return N}var Ke;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Ke||(Ke={}));const qS=new Set(["lazy","caseSensitive","path","id","index","children"]);function YS(n){return n.index===!0}function Xl(n,e,t,i){return t===void 0&&(t=[]),i===void 0&&(i={}),n.map((o,l)=>{let u=[...t,String(l)],d=typeof o.id=="string"?o.id:u.join("-");if(be(o.index!==!0||!o.children,"Cannot specify children on an index route"),be(!i[d],'Found a route id collision on id "'+d+`".  Route id's must be globally unique within Data Router usages`),YS(o)){let h=ot({},o,e(o),{id:d});return i[d]=h,h}else{let h=ot({},o,e(o),{id:d,children:void 0});return i[d]=h,o.children&&(h.children=Xl(o.children,e,u,i)),h}})}function Ri(n,e,t){return t===void 0&&(t="/"),Kl(n,e,t,!1)}function Kl(n,e,t,i){let o=typeof e=="string"?ri(e):e,l=_a(o.pathname||"/",t);if(l==null)return null;let u=_y(n);JS(u);let d=null;for(let h=0;d==null&&h<u.length;++h){let g=lC(l);d=oC(u[h],g,i)}return d}function QS(n,e){let{route:t,pathname:i,params:o}=n;return{id:t.id,pathname:i,params:o,data:e[t.id],handle:t.handle}}function _y(n,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let o=(l,u,d)=>{let h={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};h.relativePath.startsWith("/")&&(be(h.relativePath.startsWith(i),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(i.length));let g=Gr([i,h.relativePath]),m=t.concat(h);l.children&&l.children.length>0&&(be(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),_y(l.children,e,m,g)),!(l.path==null&&!l.index)&&e.push({path:g,score:iC(g,l.index),routesMeta:m})};return n.forEach((l,u)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))o(l,u);else for(let h of yy(l.path))o(l,u,h)}),e}function yy(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let u=yy(i.join("/")),d=[];return d.push(...u.map(h=>h===""?l:[l,h].join("/"))),o&&d.push(...u),d.map(h=>n.startsWith("/")&&h===""?"/":h)}function JS(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:sC(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const XS=/^:[\w-]+$/,ZS=3,eC=2,tC=1,nC=10,rC=-2,mm=n=>n==="*";function iC(n,e){let t=n.split("/"),i=t.length;return t.some(mm)&&(i+=rC),e&&(i+=eC),t.filter(o=>!mm(o)).reduce((o,l)=>o+(XS.test(l)?ZS:l===""?tC:nC),i)}function sC(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function oC(n,e,t){t===void 0&&(t=!1);let{routesMeta:i}=n,o={},l="/",u=[];for(let d=0;d<i.length;++d){let h=i[d],g=d===i.length-1,m=l==="/"?e:e.slice(l.length)||"/",_=_m({path:h.relativePath,caseSensitive:h.caseSensitive,end:g},m),v=h.route;if(!_&&g&&t&&!i[i.length-1].route.index&&(_=_m({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},m)),!_)return null;Object.assign(o,_.params),u.push({params:o,pathname:Gr([l,_.pathname]),pathnameBase:dC(Gr([l,_.pathnameBase])),route:v}),_.pathnameBase!=="/"&&(l=Gr([l,_.pathnameBase]))}return u}function _m(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=aC(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let l=o[0],u=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:i.reduce((g,m,_)=>{let{paramName:v,isOptional:E}=m;if(v==="*"){let N=d[_]||"";u=l.slice(0,l.length-N.length).replace(/(.)\/+$/,"$1")}const T=d[_];return E&&!T?g[v]=void 0:g[v]=(T||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:u,pattern:n}}function aC(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),Is(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,h)=>(i.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function lC(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Is(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function _a(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function uC(n,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?ri(n):n;return{pathname:t?t.startsWith("/")?t:cC(t,e):e,search:fC(i),hash:hC(o)}}function cC(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Dd(n,e,t,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function vy(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Af(n,e){let t=vy(n);return e?t.map((i,o)=>o===t.length-1?i.pathname:i.pathnameBase):t.map(i=>i.pathnameBase)}function bf(n,e,t,i){i===void 0&&(i=!1);let o;typeof n=="string"?o=ri(n):(o=ot({},n),be(!o.pathname||!o.pathname.includes("?"),Dd("?","pathname","search",o)),be(!o.pathname||!o.pathname.includes("#"),Dd("#","pathname","hash",o)),be(!o.search||!o.search.includes("#"),Dd("#","search","hash",o)));let l=n===""||o.pathname==="",u=l?"/":o.pathname,d;if(u==null)d=t;else{let _=e.length-1;if(!i&&u.startsWith("..")){let v=u.split("/");for(;v[0]==="..";)v.shift(),_-=1;o.pathname=v.join("/")}d=_>=0?e[_]:"/"}let h=uC(o,d),g=u&&u!=="/"&&u.endsWith("/"),m=(l||u===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(g||m)&&(h.pathname+="/"),h}const Gr=n=>n.join("/").replace(/\/\/+/g,"/"),dC=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),fC=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,hC=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;class Zl{constructor(e,t,i,o){o===void 0&&(o=!1),this.status=e,this.statusText=t||"",this.internal=o,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}}function xu(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const wy=["post","put","patch","delete"],pC=new Set(wy),gC=["get",...wy],mC=new Set(gC),_C=new Set([301,302,303,307,308]),yC=new Set([307,308]),Md={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},vC={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Lo={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Lf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wC=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),Ey="remix-router-transitions";function EC(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",i=!t;be(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let o;if(n.mapRouteProperties)o=n.mapRouteProperties;else if(n.detectErrorBoundary){let S=n.detectErrorBoundary;o=P=>({hasErrorBoundary:S(P)})}else o=wC;let l={},u=Xl(n.routes,o,void 0,l),d,h=n.basename||"/",g=n.dataStrategy||TC,m=n.patchRoutesOnNavigation,_=ot({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},n.future),v=null,E=new Set,T=null,N=null,R=null,H=n.hydrationData!=null,z=Ri(u,n.history.location,h),J=null;if(z==null&&!m){let S=Xt(404,{pathname:n.history.location.pathname}),{matches:P,route:L}=Pm(u);z=P,J={[L.id]:S}}z&&!n.hydrationData&&ui(z,u,n.history.location.pathname).active&&(z=null);let G;if(z)if(z.some(S=>S.route.lazy))G=!1;else if(!z.some(S=>S.route.loader))G=!0;else if(_.v7_partialHydration){let S=n.hydrationData?n.hydrationData.loaderData:null,P=n.hydrationData?n.hydrationData.errors:null;if(P){let L=z.findIndex(F=>P[F.route.id]!==void 0);G=z.slice(0,L+1).every(F=>!tf(F.route,S,P))}else G=z.every(L=>!tf(L.route,S,P))}else G=n.hydrationData!=null;else if(G=!1,z=[],_.v7_partialHydration){let S=ui(null,u,n.history.location.pathname);S.active&&S.matches&&(z=S.matches)}let _e,A={historyAction:n.history.action,location:n.history.location,matches:z,initialized:G,navigation:Md,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||J,fetchers:new Map,blockers:new Map},ae=_t.Pop,V=!1,ee,de=!1,ye=new Map,Te=null,ze=!1,ke=!1,qe=[],Ze=new Set,Se=new Map,q=0,Z=-1,Y=new Map,k=new Set,D=new Map,ve=new Map,pe=new Set,Re=new Map,Pe=new Map,$e;function Ve(){if(v=n.history.listen(S=>{let{action:P,location:L,delta:F}=S;if($e){$e(),$e=void 0;return}Is(Pe.size===0||F!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Q=Wi({currentLocation:A.location,nextLocation:L,historyAction:P});if(Q&&F!=null){let le=new Promise(ge=>{$e=ge});n.history.go(F*-1),_r(Q,{state:"blocked",location:L,proceed(){_r(Q,{state:"proceeding",proceed:void 0,reset:void 0,location:L}),le.then(()=>n.history.go(F))},reset(){let ge=new Map(A.blockers);ge.set(Q,Lo),pt({blockers:ge})}});return}return xn(P,L)}),t){jC(e,ye);let S=()=>zC(e,ye);e.addEventListener("pagehide",S),Te=()=>e.removeEventListener("pagehide",S)}return A.initialized||xn(_t.Pop,A.location,{initialHydration:!0}),_e}function Ye(){v&&v(),Te&&Te(),E.clear(),ee&&ee.abort(),A.fetchers.forEach((S,P)=>An(P)),A.blockers.forEach((S,P)=>Bi(P))}function jt(S){return E.add(S),()=>E.delete(S)}function pt(S,P){P===void 0&&(P={}),A=ot({},A,S);let L=[],F=[];_.v7_fetcherPersist&&A.fetchers.forEach((Q,le)=>{Q.state==="idle"&&(pe.has(le)?F.push(le):L.push(le))}),pe.forEach(Q=>{!A.fetchers.has(Q)&&!Se.has(Q)&&F.push(Q)}),[...E].forEach(Q=>Q(A,{deletedFetchers:F,viewTransitionOpts:P.viewTransitionOpts,flushSync:P.flushSync===!0})),_.v7_fetcherPersist?(L.forEach(Q=>A.fetchers.delete(Q)),F.forEach(Q=>An(Q))):F.forEach(Q=>pe.delete(Q))}function Gn(S,P,L){var F,Q;let{flushSync:le}=L===void 0?{}:L,ge=A.actionData!=null&&A.navigation.formMethod!=null&&Tn(A.navigation.formMethod)&&A.navigation.state==="loading"&&((F=S.state)==null?void 0:F._isRedirect)!==!0,te;P.actionData?Object.keys(P.actionData).length>0?te=P.actionData:te=null:ge?te=A.actionData:te=null;let ie=P.loaderData?km(A.loaderData,P.loaderData,P.matches||[],P.errors):A.loaderData,ne=A.blockers;ne.size>0&&(ne=new Map(ne),ne.forEach((Ae,gt)=>ne.set(gt,Lo)));let ce=V===!0||A.navigation.formMethod!=null&&Tn(A.navigation.formMethod)&&((Q=S.state)==null?void 0:Q._isRedirect)!==!0;d&&(u=d,d=void 0),ze||ae===_t.Pop||(ae===_t.Push?n.history.push(S,S.state):ae===_t.Replace&&n.history.replace(S,S.state));let Ie;if(ae===_t.Pop){let Ae=ye.get(A.location.pathname);Ae&&Ae.has(S.pathname)?Ie={currentLocation:A.location,nextLocation:S}:ye.has(S.pathname)&&(Ie={currentLocation:S,nextLocation:A.location})}else if(de){let Ae=ye.get(A.location.pathname);Ae?Ae.add(S.pathname):(Ae=new Set([S.pathname]),ye.set(A.location.pathname,Ae)),Ie={currentLocation:A.location,nextLocation:S}}pt(ot({},P,{actionData:te,loaderData:ie,historyAction:ae,location:S,initialized:!0,navigation:Md,revalidation:"idle",restoreScrollPosition:Js(S,P.matches||A.matches),preventScrollReset:ce,blockers:ne}),{viewTransitionOpts:Ie,flushSync:le===!0}),ae=_t.Pop,V=!1,de=!1,ze=!1,ke=!1,qe=[]}async function si(S,P){if(typeof S=="number"){n.history.go(S);return}let L=ef(A.location,A.matches,h,_.v7_prependBasename,S,_.v7_relativeSplatPath,P==null?void 0:P.fromRouteId,P==null?void 0:P.relative),{path:F,submission:Q,error:le}=ym(_.v7_normalizeFormMethod,!1,L,P),ge=A.location,te=ta(A.location,F,P&&P.state);te=ot({},te,n.history.encodeLocation(te));let ie=P&&P.replace!=null?P.replace:void 0,ne=_t.Push;ie===!0?ne=_t.Replace:ie===!1||Q!=null&&Tn(Q.formMethod)&&Q.formAction===A.location.pathname+A.location.search&&(ne=_t.Replace);let ce=P&&"preventScrollReset"in P?P.preventScrollReset===!0:void 0,Ie=(P&&P.flushSync)===!0,Ae=Wi({currentLocation:ge,nextLocation:te,historyAction:ne});if(Ae){_r(Ae,{state:"blocked",location:te,proceed(){_r(Ae,{state:"proceeding",proceed:void 0,reset:void 0,location:te}),si(S,P)},reset(){let gt=new Map(A.blockers);gt.set(Ae,Lo),pt({blockers:gt})}});return}return await xn(ne,te,{submission:Q,pendingError:le,preventScrollReset:ce,replace:P&&P.replace,enableViewTransition:P&&P.viewTransition,flushSync:Ie})}function zs(){if(Vi(),pt({revalidation:"loading"}),A.navigation.state!=="submitting"){if(A.navigation.state==="idle"){xn(A.historyAction,A.location,{startUninterruptedRevalidation:!0});return}xn(ae||A.historyAction,A.navigation.location,{overrideNavigation:A.navigation,enableViewTransition:de===!0})}}async function xn(S,P,L){ee&&ee.abort(),ee=null,ae=S,ze=(L&&L.startUninterruptedRevalidation)===!0,ba(A.location,A.matches),V=(L&&L.preventScrollReset)===!0,de=(L&&L.enableViewTransition)===!0;let F=d||u,Q=L&&L.overrideNavigation,le=Ri(F,P,h),ge=(L&&L.flushSync)===!0,te=ui(le,F,P.pathname);if(te.active&&te.matches&&(le=te.matches),!le){let{error:We,notFoundMatches:De,route:et}=li(P.pathname);Gn(P,{matches:De,loaderData:{},errors:{[et.id]:We}},{flushSync:ge});return}if(A.initialized&&!ke&&OC(A.location,P)&&!(L&&L.submission&&Tn(L.submission.formMethod))){Gn(P,{matches:le},{flushSync:ge});return}ee=new AbortController;let ie=hs(n.history,P,ee.signal,L&&L.submission),ne;if(L&&L.pendingError)ne=[Pi(le).route.id,{type:Ke.error,error:L.pendingError}];else if(L&&L.submission&&Tn(L.submission.formMethod)){let We=await Oa(ie,P,L.submission,le,te.active,{replace:L.replace,flushSync:ge});if(We.shortCircuited)return;if(We.pendingActionResult){let[De,et]=We.pendingActionResult;if(sn(et)&&xu(et.error)&&et.error.status===404){ee=null,Gn(P,{matches:We.matches,loaderData:{},errors:{[De]:et.error}});return}}le=We.matches||le,ne=We.pendingActionResult,Q=Fd(P,L.submission),ge=!1,te.active=!1,ie=hs(n.history,ie.url,ie.signal)}let{shortCircuited:ce,matches:Ie,loaderData:Ae,errors:gt}=await $s(ie,P,le,te.active,Q,L&&L.submission,L&&L.fetcherSubmission,L&&L.replace,L&&L.initialHydration===!0,ge,ne);ce||(ee=null,Gn(P,ot({matches:Ie||le},Rm(ne),{loaderData:Ae,errors:gt})))}async function Oa(S,P,L,F,Q,le){le===void 0&&(le={}),Vi();let ge=FC(P,L);if(pt({navigation:ge},{flushSync:le.flushSync===!0}),Q){let ne=await ci(F,P.pathname,S.signal);if(ne.type==="aborted")return{shortCircuited:!0};if(ne.type==="error"){let ce=Pi(ne.partialMatches).route.id;return{matches:ne.partialMatches,pendingActionResult:[ce,{type:Ke.error,error:ne.error}]}}else if(ne.matches)F=ne.matches;else{let{notFoundMatches:ce,error:Ie,route:Ae}=li(P.pathname);return{matches:ce,pendingActionResult:[Ae.id,{type:Ke.error,error:Ie}]}}}let te,ie=Bo(F,P);if(!ie.route.action&&!ie.route.lazy)te={type:Ke.error,error:Xt(405,{method:S.method,pathname:P.pathname,routeId:ie.route.id})};else if(te=(await mr("action",A,S,[ie],F,null))[ie.route.id],S.signal.aborted)return{shortCircuited:!0};if(Ni(te)){let ne;return le&&le.replace!=null?ne=le.replace:ne=Cm(te.response.headers.get("Location"),new URL(S.url),h)===A.location.pathname+A.location.search,await On(S,te,!0,{submission:L,replace:ne}),{shortCircuited:!0}}if(Hr(te))throw Xt(400,{type:"defer-action"});if(sn(te)){let ne=Pi(F,ie.route.id);return(le&&le.replace)!==!0&&(ae=_t.Push),{matches:F,pendingActionResult:[ne.route.id,te]}}return{matches:F,pendingActionResult:[ie.route.id,te]}}async function $s(S,P,L,F,Q,le,ge,te,ie,ne,ce){let Ie=Q||Fd(P,le),Ae=le||ge||xm(Ie),gt=!ze&&(!_.v7_partialHydration||!ie);if(F){if(gt){let nt=Vs(ce);pt(ot({navigation:Ie},nt!==void 0?{actionData:nt}:{}),{flushSync:ne})}let Me=await ci(L,P.pathname,S.signal);if(Me.type==="aborted")return{shortCircuited:!0};if(Me.type==="error"){let nt=Pi(Me.partialMatches).route.id;return{matches:Me.partialMatches,loaderData:{},errors:{[nt]:Me.error}}}else if(Me.matches)L=Me.matches;else{let{error:nt,notFoundMatches:yn,route:bt}=li(P.pathname);return{matches:yn,loaderData:{},errors:{[bt.id]:nt}}}}let We=d||u,[De,et]=wm(n.history,A,L,Ae,P,_.v7_partialHydration&&ie===!0,_.v7_skipActionErrorRevalidation,ke,qe,Ze,pe,D,k,We,h,ce);if(Ln(Me=>!(L&&L.some(nt=>nt.route.id===Me))||De&&De.some(nt=>nt.route.id===Me)),Z=++q,De.length===0&&et.length===0){let Me=qs();return Gn(P,ot({matches:L,loaderData:{},errors:ce&&sn(ce[1])?{[ce[0]]:ce[1].error}:null},Rm(ce),Me?{fetchers:new Map(A.fetchers)}:{}),{flushSync:ne}),{shortCircuited:!0}}if(gt){let Me={};if(!F){Me.navigation=Ie;let nt=Vs(ce);nt!==void 0&&(Me.actionData=nt)}et.length>0&&(Me.fetchers=Bs(et)),pt(Me,{flushSync:ne})}et.forEach(Me=>{bn(Me.key),Me.controller&&Se.set(Me.key,Me.controller)});let qn=()=>et.forEach(Me=>bn(Me.key));ee&&ee.signal.addEventListener("abort",qn);let{loaderResults:vr,fetcherResults:mn}=await Hs(A,L,De,et,S);if(S.signal.aborted)return{shortCircuited:!0};ee&&ee.signal.removeEventListener("abort",qn),et.forEach(Me=>Se.delete(Me.key));let an=zl(vr);if(an)return await On(S,an.result,!0,{replace:te}),{shortCircuited:!0};if(an=zl(mn),an)return k.add(an.key),await On(S,an.result,!0,{replace:te}),{shortCircuited:!0};let{loaderData:tt,errors:di}=Tm(A,L,vr,ce,et,mn,Re);Re.forEach((Me,nt)=>{Me.subscribe(yn=>{(yn||Me.done)&&Re.delete(nt)})}),_.v7_partialHydration&&ie&&A.errors&&(di=ot({},A.errors,di));let _n=qs(),fi=Aa(Z),Yn=_n||fi||et.length>0;return ot({matches:L,loaderData:tt,errors:di},Yn?{fetchers:new Map(A.fetchers)}:{})}function Vs(S){if(S&&!sn(S[1]))return{[S[0]]:S[1].data};if(A.actionData)return Object.keys(A.actionData).length===0?null:A.actionData}function Bs(S){return S.forEach(P=>{let L=A.fetchers.get(P.key),F=Do(void 0,L?L.data:void 0);A.fetchers.set(P.key,F)}),new Map(A.fetchers)}function oi(S,P,L,F){if(i)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");bn(S);let Q=(F&&F.flushSync)===!0,le=d||u,ge=ef(A.location,A.matches,h,_.v7_prependBasename,L,_.v7_relativeSplatPath,P,F==null?void 0:F.relative),te=Ri(le,ge,h),ie=ui(te,le,ge);if(ie.active&&ie.matches&&(te=ie.matches),!te){Ht(S,P,Xt(404,{pathname:ge}),{flushSync:Q});return}let{path:ne,submission:ce,error:Ie}=ym(_.v7_normalizeFormMethod,!0,ge,F);if(Ie){Ht(S,P,Ie,{flushSync:Q});return}let Ae=Bo(te,ne),gt=(F&&F.preventScrollReset)===!0;if(ce&&Tn(ce.formMethod)){gr(S,P,ne,Ae,te,ie.active,Q,gt,ce);return}D.set(S,{routeId:P,path:ne}),Ws(S,P,ne,Ae,te,ie.active,Q,gt,ce)}async function gr(S,P,L,F,Q,le,ge,te,ie){Vi(),D.delete(S);function ne(ut){if(!ut.route.action&&!ut.route.lazy){let St=Xt(405,{method:ie.formMethod,pathname:L,routeId:P});return Ht(S,P,St,{flushSync:ge}),!0}return!1}if(!le&&ne(F))return;let ce=A.fetchers.get(S);on(S,UC(ie,ce),{flushSync:ge});let Ie=new AbortController,Ae=hs(n.history,L,Ie.signal,ie);if(le){let ut=await ci(Q,L,Ae.signal);if(ut.type==="aborted")return;if(ut.type==="error"){Ht(S,P,ut.error,{flushSync:ge});return}else if(ut.matches){if(Q=ut.matches,F=Bo(Q,L),ne(F))return}else{Ht(S,P,Xt(404,{pathname:L}),{flushSync:ge});return}}Se.set(S,Ie);let gt=q,De=(await mr("action",A,Ae,[F],Q,S))[F.route.id];if(Ae.signal.aborted){Se.get(S)===Ie&&Se.delete(S);return}if(_.v7_fetcherPersist&&pe.has(S)){if(Ni(De)||sn(De)){on(S,zr(void 0));return}}else{if(Ni(De))if(Se.delete(S),Z>gt){on(S,zr(void 0));return}else return k.add(S),on(S,Do(ie)),On(Ae,De,!1,{fetcherSubmission:ie,preventScrollReset:te});if(sn(De)){Ht(S,P,De.error);return}}if(Hr(De))throw Xt(400,{type:"defer-action"});let et=A.navigation.location||A.location,qn=hs(n.history,et,Ie.signal),vr=d||u,mn=A.navigation.state!=="idle"?Ri(vr,A.navigation.location,h):A.matches;be(mn,"Didn't find any matches after fetcher action");let an=++q;Y.set(S,an);let tt=Do(ie,De.data);A.fetchers.set(S,tt);let[di,_n]=wm(n.history,A,mn,ie,et,!1,_.v7_skipActionErrorRevalidation,ke,qe,Ze,pe,D,k,vr,h,[F.route.id,De]);_n.filter(ut=>ut.key!==S).forEach(ut=>{let St=ut.key,Da=A.fetchers.get(St),Qu=Do(void 0,Da?Da.data:void 0);A.fetchers.set(St,Qu),bn(St),ut.controller&&Se.set(St,ut.controller)}),pt({fetchers:new Map(A.fetchers)});let fi=()=>_n.forEach(ut=>bn(ut.key));Ie.signal.addEventListener("abort",fi);let{loaderResults:Yn,fetcherResults:Me}=await Hs(A,mn,di,_n,qn);if(Ie.signal.aborted)return;Ie.signal.removeEventListener("abort",fi),Y.delete(S),Se.delete(S),_n.forEach(ut=>Se.delete(ut.key));let nt=zl(Yn);if(nt)return On(qn,nt.result,!1,{preventScrollReset:te});if(nt=zl(Me),nt)return k.add(nt.key),On(qn,nt.result,!1,{preventScrollReset:te});let{loaderData:yn,errors:bt}=Tm(A,mn,Yn,void 0,_n,Me,Re);if(A.fetchers.has(S)){let ut=zr(De.data);A.fetchers.set(S,ut)}Aa(an),A.navigation.state==="loading"&&an>Z?(be(ae,"Expected pending action"),ee&&ee.abort(),Gn(A.navigation.location,{matches:mn,loaderData:yn,errors:bt,fetchers:new Map(A.fetchers)})):(pt({errors:bt,loaderData:km(A.loaderData,yn,mn,bt),fetchers:new Map(A.fetchers)}),ke=!1)}async function Ws(S,P,L,F,Q,le,ge,te,ie){let ne=A.fetchers.get(S);on(S,Do(ie,ne?ne.data:void 0),{flushSync:ge});let ce=new AbortController,Ie=hs(n.history,L,ce.signal);if(le){let De=await ci(Q,L,Ie.signal);if(De.type==="aborted")return;if(De.type==="error"){Ht(S,P,De.error,{flushSync:ge});return}else if(De.matches)Q=De.matches,F=Bo(Q,L);else{Ht(S,P,Xt(404,{pathname:L}),{flushSync:ge});return}}Se.set(S,ce);let Ae=q,We=(await mr("loader",A,Ie,[F],Q,S))[F.route.id];if(Hr(We)&&(We=await Df(We,Ie.signal,!0)||We),Se.get(S)===ce&&Se.delete(S),!Ie.signal.aborted){if(pe.has(S)){on(S,zr(void 0));return}if(Ni(We))if(Z>Ae){on(S,zr(void 0));return}else{k.add(S),await On(Ie,We,!1,{preventScrollReset:te});return}if(sn(We)){Ht(S,P,We.error);return}be(!Hr(We),"Unhandled fetcher deferred data"),on(S,zr(We.data))}}async function On(S,P,L,F){let{submission:Q,fetcherSubmission:le,preventScrollReset:ge,replace:te}=F===void 0?{}:F;P.response.headers.has("X-Remix-Revalidate")&&(ke=!0);let ie=P.response.headers.get("Location");be(ie,"Expected a Location header on the redirect Response"),ie=Cm(ie,new URL(S.url),h);let ne=ta(A.location,ie,{_isRedirect:!0});if(t){let De=!1;if(P.response.headers.has("X-Remix-Reload-Document"))De=!0;else if(Lf.test(ie)){const et=n.history.createURL(ie);De=et.origin!==e.location.origin||_a(et.pathname,h)==null}if(De){te?e.location.replace(ie):e.location.assign(ie);return}}ee=null;let ce=te===!0||P.response.headers.has("X-Remix-Replace")?_t.Replace:_t.Push,{formMethod:Ie,formAction:Ae,formEncType:gt}=A.navigation;!Q&&!le&&Ie&&Ae&&gt&&(Q=xm(A.navigation));let We=Q||le;if(yC.has(P.response.status)&&We&&Tn(We.formMethod))await xn(ce,ne,{submission:ot({},We,{formAction:ie}),preventScrollReset:ge||V,enableViewTransition:L?de:void 0});else{let De=Fd(ne,Q);await xn(ce,ne,{overrideNavigation:De,fetcherSubmission:le,preventScrollReset:ge||V,enableViewTransition:L?de:void 0})}}async function mr(S,P,L,F,Q,le){let ge,te={};try{ge=await kC(g,S,P,L,F,Q,le,l,o)}catch(ie){return F.forEach(ne=>{te[ne.route.id]={type:Ke.error,error:ie}}),te}for(let[ie,ne]of Object.entries(ge))if(AC(ne)){let ce=ne.result;te[ie]={type:Ke.redirect,response:NC(ce,L,ie,Q,h,_.v7_relativeSplatPath)}}else te[ie]=await PC(ne);return te}async function Hs(S,P,L,F,Q){let le=S.matches,ge=mr("loader",S,Q,L,P,null),te=Promise.all(F.map(async ce=>{if(ce.matches&&ce.match&&ce.controller){let Ae=(await mr("loader",S,hs(n.history,ce.path,ce.controller.signal),[ce.match],ce.matches,ce.key))[ce.match.route.id];return{[ce.key]:Ae}}else return Promise.resolve({[ce.key]:{type:Ke.error,error:Xt(404,{pathname:ce.path})}})})),ie=await ge,ne=(await te).reduce((ce,Ie)=>Object.assign(ce,Ie),{});return await Promise.all([DC(P,ie,Q.signal,le,S.loaderData),MC(P,ne,F)]),{loaderResults:ie,fetcherResults:ne}}function Vi(){ke=!0,qe.push(...Ln()),D.forEach((S,P)=>{Se.has(P)&&Ze.add(P),bn(P)})}function on(S,P,L){L===void 0&&(L={}),A.fetchers.set(S,P),pt({fetchers:new Map(A.fetchers)},{flushSync:(L&&L.flushSync)===!0})}function Ht(S,P,L,F){F===void 0&&(F={});let Q=Pi(A.matches,P);An(S),pt({errors:{[Q.route.id]:L},fetchers:new Map(A.fetchers)},{flushSync:(F&&F.flushSync)===!0})}function Ks(S){return ve.set(S,(ve.get(S)||0)+1),pe.has(S)&&pe.delete(S),A.fetchers.get(S)||vC}function An(S){let P=A.fetchers.get(S);Se.has(S)&&!(P&&P.state==="loading"&&Y.has(S))&&bn(S),D.delete(S),Y.delete(S),k.delete(S),_.v7_fetcherPersist&&pe.delete(S),Ze.delete(S),A.fetchers.delete(S)}function ai(S){let P=(ve.get(S)||0)-1;P<=0?(ve.delete(S),pe.add(S),_.v7_fetcherPersist||An(S)):ve.set(S,P),pt({fetchers:new Map(A.fetchers)})}function bn(S){let P=Se.get(S);P&&(P.abort(),Se.delete(S))}function Gs(S){for(let P of S){let L=Ks(P),F=zr(L.data);A.fetchers.set(P,F)}}function qs(){let S=[],P=!1;for(let L of k){let F=A.fetchers.get(L);be(F,"Expected fetcher: "+L),F.state==="loading"&&(k.delete(L),S.push(L),P=!0)}return Gs(S),P}function Aa(S){let P=[];for(let[L,F]of Y)if(F<S){let Q=A.fetchers.get(L);be(Q,"Expected fetcher: "+L),Q.state==="loading"&&(bn(L),Y.delete(L),P.push(L))}return Gs(P),P.length>0}function Ys(S,P){let L=A.blockers.get(S)||Lo;return Pe.get(S)!==P&&Pe.set(S,P),L}function Bi(S){A.blockers.delete(S),Pe.delete(S)}function _r(S,P){let L=A.blockers.get(S)||Lo;be(L.state==="unblocked"&&P.state==="blocked"||L.state==="blocked"&&P.state==="blocked"||L.state==="blocked"&&P.state==="proceeding"||L.state==="blocked"&&P.state==="unblocked"||L.state==="proceeding"&&P.state==="unblocked","Invalid blocker state transition: "+L.state+" -> "+P.state);let F=new Map(A.blockers);F.set(S,P),pt({blockers:F})}function Wi(S){let{currentLocation:P,nextLocation:L,historyAction:F}=S;if(Pe.size===0)return;Pe.size>1&&Is(!1,"A router only supports one blocker at a time");let Q=Array.from(Pe.entries()),[le,ge]=Q[Q.length-1],te=A.blockers.get(le);if(!(te&&te.state==="proceeding")&&ge({currentLocation:P,nextLocation:L,historyAction:F}))return le}function li(S){let P=Xt(404,{pathname:S}),L=d||u,{matches:F,route:Q}=Pm(L);return Ln(),{notFoundMatches:F,route:Q,error:P}}function Ln(S){let P=[];return Re.forEach((L,F)=>{(!S||S(F))&&(L.cancel(),P.push(F),Re.delete(F))}),P}function yr(S,P,L){if(T=S,R=P,N=L||null,!H&&A.navigation===Md){H=!0;let F=Js(A.location,A.matches);F!=null&&pt({restoreScrollPosition:F})}return()=>{T=null,R=null,N=null}}function Qs(S,P){return N&&N(S,P.map(F=>QS(F,A.loaderData)))||S.key}function ba(S,P){if(T&&R){let L=Qs(S,P);T[L]=R()}}function Js(S,P){if(T){let L=Qs(S,P),F=T[L];if(typeof F=="number")return F}return null}function ui(S,P,L){if(m)if(S){if(Object.keys(S[0].params).length>0)return{active:!0,matches:Kl(P,L,h,!0)}}else return{active:!0,matches:Kl(P,L,h,!0)||[]};return{active:!1,matches:null}}async function ci(S,P,L){if(!m)return{type:"success",matches:S};let F=S;for(;;){let Q=d==null,le=d||u,ge=l;try{await m({path:P,matches:F,patch:(ne,ce)=>{L.aborted||Sm(ne,ce,le,ge,o)}})}catch(ne){return{type:"error",error:ne,partialMatches:F}}finally{Q&&!L.aborted&&(u=[...u])}if(L.aborted)return{type:"aborted"};let te=Ri(le,P,h);if(te)return{type:"success",matches:te};let ie=Kl(le,P,h,!0);if(!ie||F.length===ie.length&&F.every((ne,ce)=>ne.route.id===ie[ce].route.id))return{type:"success",matches:null};F=ie}}function Xs(S){l={},d=Xl(S,o,void 0,l)}function La(S,P){let L=d==null;Sm(S,P,d||u,l,o),L&&(u=[...u],pt({}))}return _e={get basename(){return h},get future(){return _},get state(){return A},get routes(){return u},get window(){return e},initialize:Ve,subscribe:jt,enableScrollRestoration:yr,navigate:si,fetch:oi,revalidate:zs,createHref:S=>n.history.createHref(S),encodeLocation:S=>n.history.encodeLocation(S),getFetcher:Ks,deleteFetcher:ai,dispose:Ye,getBlocker:Ys,deleteBlocker:Bi,patchRoutes:La,_internalFetchControllers:Se,_internalActiveDeferreds:Re,_internalSetRoutes:Xs},_e}function SC(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function ef(n,e,t,i,o,l,u,d){let h,g;if(u){h=[];for(let _ of e)if(h.push(_),_.route.id===u){g=_;break}}else h=e,g=e[e.length-1];let m=bf(o||".",Af(h,l),_a(n.pathname,t)||n.pathname,d==="path");if(o==null&&(m.search=n.search,m.hash=n.hash),(o==null||o===""||o===".")&&g){let _=Mf(m.search);if(g.route.index&&!_)m.search=m.search?m.search.replace(/^\?/,"?index&"):"?index";else if(!g.route.index&&_){let v=new URLSearchParams(m.search),E=v.getAll("index");v.delete("index"),E.filter(N=>N).forEach(N=>v.append("index",N));let T=v.toString();m.search=T?"?"+T:""}}return i&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Gr([t,m.pathname])),ma(m)}function ym(n,e,t,i){if(!i||!SC(i))return{path:t};if(i.formMethod&&!LC(i.formMethod))return{path:t,error:Xt(405,{method:i.formMethod})};let o=()=>({path:t,error:Xt(400,{type:"invalid-body"})}),l=i.formMethod||"get",u=n?l.toUpperCase():l.toLowerCase(),d=Iy(t);if(i.body!==void 0){if(i.formEncType==="text/plain"){if(!Tn(u))return o();let v=typeof i.body=="string"?i.body:i.body instanceof FormData||i.body instanceof URLSearchParams?Array.from(i.body.entries()).reduce((E,T)=>{let[N,R]=T;return""+E+N+"="+R+`
`},""):String(i.body);return{path:t,submission:{formMethod:u,formAction:d,formEncType:i.formEncType,formData:void 0,json:void 0,text:v}}}else if(i.formEncType==="application/json"){if(!Tn(u))return o();try{let v=typeof i.body=="string"?JSON.parse(i.body):i.body;return{path:t,submission:{formMethod:u,formAction:d,formEncType:i.formEncType,formData:void 0,json:v,text:void 0}}}catch{return o()}}}be(typeof FormData=="function","FormData is not available in this environment");let h,g;if(i.formData)h=nf(i.formData),g=i.formData;else if(i.body instanceof FormData)h=nf(i.body),g=i.body;else if(i.body instanceof URLSearchParams)h=i.body,g=Im(h);else if(i.body==null)h=new URLSearchParams,g=new FormData;else try{h=new URLSearchParams(i.body),g=Im(h)}catch{return o()}let m={formMethod:u,formAction:d,formEncType:i&&i.formEncType||"application/x-www-form-urlencoded",formData:g,json:void 0,text:void 0};if(Tn(m.formMethod))return{path:t,submission:m};let _=ri(t);return e&&_.search&&Mf(_.search)&&h.append("index",""),_.search="?"+h,{path:ma(_),submission:m}}function vm(n,e,t){t===void 0&&(t=!1);let i=n.findIndex(o=>o.route.id===e);return i>=0?n.slice(0,t?i+1:i):n}function wm(n,e,t,i,o,l,u,d,h,g,m,_,v,E,T,N){let R=N?sn(N[1])?N[1].error:N[1].data:void 0,H=n.createURL(e.location),z=n.createURL(o),J=t;l&&e.errors?J=vm(t,Object.keys(e.errors)[0],!0):N&&sn(N[1])&&(J=vm(t,N[0]));let G=N?N[1].statusCode:void 0,_e=u&&G&&G>=400,A=J.filter((V,ee)=>{let{route:de}=V;if(de.lazy)return!0;if(de.loader==null)return!1;if(l)return tf(de,e.loaderData,e.errors);if(CC(e.loaderData,e.matches[ee],V)||h.some(ze=>ze===V.route.id))return!0;let ye=e.matches[ee],Te=V;return Em(V,ot({currentUrl:H,currentParams:ye.params,nextUrl:z,nextParams:Te.params},i,{actionResult:R,actionStatus:G,defaultShouldRevalidate:_e?!1:d||H.pathname+H.search===z.pathname+z.search||H.search!==z.search||Sy(ye,Te)}))}),ae=[];return _.forEach((V,ee)=>{if(l||!t.some(ke=>ke.route.id===V.routeId)||m.has(ee))return;let de=Ri(E,V.path,T);if(!de){ae.push({key:ee,routeId:V.routeId,path:V.path,matches:null,match:null,controller:null});return}let ye=e.fetchers.get(ee),Te=Bo(de,V.path),ze=!1;v.has(ee)?ze=!1:g.has(ee)?(g.delete(ee),ze=!0):ye&&ye.state!=="idle"&&ye.data===void 0?ze=d:ze=Em(Te,ot({currentUrl:H,currentParams:e.matches[e.matches.length-1].params,nextUrl:z,nextParams:t[t.length-1].params},i,{actionResult:R,actionStatus:G,defaultShouldRevalidate:_e?!1:d})),ze&&ae.push({key:ee,routeId:V.routeId,path:V.path,matches:de,match:Te,controller:new AbortController})}),[A,ae]}function tf(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let i=e!=null&&e[n.id]!==void 0,o=t!=null&&t[n.id]!==void 0;return!i&&o?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!i&&!o}function CC(n,e,t){let i=!e||t.route.id!==e.route.id,o=n[t.route.id]===void 0;return i||o}function Sy(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function Em(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function Sm(n,e,t,i,o){var l;let u;if(n){let g=i[n];be(g,"No route found to patch children into: routeId = "+n),g.children||(g.children=[]),u=g.children}else u=t;let d=e.filter(g=>!u.some(m=>Cy(g,m))),h=Xl(d,o,[n||"_","patch",String(((l=u)==null?void 0:l.length)||"0")],i);u.push(...h)}function Cy(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,i)=>{var o;return(o=e.children)==null?void 0:o.some(l=>Cy(t,l))}):!1}async function IC(n,e,t){if(!n.lazy)return;let i=await n.lazy();if(!n.lazy)return;let o=t[n.id];be(o,"No route found in manifest");let l={};for(let u in i){let h=o[u]!==void 0&&u!=="hasErrorBoundary";Is(!h,'Route "'+o.id+'" has a static property "'+u+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+u+'" will be ignored.')),!h&&!qS.has(u)&&(l[u]=i[u])}Object.assign(o,l),Object.assign(o,ot({},e(o),{lazy:void 0}))}async function TC(n){let{matches:e}=n,t=e.filter(o=>o.shouldLoad);return(await Promise.all(t.map(o=>o.resolve()))).reduce((o,l,u)=>Object.assign(o,{[t[u].route.id]:l}),{})}async function kC(n,e,t,i,o,l,u,d,h,g){let m=l.map(E=>E.route.lazy?IC(E.route,h,d):void 0),_=l.map((E,T)=>{let N=m[T],R=o.some(z=>z.route.id===E.route.id);return ot({},E,{shouldLoad:R,resolve:async z=>(z&&i.method==="GET"&&(E.route.lazy||E.route.loader)&&(R=!0),R?RC(e,i,E,N,z,g):Promise.resolve({type:Ke.data,result:void 0}))})}),v=await n({matches:_,request:i,params:l[0].params,fetcherKey:u,context:g});try{await Promise.all(m)}catch{}return v}async function RC(n,e,t,i,o,l){let u,d,h=g=>{let m,_=new Promise((T,N)=>m=N);d=()=>m(),e.signal.addEventListener("abort",d);let v=T=>typeof g!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+n+'" [routeId: '+t.route.id+"]"))):g({request:e,params:t.params,context:l},...T!==void 0?[T]:[]),E=(async()=>{try{return{type:"data",result:await(o?o(N=>v(N)):v())}}catch(T){return{type:"error",result:T}}})();return Promise.race([E,_])};try{let g=t.route[n];if(i)if(g){let m,[_]=await Promise.all([h(g).catch(v=>{m=v}),i]);if(m!==void 0)throw m;u=_}else if(await i,g=t.route[n],g)u=await h(g);else if(n==="action"){let m=new URL(e.url),_=m.pathname+m.search;throw Xt(405,{method:e.method,pathname:_,routeId:t.route.id})}else return{type:Ke.data,result:void 0};else if(g)u=await h(g);else{let m=new URL(e.url),_=m.pathname+m.search;throw Xt(404,{pathname:_})}be(u.result!==void 0,"You defined "+(n==="action"?"an action":"a loader")+" for route "+('"'+t.route.id+"\" but didn't return anything from your `"+n+"` ")+"function. Please return a value or `null`.")}catch(g){return{type:Ke.error,result:g}}finally{d&&e.signal.removeEventListener("abort",d)}return u}async function PC(n){let{result:e,type:t}=n;if(Ty(e)){let g;try{let m=e.headers.get("Content-Type");m&&/\bapplication\/json\b/.test(m)?e.body==null?g=null:g=await e.json():g=await e.text()}catch(m){return{type:Ke.error,error:m}}return t===Ke.error?{type:Ke.error,error:new Zl(e.status,e.statusText,g),statusCode:e.status,headers:e.headers}:{type:Ke.data,data:g,statusCode:e.status,headers:e.headers}}if(t===Ke.error){if(Nm(e)){var i;if(e.data instanceof Error){var o;return{type:Ke.error,error:e.data,statusCode:(o=e.init)==null?void 0:o.status}}e=new Zl(((i=e.init)==null?void 0:i.status)||500,void 0,e.data)}return{type:Ke.error,error:e,statusCode:xu(e)?e.status:void 0}}if(bC(e)){var l,u;return{type:Ke.deferred,deferredData:e,statusCode:(l=e.init)==null?void 0:l.status,headers:((u=e.init)==null?void 0:u.headers)&&new Headers(e.init.headers)}}if(Nm(e)){var d,h;return{type:Ke.data,data:e.data,statusCode:(d=e.init)==null?void 0:d.status,headers:(h=e.init)!=null&&h.headers?new Headers(e.init.headers):void 0}}return{type:Ke.data,data:e}}function NC(n,e,t,i,o,l){let u=n.headers.get("Location");if(be(u,"Redirects returned/thrown from loaders/actions must have a Location header"),!Lf.test(u)){let d=i.slice(0,i.findIndex(h=>h.route.id===t)+1);u=ef(new URL(e.url),d,o,!0,u,l),n.headers.set("Location",u)}return n}function Cm(n,e,t){if(Lf.test(n)){let i=n,o=i.startsWith("//")?new URL(e.protocol+i):new URL(i),l=_a(o.pathname,t)!=null;if(o.origin===e.origin&&l)return o.pathname+o.search+o.hash}return n}function hs(n,e,t,i){let o=n.createURL(Iy(e)).toString(),l={signal:t};if(i&&Tn(i.formMethod)){let{formMethod:u,formEncType:d}=i;l.method=u.toUpperCase(),d==="application/json"?(l.headers=new Headers({"Content-Type":d}),l.body=JSON.stringify(i.json)):d==="text/plain"?l.body=i.text:d==="application/x-www-form-urlencoded"&&i.formData?l.body=nf(i.formData):l.body=i.formData}return new Request(o,l)}function nf(n){let e=new URLSearchParams;for(let[t,i]of n.entries())e.append(t,typeof i=="string"?i:i.name);return e}function Im(n){let e=new FormData;for(let[t,i]of n.entries())e.append(t,i);return e}function xC(n,e,t,i,o){let l={},u=null,d,h=!1,g={},m=t&&sn(t[1])?t[1].error:void 0;return n.forEach(_=>{if(!(_.route.id in e))return;let v=_.route.id,E=e[v];if(be(!Ni(E),"Cannot handle redirect results in processLoaderData"),sn(E)){let T=E.error;m!==void 0&&(T=m,m=void 0),u=u||{};{let N=Pi(n,v);u[N.route.id]==null&&(u[N.route.id]=T)}l[v]=void 0,h||(h=!0,d=xu(E.error)?E.error.status:500),E.headers&&(g[v]=E.headers)}else Hr(E)?(i.set(v,E.deferredData),l[v]=E.deferredData.data,E.statusCode!=null&&E.statusCode!==200&&!h&&(d=E.statusCode),E.headers&&(g[v]=E.headers)):(l[v]=E.data,E.statusCode&&E.statusCode!==200&&!h&&(d=E.statusCode),E.headers&&(g[v]=E.headers))}),m!==void 0&&t&&(u={[t[0]]:m},l[t[0]]=void 0),{loaderData:l,errors:u,statusCode:d||200,loaderHeaders:g}}function Tm(n,e,t,i,o,l,u){let{loaderData:d,errors:h}=xC(e,t,i,u);return o.forEach(g=>{let{key:m,match:_,controller:v}=g,E=l[m];if(be(E,"Did not find corresponding fetcher result"),!(v&&v.signal.aborted))if(sn(E)){let T=Pi(n.matches,_==null?void 0:_.route.id);h&&h[T.route.id]||(h=ot({},h,{[T.route.id]:E.error})),n.fetchers.delete(m)}else if(Ni(E))be(!1,"Unhandled fetcher revalidation redirect");else if(Hr(E))be(!1,"Unhandled fetcher deferred data");else{let T=zr(E.data);n.fetchers.set(m,T)}}),{loaderData:d,errors:h}}function km(n,e,t,i){let o=ot({},e);for(let l of t){let u=l.route.id;if(e.hasOwnProperty(u)?e[u]!==void 0&&(o[u]=e[u]):n[u]!==void 0&&l.route.loader&&(o[u]=n[u]),i&&i.hasOwnProperty(u))break}return o}function Rm(n){return n?sn(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function Pi(n,e){return(e?n.slice(0,n.findIndex(i=>i.route.id===e)+1):[...n]).reverse().find(i=>i.route.hasErrorBoundary===!0)||n[0]}function Pm(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Xt(n,e){let{pathname:t,routeId:i,method:o,type:l,message:u}=e===void 0?{}:e,d="Unknown Server Error",h="Unknown @remix-run/router error";return n===400?(d="Bad Request",o&&t&&i?h="You made a "+o+' request to "'+t+'" but '+('did not provide a `loader` for route "'+i+'", ')+"so there is no way to handle the request.":l==="defer-action"?h="defer() is not supported in actions":l==="invalid-body"&&(h="Unable to encode submission body")):n===403?(d="Forbidden",h='Route "'+i+'" does not match URL "'+t+'"'):n===404?(d="Not Found",h='No route matches URL "'+t+'"'):n===405&&(d="Method Not Allowed",o&&t&&i?h="You made a "+o.toUpperCase()+' request to "'+t+'" but '+('did not provide an `action` for route "'+i+'", ')+"so there is no way to handle the request.":o&&(h='Invalid request method "'+o.toUpperCase()+'"')),new Zl(n||500,d,new Error(h),!0)}function zl(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[i,o]=e[t];if(Ni(o))return{key:i,result:o}}}function Iy(n){let e=typeof n=="string"?ri(n):n;return ma(ot({},e,{hash:""}))}function OC(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function AC(n){return Ty(n.result)&&_C.has(n.result.status)}function Hr(n){return n.type===Ke.deferred}function sn(n){return n.type===Ke.error}function Ni(n){return(n&&n.type)===Ke.redirect}function Nm(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function bC(n){let e=n;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function Ty(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function LC(n){return mC.has(n.toLowerCase())}function Tn(n){return pC.has(n.toLowerCase())}async function DC(n,e,t,i,o){let l=Object.entries(e);for(let u=0;u<l.length;u++){let[d,h]=l[u],g=n.find(v=>(v==null?void 0:v.route.id)===d);if(!g)continue;let m=i.find(v=>v.route.id===g.route.id),_=m!=null&&!Sy(m,g)&&(o&&o[g.route.id])!==void 0;Hr(h)&&_&&await Df(h,t,!1).then(v=>{v&&(e[d]=v)})}}async function MC(n,e,t){for(let i=0;i<t.length;i++){let{key:o,routeId:l,controller:u}=t[i],d=e[o];n.find(g=>(g==null?void 0:g.route.id)===l)&&Hr(d)&&(be(u,"Expected an AbortController for revalidating fetcher deferred result"),await Df(d,u.signal,!0).then(g=>{g&&(e[o]=g)}))}}async function Df(n,e,t){if(t===void 0&&(t=!1),!await n.deferredData.resolveData(e)){if(t)try{return{type:Ke.data,data:n.deferredData.unwrappedData}}catch(o){return{type:Ke.error,error:o}}return{type:Ke.data,data:n.deferredData.data}}}function Mf(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Bo(n,e){let t=typeof e=="string"?ri(e).search:e.search;if(n[n.length-1].route.index&&Mf(t||""))return n[n.length-1];let i=vy(n);return i[i.length-1]}function xm(n){let{formMethod:e,formAction:t,formEncType:i,text:o,formData:l,json:u}=n;if(!(!e||!t||!i)){if(o!=null)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:void 0,text:o};if(l!=null)return{formMethod:e,formAction:t,formEncType:i,formData:l,json:void 0,text:void 0};if(u!==void 0)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:u,text:void 0}}}function Fd(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function FC(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Do(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function UC(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function zr(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function jC(n,e){try{let t=n.sessionStorage.getItem(Ey);if(t){let i=JSON.parse(t);for(let[o,l]of Object.entries(i||{}))l&&Array.isArray(l)&&e.set(o,new Set(l||[]))}}catch{}}function zC(n,e){if(e.size>0){let t={};for(let[i,o]of e)t[i]=[...o];try{n.sessionStorage.setItem(Ey,JSON.stringify(t))}catch(i){Is(!1,"Failed to save applied view transitions in sessionStorage ("+i+").")}}}/**
 * React Router v6.28.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function eu(){return eu=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},eu.apply(this,arguments)}const Ou=M.createContext(null),ky=M.createContext(null),ya=M.createContext(null),Ff=M.createContext(null),Fi=M.createContext({outlet:null,matches:[],isDataRoute:!1}),Ry=M.createContext(null);function va(){return M.useContext(Ff)!=null}function Uf(){return va()||be(!1),M.useContext(Ff).location}function Py(n){M.useContext(ya).static||M.useLayoutEffect(n)}function Au(){let{isDataRoute:n}=M.useContext(Fi);return n?XC():$C()}function $C(){va()||be(!1);let n=M.useContext(Ou),{basename:e,future:t,navigator:i}=M.useContext(ya),{matches:o}=M.useContext(Fi),{pathname:l}=Uf(),u=JSON.stringify(Af(o,t.v7_relativeSplatPath)),d=M.useRef(!1);return Py(()=>{d.current=!0}),M.useCallback(function(g,m){if(m===void 0&&(m={}),!d.current)return;if(typeof g=="number"){i.go(g);return}let _=bf(g,JSON.parse(u),l,m.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Gr([e,_.pathname])),(m.replace?i.replace:i.push)(_,m.state,m)},[e,i,u,l,n])}function VC(n,e,t,i){va()||be(!1);let{navigator:o}=M.useContext(ya),{matches:l}=M.useContext(Fi),u=l[l.length-1],d=u?u.params:{};u&&u.pathname;let h=u?u.pathnameBase:"/";u&&u.route;let g=Uf(),m;m=g;let _=m.pathname||"/",v=_;if(h!=="/"){let N=h.replace(/^\//,"").split("/");v="/"+_.replace(/^\//,"").split("/").slice(N.length).join("/")}let E=Ri(n,{pathname:v});return GC(E&&E.map(N=>Object.assign({},N,{params:Object.assign({},d,N.params),pathname:Gr([h,o.encodeLocation?o.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?h:Gr([h,o.encodeLocation?o.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),l,t,i)}function BC(){let n=JC(),e=xu(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),t?M.createElement("pre",{style:o},t):null,null)}const WC=M.createElement(BC,null);class HC extends M.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?M.createElement(Fi.Provider,{value:this.props.routeContext},M.createElement(Ry.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function KC(n){let{routeContext:e,match:t,children:i}=n,o=M.useContext(Ou);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),M.createElement(Fi.Provider,{value:e},i)}function GC(n,e,t,i){var o;if(e===void 0&&(e=[]),t===void 0&&(t=null),i===void 0&&(i=null),n==null){var l;if(!t)return null;if(t.errors)n=t.matches;else if((l=i)!=null&&l.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let u=n,d=(o=t)==null?void 0:o.errors;if(d!=null){let m=u.findIndex(_=>_.route.id&&(d==null?void 0:d[_.route.id])!==void 0);m>=0||be(!1),u=u.slice(0,Math.min(u.length,m+1))}let h=!1,g=-1;if(t&&i&&i.v7_partialHydration)for(let m=0;m<u.length;m++){let _=u[m];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(g=m),_.route.id){let{loaderData:v,errors:E}=t,T=_.route.loader&&v[_.route.id]===void 0&&(!E||E[_.route.id]===void 0);if(_.route.lazy||T){h=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}return u.reduceRight((m,_,v)=>{let E,T=!1,N=null,R=null;t&&(E=d&&_.route.id?d[_.route.id]:void 0,N=_.route.errorElement||WC,h&&(g<0&&v===0?(T=!0,R=null):g===v&&(T=!0,R=_.route.hydrateFallbackElement||null)));let H=e.concat(u.slice(0,v+1)),z=()=>{let J;return E?J=N:T?J=R:_.route.Component?J=M.createElement(_.route.Component,null):_.route.element?J=_.route.element:J=m,M.createElement(KC,{match:_,routeContext:{outlet:m,matches:H,isDataRoute:t!=null},children:J})};return t&&(_.route.ErrorBoundary||_.route.errorElement||v===0)?M.createElement(HC,{location:t.location,revalidation:t.revalidation,component:N,error:E,children:z(),routeContext:{outlet:null,matches:H,isDataRoute:!0}}):z()},null)}var Ny=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(Ny||{}),tu=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(tu||{});function qC(n){let e=M.useContext(Ou);return e||be(!1),e}function YC(n){let e=M.useContext(ky);return e||be(!1),e}function QC(n){let e=M.useContext(Fi);return e||be(!1),e}function xy(n){let e=QC(),t=e.matches[e.matches.length-1];return t.route.id||be(!1),t.route.id}function JC(){var n;let e=M.useContext(Ry),t=YC(tu.UseRouteError),i=xy(tu.UseRouteError);return e!==void 0?e:(n=t.errors)==null?void 0:n[i]}function XC(){let{router:n}=qC(Ny.UseNavigateStable),e=xy(tu.UseNavigateStable),t=M.useRef(!1);return Py(()=>{t.current=!0}),M.useCallback(function(o,l){l===void 0&&(l={}),t.current&&(typeof o=="number"?n.navigate(o):n.navigate(o,eu({fromRouteId:e},l)))},[n,e])}const Om={};function ZC(n,e){Om[e]||(Om[e]=!0,console.warn(e))}const ps=(n,e,t)=>ZC(n,"⚠️ React Router Future Flag Warning: "+e+". "+("You can use the `"+n+"` future flag to opt-in early. ")+("For more information, see "+t+"."));function eI(n,e){(n==null?void 0:n.v7_startTransition)===void 0&&ps("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),(n==null?void 0:n.v7_relativeSplatPath)===void 0&&(!e||!e.v7_relativeSplatPath)&&ps("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath"),e&&(e.v7_fetcherPersist===void 0&&ps("v7_fetcherPersist","The persistence behavior of fetchers is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_fetcherpersist"),e.v7_normalizeFormMethod===void 0&&ps("v7_normalizeFormMethod","Casing of `formMethod` fields is being normalized to uppercase in v7","https://reactrouter.com/v6/upgrading/future#v7_normalizeformmethod"),e.v7_partialHydration===void 0&&ps("v7_partialHydration","`RouterProvider` hydration behavior is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_partialhydration"),e.v7_skipActionErrorRevalidation===void 0&&ps("v7_skipActionErrorRevalidation","The revalidation behavior after 4xx/5xx `action` responses is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_skipactionerrorrevalidation"))}function tI(n){let{to:e,replace:t,state:i,relative:o}=n;va()||be(!1);let{future:l,static:u}=M.useContext(ya),{matches:d}=M.useContext(Fi),{pathname:h}=Uf(),g=Au(),m=bf(e,Af(d,l.v7_relativeSplatPath),h,o==="path"),_=JSON.stringify(m);return M.useEffect(()=>g(JSON.parse(_),{replace:t,state:i,relative:o}),[g,_,o,t,i]),null}function nI(n){let{basename:e="/",children:t=null,location:i,navigationType:o=_t.Pop,navigator:l,static:u=!1,future:d}=n;va()&&be(!1);let h=e.replace(/^\/*/,"/"),g=M.useMemo(()=>({basename:h,navigator:l,static:u,future:eu({v7_relativeSplatPath:!1},d)}),[h,d,l,u]);typeof i=="string"&&(i=ri(i));let{pathname:m="/",search:_="",hash:v="",state:E=null,key:T="default"}=i,N=M.useMemo(()=>{let R=_a(m,h);return R==null?null:{location:{pathname:R,search:_,hash:v,state:E,key:T},navigationType:o}},[h,m,_,v,E,T,o]);return N==null?null:M.createElement(ya.Provider,{value:g},M.createElement(Ff.Provider,{children:t,value:N}))}new Promise(()=>{});function rI(n){let e={hasErrorBoundary:n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&Object.assign(e,{element:M.createElement(n.Component),Component:void 0}),n.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:M.createElement(n.HydrateFallback),HydrateFallback:void 0}),n.ErrorBoundary&&Object.assign(e,{errorElement:M.createElement(n.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.28.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nu(){return nu=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},nu.apply(this,arguments)}const iI="6";try{window.__reactRouterVersion=iI}catch{}function sI(n,e){return EC({basename:void 0,future:nu({},void 0,{v7_prependBasename:!0}),history:HS({window:void 0}),hydrationData:oI(),routes:n,mapRouteProperties:rI,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function oI(){var n;let e=(n=window)==null?void 0:n.__staticRouterHydrationData;return e&&e.errors&&(e=nu({},e,{errors:aI(e.errors)})),e}function aI(n){if(!n)return null;let e=Object.entries(n),t={};for(let[i,o]of e)if(o&&o.__type==="RouteErrorResponse")t[i]=new Zl(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let l=window[o.__subType];if(typeof l=="function")try{let u=new l(o.message);u.stack="",t[i]=u}catch{}}if(t[i]==null){let l=new Error(o.message);l.stack="",t[i]=l}}else t[i]=o;return t}const lI=M.createContext({isTransitioning:!1}),uI=M.createContext(new Map),cI="startTransition",Am=MS[cI],dI="flushSync",bm=WS[dI];function fI(n){Am?Am(n):n()}function Mo(n){bm?bm(n):n()}let hI=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",t(i))}})}};function pI(n){let{fallbackElement:e,router:t,future:i}=n,[o,l]=M.useState(t.state),[u,d]=M.useState(),[h,g]=M.useState({isTransitioning:!1}),[m,_]=M.useState(),[v,E]=M.useState(),[T,N]=M.useState(),R=M.useRef(new Map),{v7_startTransition:H}=i||{},z=M.useCallback(V=>{H?fI(V):V()},[H]),J=M.useCallback((V,ee)=>{let{deletedFetchers:de,flushSync:ye,viewTransitionOpts:Te}=ee;V.fetchers.forEach((ke,qe)=>{ke.data!==void 0&&R.current.set(qe,ke.data)}),de.forEach(ke=>R.current.delete(ke));let ze=t.window==null||t.window.document==null||typeof t.window.document.startViewTransition!="function";if(!Te||ze){ye?Mo(()=>l(V)):z(()=>l(V));return}if(ye){Mo(()=>{v&&(m&&m.resolve(),v.skipTransition()),g({isTransitioning:!0,flushSync:!0,currentLocation:Te.currentLocation,nextLocation:Te.nextLocation})});let ke=t.window.document.startViewTransition(()=>{Mo(()=>l(V))});ke.finished.finally(()=>{Mo(()=>{_(void 0),E(void 0),d(void 0),g({isTransitioning:!1})})}),Mo(()=>E(ke));return}v?(m&&m.resolve(),v.skipTransition(),N({state:V,currentLocation:Te.currentLocation,nextLocation:Te.nextLocation})):(d(V),g({isTransitioning:!0,flushSync:!1,currentLocation:Te.currentLocation,nextLocation:Te.nextLocation}))},[t.window,v,m,R,z]);M.useLayoutEffect(()=>t.subscribe(J),[t,J]),M.useEffect(()=>{h.isTransitioning&&!h.flushSync&&_(new hI)},[h]),M.useEffect(()=>{if(m&&u&&t.window){let V=u,ee=m.promise,de=t.window.document.startViewTransition(async()=>{z(()=>l(V)),await ee});de.finished.finally(()=>{_(void 0),E(void 0),d(void 0),g({isTransitioning:!1})}),E(de)}},[z,u,m,t.window]),M.useEffect(()=>{m&&u&&o.location.key===u.location.key&&m.resolve()},[m,v,o.location,u]),M.useEffect(()=>{!h.isTransitioning&&T&&(d(T.state),g({isTransitioning:!0,flushSync:!1,currentLocation:T.currentLocation,nextLocation:T.nextLocation}),N(void 0))},[h.isTransitioning,T]),M.useEffect(()=>{},[]);let G=M.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:V=>t.navigate(V),push:(V,ee,de)=>t.navigate(V,{state:ee,preventScrollReset:de==null?void 0:de.preventScrollReset}),replace:(V,ee,de)=>t.navigate(V,{replace:!0,state:ee,preventScrollReset:de==null?void 0:de.preventScrollReset})}),[t]),_e=t.basename||"/",A=M.useMemo(()=>({router:t,navigator:G,static:!1,basename:_e}),[t,G,_e]),ae=M.useMemo(()=>({v7_relativeSplatPath:t.future.v7_relativeSplatPath}),[t.future.v7_relativeSplatPath]);return M.useEffect(()=>eI(i,t.future),[i,t.future]),M.createElement(M.Fragment,null,M.createElement(Ou.Provider,{value:A},M.createElement(ky.Provider,{value:o},M.createElement(uI.Provider,{value:R.current},M.createElement(lI.Provider,{value:h},M.createElement(nI,{basename:_e,location:o.location,navigationType:o.historyAction,navigator:G,future:ae},o.initialized||t.future.v7_partialHydration?M.createElement(gI,{routes:t.routes,future:t.future,state:o}):e))))),null)}const gI=M.memo(mI);function mI(n){let{routes:e,future:t,state:i}=n;return VC(e,void 0,i,t)}var Lm;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(Lm||(Lm={}));var Dm;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(Dm||(Dm={}));const _I=(n,e,t,i)=>{var l,u,d,h;const o=[t,{code:e,...i||{}}];if((u=(l=n==null?void 0:n.services)==null?void 0:l.logger)!=null&&u.forward)return n.services.logger.forward(o,"warn","react-i18next::",!0);Oi(o[0])&&(o[0]=`react-i18next:: ${o[0]}`),(h=(d=n==null?void 0:n.services)==null?void 0:d.logger)!=null&&h.warn?n.services.logger.warn(...o):console!=null&&console.warn&&console.warn(...o)},Mm={},rf=(n,e,t,i)=>{Oi(t)&&Mm[t]||(Oi(t)&&(Mm[t]=new Date),_I(n,e,t,i))},Oy=(n,e)=>()=>{if(n.isInitialized)e();else{const t=()=>{setTimeout(()=>{n.off("initialized",t)},0),e()};n.on("initialized",t)}},sf=(n,e,t)=>{n.loadNamespaces(e,Oy(n,t))},Fm=(n,e,t,i)=>{if(Oi(t)&&(t=[t]),n.options.preload&&n.options.preload.indexOf(e)>-1)return sf(n,t,i);t.forEach(o=>{n.options.ns.indexOf(o)<0&&n.options.ns.push(o)}),n.loadLanguages(e,Oy(n,i))},yI=(n,e,t={})=>!e.languages||!e.languages.length?(rf(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(n,{lng:t.lng,precheck:(i,o)=>{var l;if(((l=t.bindI18n)==null?void 0:l.indexOf("languageChanging"))>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!o(i.isLanguageChangingTo,n))return!1}}),Oi=n=>typeof n=="string",vI=n=>typeof n=="object"&&n!==null,wI=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,EI={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},SI=n=>EI[n],CI=n=>n.replace(wI,SI);let of={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:CI};const II=(n={})=>{of={...of,...n}},TI=()=>of;let Ay;const kI=n=>{Ay=n},RI=()=>Ay,PI={type:"3rdParty",init(n){II(n.options.react),kI(n)}},by=M.createContext();class NI{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const xI=(n,e)=>{const t=M.useRef();return M.useEffect(()=>{t.current=n},[n,e]),t.current},Ly=(n,e,t,i)=>n.getFixedT(e,t,i),OI=(n,e,t,i)=>M.useCallback(Ly(n,e,t,i),[n,e,t,i]),As=(n,e={})=>{var G,_e,A,ae;const{i18n:t}=e,{i18n:i,defaultNS:o}=M.useContext(by)||{},l=t||i||RI();if(l&&!l.reportNamespaces&&(l.reportNamespaces=new NI),!l){rf(l,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const V=(de,ye)=>Oi(ye)?ye:vI(ye)&&Oi(ye.defaultValue)?ye.defaultValue:Array.isArray(de)?de[de.length-1]:de,ee=[V,{},!1];return ee.t=V,ee.i18n={},ee.ready=!1,ee}(G=l.options.react)!=null&&G.wait&&rf(l,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const u={...TI(),...l.options.react,...e},{useSuspense:d,keyPrefix:h}=u;let g=o||((_e=l.options)==null?void 0:_e.defaultNS);g=Oi(g)?[g]:g||["translation"],(ae=(A=l.reportNamespaces).addUsedNamespaces)==null||ae.call(A,g);const m=(l.isInitialized||l.initializedStoreOnce)&&g.every(V=>yI(V,l,u)),_=OI(l,e.lng||null,u.nsMode==="fallback"?g:g[0],h),v=()=>_,E=()=>Ly(l,e.lng||null,u.nsMode==="fallback"?g:g[0],h),[T,N]=M.useState(v);let R=g.join();e.lng&&(R=`${e.lng}${R}`);const H=xI(R),z=M.useRef(!0);M.useEffect(()=>{const{bindI18n:V,bindI18nStore:ee}=u;z.current=!0,!m&&!d&&(e.lng?Fm(l,e.lng,g,()=>{z.current&&N(E)}):sf(l,g,()=>{z.current&&N(E)})),m&&H&&H!==R&&z.current&&N(E);const de=()=>{z.current&&N(E)};return V&&(l==null||l.on(V,de)),ee&&(l==null||l.store.on(ee,de)),()=>{z.current=!1,l&&(V==null||V.split(" ").forEach(ye=>l.off(ye,de))),ee&&l&&ee.split(" ").forEach(ye=>l.store.off(ye,de))}},[l,R]),M.useEffect(()=>{z.current&&m&&N(v)},[l,h,m]);const J=[T,l,m];if(J.t=T,J.i18n=l,J.ready=m,m||!m&&!d)return J;throw new Promise(V=>{e.lng?Fm(l,e.lng,g,()=>V()):sf(l,g,()=>V())})};function AI({i18n:n,defaultNS:e,children:t}){const i=M.useMemo(()=>({i18n:n,defaultNS:e}),[n,e]);return M.createElement(by.Provider,{value:i},t)}const Ce=n=>typeof n=="string",Fo=()=>{let n,e;const t=new Promise((i,o)=>{n=i,e=o});return t.resolve=n,t.reject=e,t},Um=n=>n==null?"":""+n,bI=(n,e,t)=>{n.forEach(i=>{e[i]&&(t[i]=e[i])})},LI=/###/g,jm=n=>n&&n.indexOf("###")>-1?n.replace(LI,"."):n,zm=n=>!n||Ce(n),qo=(n,e,t)=>{const i=Ce(e)?e.split("."):e;let o=0;for(;o<i.length-1;){if(zm(n))return{};const l=jm(i[o]);!n[l]&&t&&(n[l]=new t),Object.prototype.hasOwnProperty.call(n,l)?n=n[l]:n={},++o}return zm(n)?{}:{obj:n,k:jm(i[o])}},$m=(n,e,t)=>{const{obj:i,k:o}=qo(n,e,Object);if(i!==void 0||e.length===1){i[o]=t;return}let l=e[e.length-1],u=e.slice(0,e.length-1),d=qo(n,u,Object);for(;d.obj===void 0&&u.length;)l=`${u[u.length-1]}.${l}`,u=u.slice(0,u.length-1),d=qo(n,u,Object),d!=null&&d.obj&&typeof d.obj[`${d.k}.${l}`]<"u"&&(d.obj=void 0);d.obj[`${d.k}.${l}`]=t},DI=(n,e,t,i)=>{const{obj:o,k:l}=qo(n,e,Object);o[l]=o[l]||[],o[l].push(t)},ru=(n,e)=>{const{obj:t,k:i}=qo(n,e);if(t&&Object.prototype.hasOwnProperty.call(t,i))return t[i]},MI=(n,e,t)=>{const i=ru(n,t);return i!==void 0?i:ru(e,t)},Dy=(n,e,t)=>{for(const i in e)i!=="__proto__"&&i!=="constructor"&&(i in n?Ce(n[i])||n[i]instanceof String||Ce(e[i])||e[i]instanceof String?t&&(n[i]=e[i]):Dy(n[i],e[i],t):n[i]=e[i]);return n},gs=n=>n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var FI={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const UI=n=>Ce(n)?n.replace(/[&<>"'\/]/g,e=>FI[e]):n;class jI{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const i=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,i),this.regExpQueue.push(e),i}}const zI=[" ",",","?","!",";"],$I=new jI(20),VI=(n,e,t)=>{e=e||"",t=t||"";const i=zI.filter(u=>e.indexOf(u)<0&&t.indexOf(u)<0);if(i.length===0)return!0;const o=$I.getRegExp(`(${i.map(u=>u==="?"?"\\?":u).join("|")})`);let l=!o.test(n);if(!l){const u=n.indexOf(t);u>0&&!o.test(n.substring(0,u))&&(l=!0)}return l},af=function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!n)return;if(n[e])return Object.prototype.hasOwnProperty.call(n,e)?n[e]:void 0;const i=e.split(t);let o=n;for(let l=0;l<i.length;){if(!o||typeof o!="object")return;let u,d="";for(let h=l;h<i.length;++h)if(h!==l&&(d+=t),d+=i[h],u=o[d],u!==void 0){if(["string","number","boolean"].indexOf(typeof u)>-1&&h<i.length-1)continue;l+=h-l+1;break}o=u}return o},iu=n=>n==null?void 0:n.replace("_","-"),BI={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,e){var t,i;(i=(t=console==null?void 0:console[n])==null?void 0:t.apply)==null||i.call(t,console,e)}};let WI=class lf{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||BI,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,i,o){return o&&!this.debug?null:(Ce(e[0])&&(e[0]=`${i}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new lf(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new lf(this.logger,e)}};var jn=new WI;let bu=class{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(i=>{this.observers[i]||(this.observers[i]=new Map);const o=this.observers[i].get(t)||0;this.observers[i].set(t,o+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(u=>{let[d,h]=u;for(let g=0;g<h;g++)d(...i)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(u=>{let[d,h]=u;for(let g=0;g<h;g++)d.apply(d,[e,...i])})}};class Vm extends bu{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,i){var g,m;let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const l=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,u=o.ignoreJSONStructure!==void 0?o.ignoreJSONStructure:this.options.ignoreJSONStructure;let d;e.indexOf(".")>-1?d=e.split("."):(d=[e,t],i&&(Array.isArray(i)?d.push(...i):Ce(i)&&l?d.push(...i.split(l)):d.push(i)));const h=ru(this.data,d);return!h&&!t&&!i&&e.indexOf(".")>-1&&(e=d[0],t=d[1],i=d.slice(2).join(".")),h||!u||!Ce(i)?h:af((m=(g=this.data)==null?void 0:g[e])==null?void 0:m[t],i,l)}addResource(e,t,i,o){let l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const u=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator;let d=[e,t];i&&(d=d.concat(u?i.split(u):i)),e.indexOf(".")>-1&&(d=e.split("."),o=t,t=d[1]),this.addNamespaces(t),$m(this.data,d,o),l.silent||this.emit("added",e,t,i,o)}addResources(e,t,i){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const l in i)(Ce(i[l])||Array.isArray(i[l]))&&this.addResource(e,t,l,i[l],{silent:!0});o.silent||this.emit("added",e,t,i)}addResourceBundle(e,t,i,o,l){let u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},d=[e,t];e.indexOf(".")>-1&&(d=e.split("."),o=i,i=t,t=d[1]),this.addNamespaces(t);let h=ru(this.data,d)||{};u.skipCopy||(i=JSON.parse(JSON.stringify(i))),o?Dy(h,i,l):h={...h,...i},$m(this.data,d,h),u.silent||this.emit("added",e,t,i)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(o=>t[o]&&Object.keys(t[o]).length>0)}toJSON(){return this.data}}var My={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,e,t,i,o){return n.forEach(l=>{var u;e=((u=this.processors[l])==null?void 0:u.process(e,t,i,o))??e}),e}};const Bm={},Wm=n=>!Ce(n)&&typeof n!="boolean"&&typeof n!="number";class su extends bu{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),bI(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=jn.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const i=this.resolve(e,t);return(i==null?void 0:i.res)!==void 0}extractFromKey(e,t){let i=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;i===void 0&&(i=":");const o=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let l=t.ns||this.options.defaultNS||[];const u=i&&e.indexOf(i)>-1,d=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!VI(e,i,o);if(u&&!d){const h=e.match(this.interpolator.nestingRegexp);if(h&&h.length>0)return{key:e,namespaces:Ce(l)?[l]:l};const g=e.split(i);(i!==o||i===o&&this.options.ns.indexOf(g[0])>-1)&&(l=g.shift()),e=g.join(o)}return{key:e,namespaces:Ce(l)?[l]:l}}translate(e,t,i){if(typeof t!="object"&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),typeof t=="object"&&(t={...t}),t||(t={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const o=t.returnDetails!==void 0?t.returnDetails:this.options.returnDetails,l=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator,{key:u,namespaces:d}=this.extractFromKey(e[e.length-1],t),h=d[d.length-1],g=t.lng||this.language,m=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((g==null?void 0:g.toLowerCase())==="cimode"){if(m){const ye=t.nsSeparator||this.options.nsSeparator;return o?{res:`${h}${ye}${u}`,usedKey:u,exactUsedKey:u,usedLng:g,usedNS:h,usedParams:this.getUsedParamsDetails(t)}:`${h}${ye}${u}`}return o?{res:u,usedKey:u,exactUsedKey:u,usedLng:g,usedNS:h,usedParams:this.getUsedParamsDetails(t)}:u}const _=this.resolve(e,t);let v=_==null?void 0:_.res;const E=(_==null?void 0:_.usedKey)||u,T=(_==null?void 0:_.exactUsedKey)||u,N=["[object Number]","[object Function]","[object RegExp]"],R=t.joinArrays!==void 0?t.joinArrays:this.options.joinArrays,H=!this.i18nFormat||this.i18nFormat.handleAsObject,z=t.count!==void 0&&!Ce(t.count),J=su.hasDefaultValue(t),G=z?this.pluralResolver.getSuffix(g,t.count,t):"",_e=t.ordinal&&z?this.pluralResolver.getSuffix(g,t.count,{ordinal:!1}):"",A=z&&!t.ordinal&&t.count===0,ae=A&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${G}`]||t[`defaultValue${_e}`]||t.defaultValue;let V=v;H&&!v&&J&&(V=ae);const ee=Wm(V),de=Object.prototype.toString.apply(V);if(H&&V&&ee&&N.indexOf(de)<0&&!(Ce(R)&&Array.isArray(V))){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const ye=this.options.returnedObjectHandler?this.options.returnedObjectHandler(E,V,{...t,ns:d}):`key '${u} (${this.language})' returned an object instead of string.`;return o?(_.res=ye,_.usedParams=this.getUsedParamsDetails(t),_):ye}if(l){const ye=Array.isArray(V),Te=ye?[]:{},ze=ye?T:E;for(const ke in V)if(Object.prototype.hasOwnProperty.call(V,ke)){const qe=`${ze}${l}${ke}`;J&&!v?Te[ke]=this.translate(qe,{...t,defaultValue:Wm(ae)?ae[ke]:void 0,joinArrays:!1,ns:d}):Te[ke]=this.translate(qe,{...t,joinArrays:!1,ns:d}),Te[ke]===qe&&(Te[ke]=V[ke])}v=Te}}else if(H&&Ce(R)&&Array.isArray(v))v=v.join(R),v&&(v=this.extendTranslation(v,e,t,i));else{let ye=!1,Te=!1;!this.isValidLookup(v)&&J&&(ye=!0,v=ae),this.isValidLookup(v)||(Te=!0,v=u);const ke=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&Te?void 0:v,qe=J&&ae!==v&&this.options.updateMissing;if(Te||ye||qe){if(this.logger.log(qe?"updateKey":"missingKey",g,h,u,qe?ae:v),l){const Z=this.resolve(u,{...t,keySeparator:!1});Z&&Z.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let Ze=[];const Se=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Se&&Se[0])for(let Z=0;Z<Se.length;Z++)Ze.push(Se[Z]);else this.options.saveMissingTo==="all"?Ze=this.languageUtils.toResolveHierarchy(t.lng||this.language):Ze.push(t.lng||this.language);const q=(Z,Y,k)=>{var ve;const D=J&&k!==v?k:ke;this.options.missingKeyHandler?this.options.missingKeyHandler(Z,h,Y,D,qe,t):(ve=this.backendConnector)!=null&&ve.saveMissing&&this.backendConnector.saveMissing(Z,h,Y,D,qe,t),this.emit("missingKey",Z,h,Y,v)};this.options.saveMissing&&(this.options.saveMissingPlurals&&z?Ze.forEach(Z=>{const Y=this.pluralResolver.getSuffixes(Z,t);A&&t[`defaultValue${this.options.pluralSeparator}zero`]&&Y.indexOf(`${this.options.pluralSeparator}zero`)<0&&Y.push(`${this.options.pluralSeparator}zero`),Y.forEach(k=>{q([Z],u+k,t[`defaultValue${k}`]||ae)})}):q(Ze,u,ae))}v=this.extendTranslation(v,e,t,_,i),Te&&v===u&&this.options.appendNamespaceToMissingKey&&(v=`${h}:${u}`),(Te||ye)&&this.options.parseMissingKeyHandler&&(v=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${h}:${u}`:u,ye?v:void 0))}return o?(_.res=v,_.usedParams=this.getUsedParamsDetails(t),_):v}extendTranslation(e,t,i,o,l){var g,m;var u=this;if((g=this.i18nFormat)!=null&&g.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...i},i.lng||this.language||o.usedLng,o.usedNS,o.usedKey,{resolved:o});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init({...i,interpolation:{...this.options.interpolation,...i.interpolation}});const _=Ce(e)&&(((m=i==null?void 0:i.interpolation)==null?void 0:m.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let v;if(_){const T=e.match(this.interpolator.nestingRegexp);v=T&&T.length}let E=i.replace&&!Ce(i.replace)?i.replace:i;if(this.options.interpolation.defaultVariables&&(E={...this.options.interpolation.defaultVariables,...E}),e=this.interpolator.interpolate(e,E,i.lng||this.language||o.usedLng,i),_){const T=e.match(this.interpolator.nestingRegexp),N=T&&T.length;v<N&&(i.nest=!1)}!i.lng&&o&&o.res&&(i.lng=this.language||o.usedLng),i.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var T=arguments.length,N=new Array(T),R=0;R<T;R++)N[R]=arguments[R];return(l==null?void 0:l[0])===N[0]&&!i.context?(u.logger.warn(`It seems you are nesting recursively key: ${N[0]} in key: ${t[0]}`),null):u.translate(...N,t)},i)),i.interpolation&&this.interpolator.reset()}const d=i.postProcess||this.options.postProcess,h=Ce(d)?[d]:d;return e!=null&&(h!=null&&h.length)&&i.applyPostProcessor!==!1&&(e=My.handle(h,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...o,usedParams:this.getUsedParamsDetails(i)},...i}:i,this)),e}resolve(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i,o,l,u,d;return Ce(e)&&(e=[e]),e.forEach(h=>{if(this.isValidLookup(i))return;const g=this.extractFromKey(h,t),m=g.key;o=m;let _=g.namespaces;this.options.fallbackNS&&(_=_.concat(this.options.fallbackNS));const v=t.count!==void 0&&!Ce(t.count),E=v&&!t.ordinal&&t.count===0,T=t.context!==void 0&&(Ce(t.context)||typeof t.context=="number")&&t.context!=="",N=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);_.forEach(R=>{var H,z;this.isValidLookup(i)||(d=R,!Bm[`${N[0]}-${R}`]&&((H=this.utils)!=null&&H.hasLoadedNamespace)&&!((z=this.utils)!=null&&z.hasLoadedNamespace(d))&&(Bm[`${N[0]}-${R}`]=!0,this.logger.warn(`key "${o}" for languages "${N.join(", ")}" won't get resolved as namespace "${d}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),N.forEach(J=>{var A;if(this.isValidLookup(i))return;u=J;const G=[m];if((A=this.i18nFormat)!=null&&A.addLookupKeys)this.i18nFormat.addLookupKeys(G,m,J,R,t);else{let ae;v&&(ae=this.pluralResolver.getSuffix(J,t.count,t));const V=`${this.options.pluralSeparator}zero`,ee=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(v&&(G.push(m+ae),t.ordinal&&ae.indexOf(ee)===0&&G.push(m+ae.replace(ee,this.options.pluralSeparator)),E&&G.push(m+V)),T){const de=`${m}${this.options.contextSeparator}${t.context}`;G.push(de),v&&(G.push(de+ae),t.ordinal&&ae.indexOf(ee)===0&&G.push(de+ae.replace(ee,this.options.pluralSeparator)),E&&G.push(de+V))}}let _e;for(;_e=G.pop();)this.isValidLookup(i)||(l=_e,i=this.getResource(J,R,_e,t))}))})}),{res:i,usedKey:o,exactUsedKey:l,usedLng:u,usedNS:d}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,i){var l;let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return(l=this.i18nFormat)!=null&&l.getResource?this.i18nFormat.getResource(e,t,i,o):this.resourceStore.getResource(e,t,i,o)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],i=e.replace&&!Ce(e.replace);let o=i?e.replace:e;if(i&&typeof e.count<"u"&&(o.count=e.count),this.options.interpolation.defaultVariables&&(o={...this.options.interpolation.defaultVariables,...o}),!i){o={...o};for(const l of t)delete o[l]}return o}static hasDefaultValue(e){const t="defaultValue";for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&t===i.substring(0,t.length)&&e[i]!==void 0)return!0;return!1}}class Hm{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=jn.create("languageUtils")}getScriptPartFromCode(e){if(e=iu(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=iu(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(Ce(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(i=>{if(t)return;const o=this.formatLanguageCode(i);(!this.options.supportedLngs||this.isSupportedCode(o))&&(t=o)}),!t&&this.options.supportedLngs&&e.forEach(i=>{if(t)return;const o=this.getLanguagePartFromCode(i);if(this.isSupportedCode(o))return t=o;t=this.options.supportedLngs.find(l=>{if(l===o)return l;if(!(l.indexOf("-")<0&&o.indexOf("-")<0)&&(l.indexOf("-")>0&&o.indexOf("-")<0&&l.substring(0,l.indexOf("-"))===o||l.indexOf(o)===0&&o.length>1))return l})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),Ce(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let i=e[t];return i||(i=e[this.getScriptPartFromCode(t)]),i||(i=e[this.formatLanguageCode(t)]),i||(i=e[this.getLanguagePartFromCode(t)]),i||(i=e.default),i||[]}toResolveHierarchy(e,t){const i=this.getFallbackCodes(t||this.options.fallbackLng||[],e),o=[],l=u=>{u&&(this.isSupportedCode(u)?o.push(u):this.logger.warn(`rejecting language code not found in supportedLngs: ${u}`))};return Ce(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&l(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&l(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&l(this.getLanguagePartFromCode(e))):Ce(e)&&l(this.formatLanguageCode(e)),i.forEach(u=>{o.indexOf(u)<0&&l(this.formatLanguageCode(u))}),o}}const Km={zero:0,one:1,two:2,few:3,many:4,other:5},Gm={select:n=>n===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class HI{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=jn.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=iu(e==="dev"?"en":e),o=t.ordinal?"ordinal":"cardinal",l=JSON.stringify({cleanedCode:i,type:o});if(l in this.pluralRulesCache)return this.pluralRulesCache[l];let u;try{u=new Intl.PluralRules(i,{type:o})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Gm;if(!e.match(/-|_/))return Gm;const h=this.languageUtils.getLanguagePartFromCode(e);u=this.getRule(h,t)}return this.pluralRulesCache[l]=u,u}needsPlural(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this.getRule(e,t);return i||(i=this.getRule("dev",t)),(i==null?void 0:i.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,i).map(o=>`${t}${o}`)}getSuffixes(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this.getRule(e,t);return i||(i=this.getRule("dev",t)),i?i.resolvedOptions().pluralCategories.sort((o,l)=>Km[o]-Km[l]).map(o=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${o}`):[]}getSuffix(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const o=this.getRule(e,i);return o?`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${o.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,i))}}const qm=function(n,e,t){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,l=MI(n,e,t);return!l&&o&&Ce(t)&&(l=af(n,t,i),l===void 0&&(l=af(e,t,i))),l},Ud=n=>n.replace(/\$/g,"$$$$");class KI{constructor(){var t;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=jn.create("interpolator"),this.options=e,this.format=((t=e==null?void 0:e.interpolation)==null?void 0:t.format)||(i=>i),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:i,useRawValueToEscape:o,prefix:l,prefixEscaped:u,suffix:d,suffixEscaped:h,formatSeparator:g,unescapeSuffix:m,unescapePrefix:_,nestingPrefix:v,nestingPrefixEscaped:E,nestingSuffix:T,nestingSuffixEscaped:N,nestingOptionsSeparator:R,maxReplaces:H,alwaysFormat:z}=e.interpolation;this.escape=t!==void 0?t:UI,this.escapeValue=i!==void 0?i:!0,this.useRawValueToEscape=o!==void 0?o:!1,this.prefix=l?gs(l):u||"{{",this.suffix=d?gs(d):h||"}}",this.formatSeparator=g||",",this.unescapePrefix=m?"":_||"-",this.unescapeSuffix=this.unescapePrefix?"":m||"",this.nestingPrefix=v?gs(v):E||gs("$t("),this.nestingSuffix=T?gs(T):N||gs(")"),this.nestingOptionsSeparator=R||",",this.maxReplaces=H||1e3,this.alwaysFormat=z!==void 0?z:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,i)=>(t==null?void 0:t.source)===i?(t.lastIndex=0,t):new RegExp(i,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,i,o){var E;let l,u,d;const h=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},g=T=>{if(T.indexOf(this.formatSeparator)<0){const z=qm(t,h,T,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(z,void 0,i,{...o,...t,interpolationkey:T}):z}const N=T.split(this.formatSeparator),R=N.shift().trim(),H=N.join(this.formatSeparator).trim();return this.format(qm(t,h,R,this.options.keySeparator,this.options.ignoreJSONStructure),H,i,{...o,...t,interpolationkey:R})};this.resetRegExp();const m=(o==null?void 0:o.missingInterpolationHandler)||this.options.missingInterpolationHandler,_=((E=o==null?void 0:o.interpolation)==null?void 0:E.skipOnVariables)!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:T=>Ud(T)},{regex:this.regexp,safeValue:T=>this.escapeValue?Ud(this.escape(T)):Ud(T)}].forEach(T=>{for(d=0;l=T.regex.exec(e);){const N=l[1].trim();if(u=g(N),u===void 0)if(typeof m=="function"){const H=m(e,l,o);u=Ce(H)?H:""}else if(o&&Object.prototype.hasOwnProperty.call(o,N))u="";else if(_){u=l[0];continue}else this.logger.warn(`missed to pass in variable ${N} for interpolating ${e}`),u="";else!Ce(u)&&!this.useRawValueToEscape&&(u=Um(u));const R=T.safeValue(u);if(e=e.replace(l[0],R),_?(T.regex.lastIndex+=u.length,T.regex.lastIndex-=l[0].length):T.regex.lastIndex=0,d++,d>=this.maxReplaces)break}}),e}nest(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o,l,u;const d=(h,g)=>{const m=this.nestingOptionsSeparator;if(h.indexOf(m)<0)return h;const _=h.split(new RegExp(`${m}[ ]*{`));let v=`{${_[1]}`;h=_[0],v=this.interpolate(v,u);const E=v.match(/'/g),T=v.match(/"/g);(((E==null?void 0:E.length)??0)%2===0&&!T||T.length%2!==0)&&(v=v.replace(/'/g,'"'));try{u=JSON.parse(v),g&&(u={...g,...u})}catch(N){return this.logger.warn(`failed parsing options string in nesting for key ${h}`,N),`${h}${m}${v}`}return u.defaultValue&&u.defaultValue.indexOf(this.prefix)>-1&&delete u.defaultValue,h};for(;o=this.nestingRegexp.exec(e);){let h=[];u={...i},u=u.replace&&!Ce(u.replace)?u.replace:u,u.applyPostProcessor=!1,delete u.defaultValue;let g=!1;if(o[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(o[1])){const m=o[1].split(this.formatSeparator).map(_=>_.trim());o[1]=m.shift(),h=m,g=!0}if(l=t(d.call(this,o[1].trim(),u),u),l&&o[0]===e&&!Ce(l))return l;Ce(l)||(l=Um(l)),l||(this.logger.warn(`missed to resolve ${o[1]} for nesting ${e}`),l=""),g&&(l=h.reduce((m,_)=>this.format(m,_,i.lng,{...i,interpolationkey:o[1].trim()}),l.trim())),e=e.replace(o[0],l),this.regexp.lastIndex=0}return e}}const GI=n=>{let e=n.toLowerCase().trim();const t={};if(n.indexOf("(")>-1){const i=n.split("(");e=i[0].toLowerCase().trim();const o=i[1].substring(0,i[1].length-1);e==="currency"&&o.indexOf(":")<0?t.currency||(t.currency=o.trim()):e==="relativetime"&&o.indexOf(":")<0?t.range||(t.range=o.trim()):o.split(";").forEach(u=>{if(u){const[d,...h]=u.split(":"),g=h.join(":").trim().replace(/^'+|'+$/g,""),m=d.trim();t[m]||(t[m]=g),g==="false"&&(t[m]=!1),g==="true"&&(t[m]=!0),isNaN(g)||(t[m]=parseInt(g,10))}})}return{formatName:e,formatOptions:t}},ms=n=>{const e={};return(t,i,o)=>{let l=o;o&&o.interpolationkey&&o.formatParams&&o.formatParams[o.interpolationkey]&&o[o.interpolationkey]&&(l={...l,[o.interpolationkey]:void 0});const u=i+JSON.stringify(l);let d=e[u];return d||(d=n(iu(i),o),e[u]=d),d(t)}};class qI{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=jn.create("formatter"),this.options=e,this.formats={number:ms((t,i)=>{const o=new Intl.NumberFormat(t,{...i});return l=>o.format(l)}),currency:ms((t,i)=>{const o=new Intl.NumberFormat(t,{...i,style:"currency"});return l=>o.format(l)}),datetime:ms((t,i)=>{const o=new Intl.DateTimeFormat(t,{...i});return l=>o.format(l)}),relativetime:ms((t,i)=>{const o=new Intl.RelativeTimeFormat(t,{...i});return l=>o.format(l,i.range||"day")}),list:ms((t,i)=>{const o=new Intl.ListFormat(t,{...i});return l=>o.format(l)})},this.init(e)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=t.interpolation.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=ms(t)}format(e,t,i){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const l=t.split(this.formatSeparator);if(l.length>1&&l[0].indexOf("(")>1&&l[0].indexOf(")")<0&&l.find(d=>d.indexOf(")")>-1)){const d=l.findIndex(h=>h.indexOf(")")>-1);l[0]=[l[0],...l.splice(1,d)].join(this.formatSeparator)}return l.reduce((d,h)=>{var _;const{formatName:g,formatOptions:m}=GI(h);if(this.formats[g]){let v=d;try{const E=((_=o==null?void 0:o.formatParams)==null?void 0:_[o.interpolationkey])||{},T=E.locale||E.lng||o.locale||o.lng||i;v=this.formats[g](d,T,{...m,...o,...E})}catch(E){this.logger.warn(E)}return v}else this.logger.warn(`there was no format function for ${g}`);return d},e)}}const YI=(n,e)=>{n.pending[e]!==void 0&&(delete n.pending[e],n.pendingCount--)};class QI extends bu{constructor(e,t,i){var l,u;let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=i,this.languageUtils=i.languageUtils,this.options=o,this.logger=jn.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=o.maxParallelReads||10,this.readingCalls=0,this.maxRetries=o.maxRetries>=0?o.maxRetries:5,this.retryTimeout=o.retryTimeout>=1?o.retryTimeout:350,this.state={},this.queue=[],(u=(l=this.backend)==null?void 0:l.init)==null||u.call(l,i,o.backend,o)}queueLoad(e,t,i,o){const l={},u={},d={},h={};return e.forEach(g=>{let m=!0;t.forEach(_=>{const v=`${g}|${_}`;!i.reload&&this.store.hasResourceBundle(g,_)?this.state[v]=2:this.state[v]<0||(this.state[v]===1?u[v]===void 0&&(u[v]=!0):(this.state[v]=1,m=!1,u[v]===void 0&&(u[v]=!0),l[v]===void 0&&(l[v]=!0),h[_]===void 0&&(h[_]=!0)))}),m||(d[g]=!0)}),(Object.keys(l).length||Object.keys(u).length)&&this.queue.push({pending:u,pendingCount:Object.keys(u).length,loaded:{},errors:[],callback:o}),{toLoad:Object.keys(l),pending:Object.keys(u),toLoadLanguages:Object.keys(d),toLoadNamespaces:Object.keys(h)}}loaded(e,t,i){const o=e.split("|"),l=o[0],u=o[1];t&&this.emit("failedLoading",l,u,t),!t&&i&&this.store.addResourceBundle(l,u,i,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&i&&(this.state[e]=0);const d={};this.queue.forEach(h=>{DI(h.loaded,[l],u),YI(h,e),t&&h.errors.push(t),h.pendingCount===0&&!h.done&&(Object.keys(h.loaded).forEach(g=>{d[g]||(d[g]={});const m=h.loaded[g];m.length&&m.forEach(_=>{d[g][_]===void 0&&(d[g][_]=!0)})}),h.done=!0,h.errors.length?h.callback(h.errors):h.callback())}),this.emit("loaded",d),this.queue=this.queue.filter(h=>!h.done)}read(e,t,i){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,u=arguments.length>5?arguments[5]:void 0;if(!e.length)return u(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:i,tried:o,wait:l,callback:u});return}this.readingCalls++;const d=(g,m)=>{if(this.readingCalls--,this.waitingReads.length>0){const _=this.waitingReads.shift();this.read(_.lng,_.ns,_.fcName,_.tried,_.wait,_.callback)}if(g&&m&&o<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,i,o+1,l*2,u)},l);return}u(g,m)},h=this.backend[i].bind(this.backend);if(h.length===2){try{const g=h(e,t);g&&typeof g.then=="function"?g.then(m=>d(null,m)).catch(d):d(null,g)}catch(g){d(g)}return}return h(e,t,d)}prepareLoading(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),o&&o();Ce(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Ce(t)&&(t=[t]);const l=this.queueLoad(e,t,i,o);if(!l.toLoad.length)return l.pending.length||o(),null;l.toLoad.forEach(u=>{this.loadOne(u)})}load(e,t,i){this.prepareLoading(e,t,{},i)}reload(e,t,i){this.prepareLoading(e,t,{reload:!0},i)}loadOne(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const i=e.split("|"),o=i[0],l=i[1];this.read(o,l,"read",void 0,void 0,(u,d)=>{u&&this.logger.warn(`${t}loading namespace ${l} for language ${o} failed`,u),!u&&d&&this.logger.log(`${t}loaded namespace ${l} for language ${o}`,d),this.loaded(e,u,d)})}saveMissing(e,t,i,o,l){var h,g,m,_,v;let u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},d=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if((g=(h=this.services)==null?void 0:h.utils)!=null&&g.hasLoadedNamespace&&!((_=(m=this.services)==null?void 0:m.utils)!=null&&_.hasLoadedNamespace(t))){this.logger.warn(`did not save key "${i}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(i==null||i==="")){if((v=this.backend)!=null&&v.create){const E={...u,isUpdate:l},T=this.backend.create.bind(this.backend);if(T.length<6)try{let N;T.length===5?N=T(e,t,i,o,E):N=T(e,t,i,o),N&&typeof N.then=="function"?N.then(R=>d(null,R)).catch(d):d(null,N)}catch(N){d(N)}else T(e,t,i,o,d,E)}!e||!e[0]||this.store.addResource(e[0],t,i,o)}}}const Ym=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:n=>{let e={};if(typeof n[1]=="object"&&(e=n[1]),Ce(n[1])&&(e.defaultValue=n[1]),Ce(n[2])&&(e.tDescription=n[2]),typeof n[2]=="object"||typeof n[3]=="object"){const t=n[3]||n[2];Object.keys(t).forEach(i=>{e[i]=t[i]})}return e},interpolation:{escapeValue:!0,format:n=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),Qm=n=>{var e,t;return Ce(n.ns)&&(n.ns=[n.ns]),Ce(n.fallbackLng)&&(n.fallbackLng=[n.fallbackLng]),Ce(n.fallbackNS)&&(n.fallbackNS=[n.fallbackNS]),((t=(e=n.supportedLngs)==null?void 0:e.indexOf)==null?void 0:t.call(e,"cimode"))<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),typeof n.initImmediate=="boolean"&&(n.initAsync=n.initImmediate),n},$l=()=>{},JI=n=>{Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(t=>{typeof n[t]=="function"&&(n[t]=n[t].bind(n))})};class na extends bu{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(super(),this.options=Qm(e),this.services={},this.logger=jn,this.modules={external:[]},JI(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(){var e=this;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof t=="function"&&(i=t,t={}),t.defaultNS==null&&t.ns&&(Ce(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const o=Ym();this.options={...o,...this.options,...Qm(t)},this.options.interpolation={...o.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const l=m=>m?typeof m=="function"?new m:m:null;if(!this.options.isClone){this.modules.logger?jn.init(l(this.modules.logger),this.options):jn.init(null,this.options);let m;this.modules.formatter?m=this.modules.formatter:m=qI;const _=new Hm(this.options);this.store=new Vm(this.options.resources,this.options);const v=this.services;v.logger=jn,v.resourceStore=this.store,v.languageUtils=_,v.pluralResolver=new HI(_,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),m&&(!this.options.interpolation.format||this.options.interpolation.format===o.interpolation.format)&&(v.formatter=l(m),v.formatter.init(v,this.options),this.options.interpolation.format=v.formatter.format.bind(v.formatter)),v.interpolator=new KI(this.options),v.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},v.backendConnector=new QI(l(this.modules.backend),v.resourceStore,v,this.options),v.backendConnector.on("*",function(E){for(var T=arguments.length,N=new Array(T>1?T-1:0),R=1;R<T;R++)N[R-1]=arguments[R];e.emit(E,...N)}),this.modules.languageDetector&&(v.languageDetector=l(this.modules.languageDetector),v.languageDetector.init&&v.languageDetector.init(v,this.options.detection,this.options)),this.modules.i18nFormat&&(v.i18nFormat=l(this.modules.i18nFormat),v.i18nFormat.init&&v.i18nFormat.init(this)),this.translator=new su(this.services,this.options),this.translator.on("*",function(E){for(var T=arguments.length,N=new Array(T>1?T-1:0),R=1;R<T;R++)N[R-1]=arguments[R];e.emit(E,...N)}),this.modules.external.forEach(E=>{E.init&&E.init(this)})}if(this.format=this.options.interpolation.format,i||(i=$l),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const m=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);m.length>0&&m[0]!=="dev"&&(this.options.lng=m[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(m=>{this[m]=function(){return e.store[m](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(m=>{this[m]=function(){return e.store[m](...arguments),e}});const h=Fo(),g=()=>{const m=(_,v)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),h.resolve(v),i(_,v)};if(this.languages&&!this.isInitialized)return m(null,this.t.bind(this));this.changeLanguage(this.options.lng,m)};return this.options.resources||!this.options.initAsync?g():setTimeout(g,0),h}loadResources(e){var l,u;let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$l;const o=Ce(e)?e:this.language;if(typeof e=="function"&&(i=e),!this.options.resources||this.options.partialBundledLanguages){if((o==null?void 0:o.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return i();const d=[],h=g=>{if(!g||g==="cimode")return;this.services.languageUtils.toResolveHierarchy(g).forEach(_=>{_!=="cimode"&&d.indexOf(_)<0&&d.push(_)})};o?h(o):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(m=>h(m)),(u=(l=this.options.preload)==null?void 0:l.forEach)==null||u.call(l,g=>h(g)),this.services.backendConnector.load(d,this.options.ns,g=>{!g&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),i(g)})}else i(null)}reloadResources(e,t,i){const o=Fo();return typeof e=="function"&&(i=e,e=void 0),typeof t=="function"&&(i=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),i||(i=$l),this.services.backendConnector.reload(e,t,l=>{o.resolve(),i(l)}),o}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&My.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let t=0;t<this.languages.length;t++){const i=this.languages[t];if(!(["cimode","dev"].indexOf(i)>-1)&&this.store.hasLanguageSomeTranslations(i)){this.resolvedLanguage=i;break}}}changeLanguage(e,t){var i=this;this.isLanguageChangingTo=e;const o=Fo();this.emit("languageChanging",e);const l=h=>{this.language=h,this.languages=this.services.languageUtils.toResolveHierarchy(h),this.resolvedLanguage=void 0,this.setResolvedLanguage(h)},u=(h,g)=>{g?(l(g),this.translator.changeLanguage(g),this.isLanguageChangingTo=void 0,this.emit("languageChanged",g),this.logger.log("languageChanged",g)):this.isLanguageChangingTo=void 0,o.resolve(function(){return i.t(...arguments)}),t&&t(h,function(){return i.t(...arguments)})},d=h=>{var m,_;!e&&!h&&this.services.languageDetector&&(h=[]);const g=Ce(h)?h:this.services.languageUtils.getBestMatchFromCodes(h);g&&(this.language||l(g),this.translator.language||this.translator.changeLanguage(g),(_=(m=this.services.languageDetector)==null?void 0:m.cacheUserLanguage)==null||_.call(m,g)),this.loadResources(g,v=>{u(v,g)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?d(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(d):this.services.languageDetector.detect(d):d(e),o}getFixedT(e,t,i){var o=this;const l=function(u,d){let h;if(typeof d!="object"){for(var g=arguments.length,m=new Array(g>2?g-2:0),_=2;_<g;_++)m[_-2]=arguments[_];h=o.options.overloadTranslationOptionHandler([u,d].concat(m))}else h={...d};h.lng=h.lng||l.lng,h.lngs=h.lngs||l.lngs,h.ns=h.ns||l.ns,h.keyPrefix!==""&&(h.keyPrefix=h.keyPrefix||i||l.keyPrefix);const v=o.options.keySeparator||".";let E;return h.keyPrefix&&Array.isArray(u)?E=u.map(T=>`${h.keyPrefix}${v}${T}`):E=h.keyPrefix?`${h.keyPrefix}${v}${u}`:u,o.t(E,h)};return Ce(e)?l.lng=e:l.lngs=e,l.ns=t,l.keyPrefix=i,l}t(){var o;for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return(o=this.translator)==null?void 0:o.translate(...t)}exists(){var o;for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return(o=this.translator)==null?void 0:o.exists(...t)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const i=t.lng||this.resolvedLanguage||this.languages[0],o=this.options?this.options.fallbackLng:!1,l=this.languages[this.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const u=(d,h)=>{const g=this.services.backendConnector.state[`${d}|${h}`];return g===-1||g===0||g===2};if(t.precheck){const d=t.precheck(this,u);if(d!==void 0)return d}return!!(this.hasResourceBundle(i,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||u(i,e)&&(!o||u(l,e)))}loadNamespaces(e,t){const i=Fo();return this.options.ns?(Ce(e)&&(e=[e]),e.forEach(o=>{this.options.ns.indexOf(o)<0&&this.options.ns.push(o)}),this.loadResources(o=>{i.resolve(),t&&t(o)}),i):(t&&t(),Promise.resolve())}loadLanguages(e,t){const i=Fo();Ce(e)&&(e=[e]);const o=this.options.preload||[],l=e.filter(u=>o.indexOf(u)<0&&this.services.languageUtils.isSupportedCode(u));return l.length?(this.options.preload=o.concat(l),this.loadResources(u=>{i.resolve(),t&&t(u)}),i):(t&&t(),Promise.resolve())}dir(e){var o,l;if(e||(e=this.resolvedLanguage||(((o=this.languages)==null?void 0:o.length)>0?this.languages[0]:this.language)),!e)return"rtl";const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],i=((l=this.services)==null?void 0:l.languageUtils)||new Hm(Ym());return t.indexOf(i.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new na(e,t)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$l;const i=e.forkResourceStore;i&&delete e.forkResourceStore;const o={...this.options,...e,isClone:!0},l=new na(o);if((e.debug!==void 0||e.prefix!==void 0)&&(l.logger=l.logger.clone(e)),["store","services","language"].forEach(d=>{l[d]=this[d]}),l.services={...this.services},l.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},i){const d=Object.keys(this.store.data).reduce((h,g)=>(h[g]={...this.store.data[g]},Object.keys(h[g]).reduce((m,_)=>(m[_]={...h[g][_]},m),{})),{});l.store=new Vm(d,o),l.services.resourceStore=l.store}return l.translator=new su(l.services,o),l.translator.on("*",function(d){for(var h=arguments.length,g=new Array(h>1?h-1:0),m=1;m<h;m++)g[m-1]=arguments[m];l.emit(d,...g)}),l.init(o,t),l.translator.options=o,l.translator.backendConnector.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},l}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const At=na.createInstance();At.createInstance=na.createInstance;At.createInstance;At.dir;At.init;At.loadResources;At.reloadResources;At.use;At.changeLanguage;At.getFixedT;At.t;At.exists;At.setDefaultNamespace;At.hasLoadedNamespace;At.loadNamespaces;At.loadLanguages;const XI="Art by Mina 🤍",ZI="Home",eT="Gallery",tT="Draw",nT="About",rT={logo:XI,home:ZI,gallery:eT,draw:tT,about:nT,"hero-welcome":"Welcome to My Art World","gallery-title":"Gallery","gallery-random":"Show A Random Artwork","drawing-title":"Try Your Hand at Drawing !","about-title":"About the Artist","about-description":"Mina is a passionate artist who loves expressing emotions through vibrant colors and unique styles. Each painting tells a story and reflects a piece of her soul.","footer-text":"Art by Mina. All rights reserved."},iT="الفن مع مينا 🤍",sT="الرئيسية",oT="المعرض",aT="ارسم",lT="عن الفنان",uT={logo:iT,home:sT,gallery:oT,draw:aT,about:lT,"hero-welcome":"مرحبا بكم في عالمي الفني","gallery-title":"المعرض","gallery-random":"عرض عمل فني عشوائي","drawing-title":"! جرب الرسم","about-title":"عن الفنان","about-description":"مينا فنانة شغوفة تحب التعبير عن المشاعر من خلال الألوان النابضة بالحياة والأساليب الفريدة. تحكي كل لوحة قصة وتعكس قطعة من روحها","footer-text":"فن بواسطة مينا. كل الحقوق محفوظة"},cT="Art par Mina 🤍",dT="Accueil",fT="Galerie",hT="Dessiner",pT="À propos",gT={logo:cT,home:dT,gallery:fT,draw:hT,about:pT,"hero-welcome":"Bienvenue dans Mon Monde Artistique","gallery-title":"Galerie","gallery-random":"Afficher une œuvre d’art aléatoire","drawing-title":"Essayez de Dessiner !","about-title":"À propos de l'artiste","about-description":"Mina est une artiste passionnée qui aime exprimer des émotions à travers des couleurs vibrantes et des styles uniques. Chaque peinture raconte une histoire et reflète un morceau de son âme.","footer-text":"Art par Mina. Tous droits réservés."},mT="미나의 예술 🤍",_T="홈",yT="갤러리",vT="그리기",wT="작가 소개",ET={logo:mT,home:_T,gallery:yT,draw:vT,about:wT,"hero-welcome":"나의 예술 세계에 오신 것을 환영합니다","gallery-title":"갤러리","gallery-random":"무작위 아트웍 표시","drawing-title":"그리기 시도해보기 !","about-title":"작가 소개","about-description":"미나는 감정을 색감과 독특한 스타일로 표현하는 예술가입니다. 그녀의 그림 하나하나에는 이야기가 담겨있고, 그녀의 영혼이 녹아 있습니다.","footer-text":"미나의 예술. 모든 권리 보유."};At.use(PI).init({resources:{en:{translation:rT},ar:{translation:uT},fr:{translation:gT},ko:{translation:ET}},lng:"en",fallbackLng:"en",interpolation:{escapeValue:!1}});var Jm={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W=function(n,e){if(!n)throw bs(e)},bs=function(n){return new Error("Firebase Database ("+Fy.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},ST=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[t++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[t++],u=n[t++],d=n[t++],h=((o&7)<<18|(l&63)<<12|(u&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(h&1023))}else{const l=n[t++],u=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|u&63)}}return e.join("")},jf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const l=n[o],u=o+1<n.length,d=u?n[o+1]:0,h=o+2<n.length,g=h?n[o+2]:0,m=l>>2,_=(l&3)<<4|d>>4;let v=(d&15)<<2|g>>6,E=g&63;h||(E=64,u||(v=64)),i.push(t[m],t[_],t[v],t[E])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Uy(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):ST(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const l=t[n.charAt(o++)],d=o<n.length?t[n.charAt(o)]:0;++o;const g=o<n.length?t[n.charAt(o)]:64;++o;const _=o<n.length?t[n.charAt(o)]:64;if(++o,l==null||d==null||g==null||_==null)throw new CT;const v=l<<2|d>>4;if(i.push(v),g!==64){const E=d<<4&240|g>>2;if(i.push(E),_!==64){const T=g<<6&192|_;i.push(T)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class CT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jy=function(n){const e=Uy(n);return jf.encodeByteArray(e,!0)},ou=function(n){return jy(n).replace(/\./g,"")},au=function(n){try{return jf.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(n){return zy(void 0,n)}function zy(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!TT(t)||(n[t]=zy(n[t],e[t]));return n}function TT(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT=()=>kT().__FIREBASE_DEFAULTS__,PT=()=>{if(typeof process>"u"||typeof Jm>"u")return;const n=Jm.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},NT=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&au(n[1]);return e&&JSON.parse(e)},zf=()=>{try{return RT()||PT()||NT()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},$y=n=>{var e,t;return(t=(e=zf())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Vy=n=>{const e=$y(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},By=()=>{var n;return(n=zf())===null||n===void 0?void 0:n.config},Wy=n=>{var e;return(e=zf())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hy(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[ou(JSON.stringify(t)),ou(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $f(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function xT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function OT(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Ky(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function AT(){const n=Wt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function bT(){return Fy.NODE_ADMIN===!0}function LT(){try{return typeof indexedDB=="object"}catch{return!1}}function DT(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT="FirebaseError";class hr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=MT,Object.setPrototypeOf(this,hr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ea.prototype.create)}}class Ea{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],u=l?FT(l,i):"Error",d=`${this.serviceName}: ${u} (${o}).`;return new hr(o,d,i)}}function FT(n,e){return n.replace(UT,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const UT=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ra(n){return JSON.parse(n)}function Et(n){return JSON.stringify(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy=function(n){let e={},t={},i={},o="";try{const l=n.split(".");e=ra(au(l[0])||""),t=ra(au(l[1])||""),o=l[2],i=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:i,signature:o}},jT=function(n){const e=Gy(n),t=e.claims;return!!t&&typeof t=="object"&&t.hasOwnProperty("iat")},zT=function(n){const e=Gy(n).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Ts(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function uf(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function lu(n,e,t){const i={};for(const o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=e.call(t,n[o],o,n));return i}function uu(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const l=n[o],u=e[o];if(Xm(l)&&Xm(u)){if(!uu(l,u))return!1}else if(l!==u)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function Xm(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ls(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Wo(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,l]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function Ho(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const i=this.W_;if(typeof e=="string")for(let _=0;_<16;_++)i[_]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let _=0;_<16;_++)i[_]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let _=16;_<80;_++){const v=i[_-3]^i[_-8]^i[_-14]^i[_-16];i[_]=(v<<1|v>>>31)&4294967295}let o=this.chain_[0],l=this.chain_[1],u=this.chain_[2],d=this.chain_[3],h=this.chain_[4],g,m;for(let _=0;_<80;_++){_<40?_<20?(g=d^l&(u^d),m=1518500249):(g=l^u^d,m=1859775393):_<60?(g=l&u|d&(l|u),m=2400959708):(g=l^u^d,m=3395469782);const v=(o<<5|o>>>27)+g+h+m+i[_]&4294967295;h=d,d=u,u=(l<<30|l>>>2)&4294967295,l=o,o=v}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+d&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295}update(e,t){if(e==null)return;t===void 0&&(t=e.length);const i=t-this.blockSize;let o=0;const l=this.buf_;let u=this.inbuf_;for(;o<t;){if(u===0)for(;o<=i;)this.compress_(e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<t;)if(l[u]=e.charCodeAt(o),++u,++o,u===this.blockSize){this.compress_(l),u=0;break}}else for(;o<t;)if(l[u]=e[o],++u,++o,u===this.blockSize){this.compress_(l),u=0;break}}this.inbuf_=u,this.total_+=t}digest(){const e=[];let t=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=t&255,t/=256;this.compress_(this.buf_);let i=0;for(let o=0;o<5;o++)for(let l=24;l>=0;l-=8)e[i]=this.chain_[o]>>l&255,++i;return e}}function VT(n,e){const t=new BT(n,e);return t.subscribe.bind(t)}class BT{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");WT(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=jd),o.error===void 0&&(o.error=jd),o.complete===void 0&&(o.complete=jd);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function WT(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function jd(){}function Lu(n,e){return`${n} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);if(o>=55296&&o<=56319){const l=o-55296;i++,W(i<n.length,"Surrogate pair missing trail surrogate.");const u=n.charCodeAt(i)-56320;o=65536+(l<<10)+u}o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):o<65536?(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},Du=function(n){let e=0;for(let t=0;t<n.length;t++){const i=n.charCodeAt(t);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,t++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(n){return n&&n._delegate?n._delegate:n}class Zr{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new wa;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(qT(e))try{this.getOrInitializeService({instanceIdentifier:Ti})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=Ti){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ti){return this.instances.has(e)}getOptions(e=Ti){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&u.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(o,l);const u=this.instances.get(o);return u&&e(u,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:GT(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ti){return this.component?this.component.multipleInstances?e:Ti:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function GT(n){return n===Ti?void 0:n}function qT(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new KT(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(He||(He={}));const QT={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},JT=He.INFO,XT={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},ZT=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=XT[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Vf{constructor(e){this.name=e,this._logLevel=JT,this._logHandler=ZT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?QT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const e0=(n,e)=>e.some(t=>n instanceof t);let Zm,e_;function t0(){return Zm||(Zm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function n0(){return e_||(e_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qy=new WeakMap,cf=new WeakMap,Yy=new WeakMap,zd=new WeakMap,Bf=new WeakMap;function r0(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",u)},l=()=>{t(qr(n.result)),o()},u=()=>{i(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&qy.set(t,n)}).catch(()=>{}),Bf.set(e,n),e}function i0(n){if(cf.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",u),n.removeEventListener("abort",u)},l=()=>{t(),o()},u=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",u),n.addEventListener("abort",u)});cf.set(n,e)}let df={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return cf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Yy.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return qr(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function s0(n){df=n(df)}function o0(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call($d(this),e,...t);return Yy.set(i,e.sort?e.sort():[e]),qr(i)}:n0().includes(n)?function(...e){return n.apply($d(this),e),qr(qy.get(this))}:function(...e){return qr(n.apply($d(this),e))}}function a0(n){return typeof n=="function"?o0(n):(n instanceof IDBTransaction&&i0(n),e0(n,t0())?new Proxy(n,df):n)}function qr(n){if(n instanceof IDBRequest)return r0(n);if(zd.has(n))return zd.get(n);const e=a0(n);return e!==n&&(zd.set(n,e),Bf.set(e,n)),e}const $d=n=>Bf.get(n);function l0(n,e,{blocked:t,upgrade:i,blocking:o,terminated:l}={}){const u=indexedDB.open(n,e),d=qr(u);return i&&u.addEventListener("upgradeneeded",h=>{i(qr(u.result),h.oldVersion,h.newVersion,qr(u.transaction),h)}),t&&u.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),d.then(h=>{l&&h.addEventListener("close",()=>l()),o&&h.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const u0=["get","getKey","getAll","getAllKeys","count"],c0=["put","add","delete","clear"],Vd=new Map;function t_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Vd.get(e))return Vd.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=c0.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||u0.includes(t)))return;const l=async function(u,...d){const h=this.transaction(u,o?"readwrite":"readonly");let g=h.store;return i&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),o&&h.done]))[0]};return Vd.set(e,l),l}s0(n=>({...n,get:(e,t,i)=>t_(e,t)||n.get(e,t,i),has:(e,t)=>!!t_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(f0(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function f0(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ff="@firebase/app",n_="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cr=new Vf("@firebase/app"),h0="@firebase/app-compat",p0="@firebase/analytics-compat",g0="@firebase/analytics",m0="@firebase/app-check-compat",_0="@firebase/app-check",y0="@firebase/auth",v0="@firebase/auth-compat",w0="@firebase/database",E0="@firebase/data-connect",S0="@firebase/database-compat",C0="@firebase/functions",I0="@firebase/functions-compat",T0="@firebase/installations",k0="@firebase/installations-compat",R0="@firebase/messaging",P0="@firebase/messaging-compat",N0="@firebase/performance",x0="@firebase/performance-compat",O0="@firebase/remote-config",A0="@firebase/remote-config-compat",b0="@firebase/storage",L0="@firebase/storage-compat",D0="@firebase/firestore",M0="@firebase/vertexai",F0="@firebase/firestore-compat",U0="firebase",j0="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hf="[DEFAULT]",z0={[ff]:"fire-core",[h0]:"fire-core-compat",[g0]:"fire-analytics",[p0]:"fire-analytics-compat",[_0]:"fire-app-check",[m0]:"fire-app-check-compat",[y0]:"fire-auth",[v0]:"fire-auth-compat",[w0]:"fire-rtdb",[E0]:"fire-data-connect",[S0]:"fire-rtdb-compat",[C0]:"fire-fn",[I0]:"fire-fn-compat",[T0]:"fire-iid",[k0]:"fire-iid-compat",[R0]:"fire-fcm",[P0]:"fire-fcm-compat",[N0]:"fire-perf",[x0]:"fire-perf-compat",[O0]:"fire-rc",[A0]:"fire-rc-compat",[b0]:"fire-gcs",[L0]:"fire-gcs-compat",[D0]:"fire-fst",[F0]:"fire-fst-compat",[M0]:"fire-vertex","fire-js":"fire-js",[U0]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cu=new Map,$0=new Map,pf=new Map;function r_(n,e){try{n.container.addComponent(e)}catch(t){cr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ai(n){const e=n.name;if(pf.has(e))return cr.debug(`There were multiple attempts to register component ${e}.`),!1;pf.set(e,n);for(const t of cu.values())r_(t,n);for(const t of $0.values())r_(t,n);return!0}function Mu(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ir(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yr=new Ea("app","Firebase",V0);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Zr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui=j0;function Qy(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:hf,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw Yr.create("bad-app-name",{appName:String(o)});if(t||(t=By()),!t)throw Yr.create("no-options");const l=cu.get(o);if(l){if(uu(t,l.options)&&uu(i,l.config))return l;throw Yr.create("duplicate-app",{appName:o})}const u=new YT(o);for(const h of pf.values())u.addComponent(h);const d=new B0(t,i,u);return cu.set(o,d),d}function Wf(n=hf){const e=cu.get(n);if(!e&&n===hf&&By())return Qy();if(!e)throw Yr.create("no-app",{appName:n});return e}function $n(n,e,t){var i;let o=(i=z0[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const l=o.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const d=[`Unable to register library "${o}" with version "${e}":`];l&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),cr.warn(d.join(" "));return}Ai(new Zr(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0="firebase-heartbeat-database",H0=1,ia="firebase-heartbeat-store";let Bd=null;function Jy(){return Bd||(Bd=l0(W0,H0,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ia)}catch(t){console.warn(t)}}}}).catch(n=>{throw Yr.create("idb-open",{originalErrorMessage:n.message})})),Bd}async function K0(n){try{const t=(await Jy()).transaction(ia),i=await t.objectStore(ia).get(Xy(n));return await t.done,i}catch(e){if(e instanceof hr)cr.warn(e.message);else{const t=Yr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});cr.warn(t.message)}}}async function i_(n,e){try{const i=(await Jy()).transaction(ia,"readwrite");await i.objectStore(ia).put(e,Xy(n)),await i.done}catch(t){if(t instanceof hr)cr.warn(t.message);else{const i=Yr.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});cr.warn(i.message)}}}function Xy(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0=1024,q0=30*24*60*60*1e3;class Y0{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new J0(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=s_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(u=>u.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(u=>{const d=new Date(u.date).valueOf();return Date.now()-d<=q0}),this._storage.overwrite(this._heartbeatsCache))}catch(i){cr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=s_(),{heartbeatsToSend:i,unsentEntries:o}=Q0(this._heartbeatsCache.heartbeats),l=ou(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return cr.warn(t),""}}}function s_(){return new Date().toISOString().substring(0,10)}function Q0(n,e=G0){const t=[];let i=n.slice();for(const o of n){const l=t.find(u=>u.agent===o.agent);if(l){if(l.dates.push(o.date),o_(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),o_(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class J0{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return LT()?DT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await K0(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return i_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return i_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function o_(n){return ou(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(n){Ai(new Zr("platform-logger",e=>new d0(e),"PRIVATE")),Ai(new Zr("heartbeat",e=>new Y0(e),"PRIVATE")),$n(ff,n_,n),$n(ff,n_,"esm2017"),$n("fire-js","")}X0("");var Z0="firebase",ek="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$n(Z0,ek,"app");function Hf(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function Zy(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const tk=Zy,ev=new Ea("auth","Firebase",Zy());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du=new Vf("@firebase/auth");function nk(n,...e){du.logLevel<=He.WARN&&du.warn(`Auth (${Ui}): ${n}`,...e)}function Gl(n,...e){du.logLevel<=He.ERROR&&du.error(`Auth (${Ui}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(n,...e){throw Kf(n,...e)}function Vn(n,...e){return Kf(n,...e)}function tv(n,e,t){const i=Object.assign(Object.assign({},tk()),{[e]:t});return new Ea("auth","Firebase",i).create(e,{appName:n.name})}function Qr(n){return tv(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Kf(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return ev.create(n,...e)}function we(n,e,...t){if(!n)throw Kf(e,...t)}function sr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Gl(e),new Error(e)}function dr(n,e){n||sr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gf(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function rk(){return a_()==="http:"||a_()==="https:"}function a_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ik(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(rk()||OT()||"connection"in navigator)?navigator.onLine:!0}function sk(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,t){this.shortDelay=e,this.longDelay=t,dr(t>e,"Short delay should be less than long delay!"),this.isMobile=$f()||Ky()}get(){return ik()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gf(n,e){dr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;sr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;sr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;sr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak=new Sa(3e4,6e4);function ji(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ii(n,e,t,i,o={}){return rv(n,o,async()=>{let l={},u={};i&&(e==="GET"?u=i:l={body:JSON.stringify(i)});const d=Ls(Object.assign({key:n.config.apiKey},u)).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const g=Object.assign({method:e,headers:h},l);return xT()||(g.referrerPolicy="no-referrer"),nv.fetch()(iv(n,n.config.apiHost,t,d),g)})}async function rv(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},ok),e);try{const o=new uk(n),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Vl(n,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const d=l.ok?u.errorMessage:u.error.message,[h,g]=d.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vl(n,"credential-already-in-use",u);if(h==="EMAIL_EXISTS")throw Vl(n,"email-already-in-use",u);if(h==="USER_DISABLED")throw Vl(n,"user-disabled",u);const m=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw tv(n,m,g);Nn(n,m)}}catch(o){if(o instanceof hr)throw o;Nn(n,"network-request-failed",{message:String(o)})}}async function Fu(n,e,t,i,o={}){const l=await ii(n,e,t,i,o);return"mfaPendingCredential"in l&&Nn(n,"multi-factor-auth-required",{_serverResponse:l}),l}function iv(n,e,t,i){const o=`${e}${t}?${i}`;return n.config.emulator?Gf(n.config,o):`${n.config.apiScheme}://${o}`}function lk(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class uk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Vn(this.auth,"network-request-failed")),ak.get())})}}function Vl(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=Vn(n,e,i);return o.customData._tokenResponse=t,o}function l_(n){return n!==void 0&&n.enterprise!==void 0}class ck{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return lk(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function dk(n,e){return ii(n,"GET","/v2/recaptchaConfig",ji(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fk(n,e){return ii(n,"POST","/v1/accounts:delete",e)}async function sv(n,e){return ii(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yo(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function hk(n,e=!1){const t=Ut(n),i=await t.getIdToken(e),o=qf(i);we(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,u=l==null?void 0:l.sign_in_provider;return{claims:o,token:i,authTime:Yo(Wd(o.auth_time)),issuedAtTime:Yo(Wd(o.iat)),expirationTime:Yo(Wd(o.exp)),signInProvider:u||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Wd(n){return Number(n)*1e3}function qf(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Gl("JWT malformed, contained fewer than 3 sections"),null;try{const o=au(t);return o?JSON.parse(o):(Gl("Failed to decode base64 JWT payload"),null)}catch(o){return Gl("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function u_(n){const e=qf(n);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sa(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof hr&&pk(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function pk({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yo(this.lastLoginAt),this.creationTime=Yo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fu(n){var e;const t=n.auth,i=await n.getIdToken(),o=await sa(n,sv(t,{idToken:i}));we(o==null?void 0:o.users.length,t,"internal-error");const l=o.users[0];n._notifyReloadListener(l);const u=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?ov(l.providerUserInfo):[],d=_k(n.providerData,u),h=n.isAnonymous,g=!(n.email&&l.passwordHash)&&!(d!=null&&d.length),m=h?g:!1,_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new mf(l.createdAt,l.lastLoginAt),isAnonymous:m};Object.assign(n,_)}async function mk(n){const e=Ut(n);await fu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function _k(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function ov(n){return n.map(e=>{var{providerId:t}=e,i=Hf(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yk(n,e){const t=await rv(n,{},async()=>{const i=Ls({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=n.config,u=iv(n,o,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",nv.fetch()(u,{method:"POST",headers:d,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function vk(n,e){return ii(n,"POST","/v2/accounts:revokeToken",ji(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):u_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){we(e.length!==0,"internal-error");const t=u_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:l}=await yk(e,t);this.updateTokensAndExpiration(i,o,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:l}=t,u=new vs;return i&&(we(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),o&&(we(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),l&&(we(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vs,this.toJSON())}_performRefresh(){return sr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(n,e){we(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class or{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,l=Hf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new mf(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await sa(this,this.stsTokenManager.getToken(this.auth,e));return we(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return hk(this,e)}reload(){return mk(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new or(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await fu(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ir(this.auth.app))return Promise.reject(Qr(this.auth));const e=await this.getIdToken();return await sa(this,fk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,l,u,d,h,g,m;const _=(i=t.displayName)!==null&&i!==void 0?i:void 0,v=(o=t.email)!==null&&o!==void 0?o:void 0,E=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,T=(u=t.photoURL)!==null&&u!==void 0?u:void 0,N=(d=t.tenantId)!==null&&d!==void 0?d:void 0,R=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,H=(g=t.createdAt)!==null&&g!==void 0?g:void 0,z=(m=t.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:J,emailVerified:G,isAnonymous:_e,providerData:A,stsTokenManager:ae}=t;we(J&&ae,e,"internal-error");const V=vs.fromJSON(this.name,ae);we(typeof J=="string",e,"internal-error"),jr(_,e.name),jr(v,e.name),we(typeof G=="boolean",e,"internal-error"),we(typeof _e=="boolean",e,"internal-error"),jr(E,e.name),jr(T,e.name),jr(N,e.name),jr(R,e.name),jr(H,e.name),jr(z,e.name);const ee=new or({uid:J,auth:e,email:v,emailVerified:G,displayName:_,isAnonymous:_e,photoURL:T,phoneNumber:E,tenantId:N,stsTokenManager:V,createdAt:H,lastLoginAt:z});return A&&Array.isArray(A)&&(ee.providerData=A.map(de=>Object.assign({},de))),R&&(ee._redirectEventId=R),ee}static async _fromIdTokenResponse(e,t,i=!1){const o=new vs;o.updateFromServerResponse(t);const l=new or({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await fu(l),l}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];we(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?ov(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),d=new vs;d.updateFromIdToken(i);const h=new or({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:u}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new mf(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(h,g),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_=new Map;function ar(n){dr(n instanceof Function,"Expected a class definition");let e=c_.get(n);return e?(dr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,c_.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}av.type="NONE";const d_=av;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ql(n,e,t){return`firebase:${n}:${e}:${t}`}class ws{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:l}=this.auth;this.fullUserKey=ql(this.userKey,o.apiKey,l),this.fullPersistenceKey=ql("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?or._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new ws(ar(d_),e,i);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=o[0]||ar(d_);const u=ql(i,e.config.apiKey,e.name);let d=null;for(const g of t)try{const m=await g._get(u);if(m){const _=or._fromJSON(e,m);g!==l&&(d=_),l=g;break}}catch{}const h=o.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!h.length?new ws(l,e,i):(l=h[0],d&&await l._set(u,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(u)}catch{}})),new ws(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f_(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(dv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(lv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hv(e))return"Blackberry";if(pv(e))return"Webos";if(uv(e))return"Safari";if((e.includes("chrome/")||cv(e))&&!e.includes("edge/"))return"Chrome";if(fv(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function lv(n=Wt()){return/firefox\//i.test(n)}function uv(n=Wt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cv(n=Wt()){return/crios\//i.test(n)}function dv(n=Wt()){return/iemobile/i.test(n)}function fv(n=Wt()){return/android/i.test(n)}function hv(n=Wt()){return/blackberry/i.test(n)}function pv(n=Wt()){return/webos/i.test(n)}function Yf(n=Wt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function wk(n=Wt()){var e;return Yf(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Ek(){return AT()&&document.documentMode===10}function gv(n=Wt()){return Yf(n)||fv(n)||pv(n)||hv(n)||/windows phone/i.test(n)||dv(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mv(n,e=[]){let t;switch(n){case"Browser":t=f_(Wt());break;case"Worker":t=`${f_(Wt())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ui}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((u,d)=>{try{const h=e(l);u(h)}catch(h){d(h)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ck(n,e={}){return ii(n,"GET","/v2/passwordPolicy",ji(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik=6;class Tk{constructor(e){var t,i,o,l;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:Ik,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,l,u,d;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(i=h.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(o=h.containsLowercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(l=h.containsUppercaseLetter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(u=h.containsNumericCharacter)!==null&&u!==void 0?u:!0),h.isValid&&(h.isValid=(d=h.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),h}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new h_(this),this.idTokenSubscription=new h_(this),this.beforeStateQueue=new Sk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ev,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ar(t)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await ws.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await sv(this,{idToken:e}),i=await or._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(ir(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o==null?void 0:o._redirectEventId,h=await this.tryRedirectSignIn(e);(!u||u===d)&&(h!=null&&h.user)&&(o=h.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(u){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await fu(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=sk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ir(this.app))return Promise.reject(Qr(this));const t=e?Ut(e):null;return t&&we(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ir(this.app)?Promise.reject(Qr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ir(this.app)?Promise.reject(Qr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ar(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Ck(this),t=new Tk(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ea("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await vk(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ar(e)||this._popupRedirectResolver;we(t,this,"argument-error"),this.redirectPersistenceManager=await ws.create(this,[ar(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(d,this,"internal-error"),d.then(()=>{u||l(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,i,o);return()=>{u=!0,h()}}else{const h=e.addObserver(t);return()=>{u=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&nk(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Ds(n){return Ut(n)}class h_{constructor(e){this.auth=e,this.observer=null,this.addObserver=VT(t=>this.observer=t)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uu={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Rk(n){Uu=n}function _v(n){return Uu.loadJS(n)}function Pk(){return Uu.recaptchaEnterpriseScript}function Nk(){return Uu.gapiScript}function xk(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class Ok{constructor(){this.enterprise=new Ak}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Ak{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const bk="recaptcha-enterprise",yv="NO_RECAPTCHA";class Lk{constructor(e){this.type=bk,this.auth=Ds(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,d)=>{dk(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new ck(h);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,u(g.siteKey)}}).catch(h=>{d(h)})})}function o(l,u,d){const h=window.grecaptcha;l_(h)?h.enterprise.ready(()=>{h.enterprise.execute(l,{action:e}).then(g=>{u(g)}).catch(()=>{u(yv)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Ok().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{i(this.auth).then(d=>{if(!t&&l_(window.grecaptcha))o(d,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let h=Pk();h.length!==0&&(h+=d),_v(h).then(()=>{o(d,l,u)}).catch(g=>{u(g)})}}).catch(d=>{u(d)})})}}async function p_(n,e,t,i=!1,o=!1){const l=new Lk(n);let u;if(o)u=yv;else try{u=await l.verify(t)}catch{u=await l.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const h=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:g,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const h=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function g_(n,e,t,i,o){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await p_(n,e,t,t==="getOobCode");return i(n,u)}else return i(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await p_(n,e,t,t==="getOobCode");return i(n,d)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dk(n,e){const t=Mu(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(uu(l,e??{}))return o;Nn(o,"already-initialized")}return t.initialize({options:e})}function Mk(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(ar);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function Fk(n,e,t){const i=Ds(n);we(i._canInitEmulator,i,"emulator-config-failed"),we(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,l=vv(e),{host:u,port:d}=Uk(e),h=d===null?"":`:${d}`;i.config.emulator={url:`${l}//${u}${h}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:u,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})}),jk()}function vv(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Uk(n){const e=vv(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const l=o[1];return{host:l,port:m_(i.substr(l.length+1))}}else{const[l,u]=i.split(":");return{host:l,port:m_(u)}}}function m_(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function jk(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return sr("not implemented")}_getIdTokenResponse(e){return sr("not implemented")}_linkToIdToken(e,t){return sr("not implemented")}_getReauthenticationResolver(e){return sr("not implemented")}}async function zk(n,e){return ii(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $k(n,e){return Fu(n,"POST","/v1/accounts:signInWithPassword",ji(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vk(n,e){return Fu(n,"POST","/v1/accounts:signInWithEmailLink",ji(n,e))}async function Bk(n,e){return Fu(n,"POST","/v1/accounts:signInWithEmailLink",ji(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa extends Qf{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new oa(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new oa(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return g_(e,t,"signInWithPassword",$k);case"emailLink":return Vk(e,{email:this._email,oobCode:this._password});default:Nn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return g_(e,i,"signUpPassword",zk);case"emailLink":return Bk(e,{idToken:t,email:this._email,oobCode:this._password});default:Nn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Es(n,e){return Fu(n,"POST","/v1/accounts:signInWithIdp",ji(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wk="http://localhost";class bi extends Qf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new bi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Nn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,l=Hf(t,["providerId","signInMethod"]);if(!i||!o)return null;const u=new bi(i,o);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Es(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Es(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Es(e,t)}buildRequest(){const e={requestUri:Wk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ls(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hk(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Kk(n){const e=Wo(Ho(n)).link,t=e?Wo(Ho(e)).deep_link_id:null,i=Wo(Ho(n)).deep_link_id;return(i?Wo(Ho(i)).link:null)||i||t||e||n}class Jf{constructor(e){var t,i,o,l,u,d;const h=Wo(Ho(e)),g=(t=h.apiKey)!==null&&t!==void 0?t:null,m=(i=h.oobCode)!==null&&i!==void 0?i:null,_=Hk((o=h.mode)!==null&&o!==void 0?o:null);we(g&&m&&_,"argument-error"),this.apiKey=g,this.operation=_,this.code=m,this.continueUrl=(l=h.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(u=h.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(d=h.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=Kk(e);try{return new Jf(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(){this.providerId=Ms.PROVIDER_ID}static credential(e,t){return oa._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Jf.parseLink(t);return we(i,"argument-error"),oa._fromEmailAndCode(e,i.code,i.tenantId)}}Ms.PROVIDER_ID="password";Ms.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ms.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca extends wv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends Ca{constructor(){super("facebook.com")}static credential(e){return bi._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $r.credential(e.oauthAccessToken)}catch{return null}}}$r.FACEBOOK_SIGN_IN_METHOD="facebook.com";$r.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends Ca{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return bi._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Vr.credentialFromTaggedObject(e)}static credentialFromError(e){return Vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Vr.credential(t,i)}catch{return null}}}Vr.GOOGLE_SIGN_IN_METHOD="google.com";Vr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends Ca{constructor(){super("github.com")}static credential(e){return bi._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Br.credential(e.oauthAccessToken)}catch{return null}}}Br.GITHUB_SIGN_IN_METHOD="github.com";Br.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends Ca{constructor(){super("twitter.com")}static credential(e,t){return bi._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Wr.credential(t,i)}catch{return null}}}Wr.TWITTER_SIGN_IN_METHOD="twitter.com";Wr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const l=await or._fromIdTokenResponse(e,i,o),u=__(i);return new ks({user:l,providerId:u,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=__(i);return new ks({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function __(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu extends hr{constructor(e,t,i,o){var l;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,hu.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new hu(e,t,i,o)}}function Ev(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?hu._fromErrorAndOperation(n,l,e,i):l})}async function Gk(n,e,t=!1){const i=await sa(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ks._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qk(n,e,t=!1){const{auth:i}=n;if(ir(i.app))return Promise.reject(Qr(i));const o="reauthenticate";try{const l=await sa(n,Ev(i,o,e,n),t);we(l.idToken,i,"internal-error");const u=qf(l.idToken);we(u,i,"internal-error");const{sub:d}=u;return we(n.uid===d,i,"user-mismatch"),ks._forOperation(n,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Nn(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sv(n,e,t=!1){if(ir(n.app))return Promise.reject(Qr(n));const i="signIn",o=await Ev(n,i,e),l=await ks._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(l.user),l}async function Yk(n,e){return Sv(Ds(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qk(n){const e=Ds(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function Jk(n,e,t){return ir(n.app)?Promise.reject(Qr(n)):Yk(Ut(n),Ms.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&Qk(n),i})}function Xk(n,e,t,i){return Ut(n).onIdTokenChanged(e,t,i)}function Zk(n,e,t){return Ut(n).beforeAuthStateChanged(e,t)}function eR(n,e,t,i){return Ut(n).onAuthStateChanged(e,t,i)}const pu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(pu,"1"),this.storage.removeItem(pu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR=1e3,nR=10;class Iv extends Cv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=gv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,d,h)=>{this.notifyListeners(u,h)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(i);!t&&this.localCache[i]===u||this.notifyListeners(i,u)},l=this.storage.getItem(i);Ek()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,nR):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},tR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Iv.type="LOCAL";const rR=Iv;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv extends Cv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Tv.type="SESSION";const kv=Tv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new ju(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:l}=t.data,u=this.handlersMap[o];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const d=Array.from(u).map(async g=>g(t.origin,l)),h=await iR(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ju.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xf(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,u;return new Promise((d,h)=>{const g=Xf("",20);o.port1.start();const m=setTimeout(()=>{h(new Error("unsupported_event"))},i);u={messageChannel:o,onMessage(_){const v=_;if(v.data.eventId===g)switch(v.data.status){case"ack":clearTimeout(m),l=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(v.data.response);break;default:clearTimeout(m),clearTimeout(l),h(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(){return window}function oR(n){Bn().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rv(){return typeof Bn().WorkerGlobalScope<"u"&&typeof Bn().importScripts=="function"}async function aR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function lR(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function uR(){return Rv()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv="firebaseLocalStorageDb",cR=1,gu="firebaseLocalStorage",Nv="fbase_key";class Ia{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function zu(n,e){return n.transaction([gu],e?"readwrite":"readonly").objectStore(gu)}function dR(){const n=indexedDB.deleteDatabase(Pv);return new Ia(n).toPromise()}function _f(){const n=indexedDB.open(Pv,cR);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(gu,{keyPath:Nv})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(gu)?e(i):(i.close(),await dR(),e(await _f()))})})}async function y_(n,e,t){const i=zu(n,!0).put({[Nv]:e,value:t});return new Ia(i).toPromise()}async function fR(n,e){const t=zu(n,!1).get(e),i=await new Ia(t).toPromise();return i===void 0?null:i.value}function v_(n,e){const t=zu(n,!0).delete(e);return new Ia(t).toPromise()}const hR=800,pR=3;class xv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _f(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>pR)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Rv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ju._getInstance(uR()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await aR(),!this.activeServiceWorker)return;this.sender=new sR(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||lR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _f();return await y_(e,pu,"1"),await v_(e,pu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>y_(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>fR(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>v_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=zu(o,!1).getAll();return new Ia(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xv.type="LOCAL";const gR=xv;new Sa(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mR(n,e){return e?ar(e):(we(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf extends Qf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Es(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Es(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Es(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function _R(n){return Sv(n.auth,new Zf(n),n.bypassAuthState)}function yR(n){const{auth:e,user:t}=n;return we(t,e,"internal-error"),qk(t,new Zf(n),n.bypassAuthState)}async function vR(n){const{auth:e,user:t}=n;return we(t,e,"internal-error"),Gk(t,new Zf(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e,t,i,o,l=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:l,error:u,type:d}=e;if(u){this.reject(u);return}const h={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(h))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _R;case"linkViaPopup":case"linkViaRedirect":return vR;case"reauthViaPopup":case"reauthViaRedirect":return yR;default:Nn(this.auth,"internal-error")}}resolve(e){dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR=new Sa(2e3,1e4);class _s extends Ov{constructor(e,t,i,o,l){super(e,t,o,l),this.provider=i,this.authWindow=null,this.pollId=null,_s.currentPopupAction&&_s.currentPopupAction.cancel(),_s.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){dr(this.filter.length===1,"Popup operations only handle one event");const e=Xf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Vn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Vn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_s.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,wR.get())};e()}}_s.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER="pendingRedirect",Yl=new Map;class SR extends Ov{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Yl.get(this.auth._key());if(!e){try{const i=await CR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Yl.set(this.auth._key(),e)}return this.bypassAuthState||Yl.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function CR(n,e){const t=kR(e),i=TR(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function IR(n,e){Yl.set(n._key(),e)}function TR(n){return ar(n._redirectPersistence)}function kR(n){return ql(ER,n.config.apiKey,n.name)}async function RR(n,e,t=!1){if(ir(n.app))return Promise.reject(Qr(n));const i=Ds(n),o=mR(i,e),u=await new SR(i,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR=10*60*1e3;class NR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!xR(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!Av(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Vn(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=PR&&this.cachedEventUids.clear(),this.cachedEventUids.has(w_(e))}saveEventToCache(e){this.cachedEventUids.add(w_(e)),this.lastProcessedEventTime=Date.now()}}function w_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Av({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function xR(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Av(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OR(n,e={}){return ii(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bR=/^https?/;async function LR(n){if(n.config.emulator)return;const{authorizedDomains:e}=await OR(n);for(const t of e)try{if(DR(t))return}catch{}Nn(n,"unauthorized-domain")}function DR(n){const e=gf(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===i}if(!bR.test(t))return!1;if(AR.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR=new Sa(3e4,6e4);function E_(){const n=Bn().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function FR(n){return new Promise((e,t)=>{var i,o,l;function u(){E_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{E_(),t(Vn(n,"network-request-failed"))},timeout:MR.get()})}if(!((o=(i=Bn().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=Bn().gapi)===null||l===void 0)&&l.load)u();else{const d=xk("iframefcb");return Bn()[d]=()=>{gapi.load?u():t(Vn(n,"network-request-failed"))},_v(`${Nk()}?onload=${d}`).catch(h=>t(h))}}).catch(e=>{throw Ql=null,e})}let Ql=null;function UR(n){return Ql=Ql||FR(n),Ql}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR=new Sa(5e3,15e3),zR="__/auth/iframe",$R="emulator/auth/iframe",VR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},BR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function WR(n){const e=n.config;we(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Gf(e,$R):`https://${n.config.authDomain}/${zR}`,i={apiKey:e.apiKey,appName:n.name,v:Ui},o=BR.get(n.config.apiHost);o&&(i.eid=o);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${Ls(i).slice(1)}`}async function HR(n){const e=await UR(n),t=Bn().gapi;return we(t,n,"internal-error"),e.open({where:document.body,url:WR(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VR,dontclear:!0},i=>new Promise(async(o,l)=>{await i.restyle({setHideOnLeave:!1});const u=Vn(n,"network-request-failed"),d=Bn().setTimeout(()=>{l(u)},jR.get());function h(){Bn().clearTimeout(d),o(i)}i.ping(h).then(h,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},GR=500,qR=600,YR="_blank",QR="http://localhost";class S_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function JR(n,e,t,i=GR,o=qR){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const h=Object.assign(Object.assign({},KR),{width:i.toString(),height:o.toString(),top:l,left:u}),g=Wt().toLowerCase();t&&(d=cv(g)?YR:t),lv(g)&&(e=e||QR,h.scrollbars="yes");const m=Object.entries(h).reduce((v,[E,T])=>`${v}${E}=${T},`,"");if(wk(g)&&d!=="_self")return XR(e||"",d),new S_(null);const _=window.open(e||"",d,m);we(_,n,"popup-blocked");try{_.focus()}catch{}return new S_(_)}function XR(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR="__/auth/handler",eP="emulator/auth/handler",tP=encodeURIComponent("fac");async function C_(n,e,t,i,o,l){we(n.config.authDomain,n,"auth-domain-config-required"),we(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Ui,eventId:o};if(e instanceof wv){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",uf(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,_]of Object.entries({}))u[m]=_}if(e instanceof Ca){const m=e.getScopes().filter(_=>_!=="");m.length>0&&(u.scopes=m.join(","))}n.tenantId&&(u.tid=n.tenantId);const d=u;for(const m of Object.keys(d))d[m]===void 0&&delete d[m];const h=await n._getAppCheckToken(),g=h?`#${tP}=${encodeURIComponent(h)}`:"";return`${nP(n)}?${Ls(d).slice(1)}${g}`}function nP({config:n}){return n.emulator?Gf(n,eP):`https://${n.authDomain}/${ZR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hd="webStorageSupport";class rP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kv,this._completeRedirectFn=RR,this._overrideRedirectResult=IR}async _openPopup(e,t,i,o){var l;dr((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const u=await C_(e,t,i,gf(),o);return JR(e,u,Xf())}async _openRedirect(e,t,i,o){await this._originValidation(e);const l=await C_(e,t,i,gf(),o);return oR(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(dr(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await HR(e),i=new NR(e);return t.register("authEvent",o=>(we(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Hd,{type:Hd},o=>{var l;const u=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[Hd];u!==void 0&&t(!!u),Nn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=LR(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return gv()||uv()||Yf()}}const iP=rP;var I_="@firebase/auth",T_="1.8.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oP(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function aP(n){Ai(new Zr("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=i.options;we(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:u,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mv(n)},g=new kk(i,o,l,h);return Mk(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Ai(new Zr("auth-internal",e=>{const t=Ds(e.getProvider("auth").getImmediate());return(i=>new sP(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),$n(I_,T_,oP(n)),$n(I_,T_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP=5*60,uP=Wy("authIdTokenMaxAge")||lP;let k_=null;const cP=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>uP)return;const o=t==null?void 0:t.token;k_!==o&&(k_=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function bv(n=Wf()){const e=Mu(n,"auth");if(e.isInitialized())return e.getImmediate();const t=Dk(n,{popupRedirectResolver:iP,persistence:[gR,rR,kv]}),i=Wy("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const u=cP(l.toString());Zk(t,u,()=>u(t.currentUser)),Xk(t,d=>u(d))}}const o=$y("auth");return o&&Fk(t,`http://${o}`),t}function dP(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Rk({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const l=Vn("internal-error");l.customData=o,t(l)},i.type="text/javascript",i.charset="UTF-8",dP().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});aP("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv="firebasestorage.googleapis.com",fP="storageBucket",hP=2*60*1e3,pP=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn extends hr{constructor(e,t,i=0){super(Kd(e),`Firebase Storage: ${t} (${Kd(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Kn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Kd(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Wn;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Wn||(Wn={}));function Kd(n){return"storage/"+n}function gP(){const n="An unknown error occurred, please check the error payload for server response.";return new Kn(Wn.UNKNOWN,n)}function mP(){return new Kn(Wn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function _P(){return new Kn(Wn.CANCELED,"User canceled the upload/download.")}function yP(n){return new Kn(Wn.INVALID_URL,"Invalid URL '"+n+"'.")}function vP(n){return new Kn(Wn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function R_(n){return new Kn(Wn.INVALID_ARGUMENT,n)}function Dv(){return new Kn(Wn.APP_DELETED,"The Firebase app was deleted.")}function wP(n){return new Kn(Wn.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=kn.makeFromUrl(e,t)}catch{return new kn(e,"")}if(i.path==="")return i;throw vP(e)}static makeFromUrl(e,t){let i=null;const o="([A-Za-z0-9.\\-_]+)";function l(G){G.path.charAt(G.path.length-1)==="/"&&(G.path_=G.path_.slice(0,-1))}const u="(/(.*))?$",d=new RegExp("^gs://"+o+u,"i"),h={bucket:1,path:3};function g(G){G.path_=decodeURIComponent(G.path)}const m="v[A-Za-z0-9_]+",_=t.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",E=new RegExp(`^https?://${_}/${m}/b/${o}/o${v}`,"i"),T={bucket:1,path:3},N=t===Lv?"(?:storage.googleapis.com|storage.cloud.google.com)":t,R="([^?#]*)",H=new RegExp(`^https?://${N}/${o}/${R}`,"i"),J=[{regex:d,indices:h,postModify:l},{regex:E,indices:T,postModify:g},{regex:H,indices:{bucket:1,path:2},postModify:g}];for(let G=0;G<J.length;G++){const _e=J[G],A=_e.regex.exec(e);if(A){const ae=A[_e.indices.bucket];let V=A[_e.indices.path];V||(V=""),i=new kn(ae,V),_e.postModify(i);break}}if(i==null)throw yP(e);return i}}class EP{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SP(n,e,t){let i=1,o=null,l=null,u=!1,d=0;function h(){return d===2}let g=!1;function m(...R){g||(g=!0,e.apply(null,R))}function _(R){o=setTimeout(()=>{o=null,n(E,h())},R)}function v(){l&&clearTimeout(l)}function E(R,...H){if(g){v();return}if(R){v(),m.call(null,R,...H);return}if(h()||u){v(),m.call(null,R,...H);return}i<64&&(i*=2);let J;d===1?(d=2,J=0):J=(i+Math.random())*1e3,_(J)}let T=!1;function N(R){T||(T=!0,v(),!g&&(o!==null?(R||(d=2),clearTimeout(o),_(0)):R||(d=1)))}return _(0),l=setTimeout(()=>{u=!0,N(!0)},t),N}function CP(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IP(n){return n!==void 0}function P_(n,e,t,i){if(i<e)throw R_(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw R_(`Invalid value for '${n}'. Expected ${t} or less.`)}function TP(n){const e=encodeURIComponent;let t="?";for(const i in n)if(n.hasOwnProperty(i)){const o=e(i)+"="+e(n[i]);t=t+o+"&"}return t=t.slice(0,-1),t}var mu;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(mu||(mu={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kP(n,e){const t=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,l=e.indexOf(n)!==-1;return t||o||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(e,t,i,o,l,u,d,h,g,m,_,v=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=o,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=d,this.errorCallback_=h,this.timeout_=g,this.progressCallback_=m,this.connectionFactory_=_,this.retry=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,T)=>{this.resolve_=E,this.reject_=T,this.start_()})}start_(){const e=(i,o)=>{if(o){i(!1,new Bl(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=d=>{const h=d.loaded,g=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,g)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const d=l.getErrorCode()===mu.NO_ERROR,h=l.getStatus();if(!d||kP(h,this.additionalRetryCodes_)&&this.retry){const m=l.getErrorCode()===mu.ABORT;i(!1,new Bl(!1,null,m));return}const g=this.successCodes_.indexOf(h)!==-1;i(!0,new Bl(g,l))})},t=(i,o)=>{const l=this.resolve_,u=this.reject_,d=o.connection;if(o.wasSuccessCode)try{const h=this.callback_(d,d.getResponse());IP(h)?l(h):l()}catch(h){u(h)}else if(d!==null){const h=gP();h.serverResponse=d.getErrorText(),this.errorCallback_?u(this.errorCallback_(d,h)):u(h)}else if(o.canceled){const h=this.appDelete_?Dv():_P();u(h)}else{const h=mP();u(h)}};this.canceled_?t(!1,new Bl(!1,null,!0)):this.backoffId_=SP(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&CP(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Bl{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function PP(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function NP(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function xP(n,e){e&&(n["X-Firebase-GMPID"]=e)}function OP(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function AP(n,e,t,i,o,l,u=!0){const d=TP(n.urlParams),h=n.url+d,g=Object.assign({},n.headers);return xP(g,e),PP(g,t),NP(g,l),OP(g,i),new RP(h,n.method,g,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bP(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function LP(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,t){this._service=e,t instanceof kn?this._location=t:this._location=kn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new _u(e,t)}get root(){const e=new kn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return LP(this._location.path)}get storage(){return this._service}get parent(){const e=bP(this._location.path);if(e===null)return null;const t=new kn(this._location.bucket,e);return new _u(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw wP(e)}}function N_(n,e){const t=e==null?void 0:e[fP];return t==null?null:kn.makeFromBucketSpec(t,n)}function DP(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:o}=i;o&&(n._overrideAuthToken=typeof o=="string"?o:Hy(o,n.app.options.projectId))}class MP{constructor(e,t,i,o,l){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=o,this._firebaseVersion=l,this._bucket=null,this._host=Lv,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=hP,this._maxUploadRetryTime=pP,this._requests=new Set,o!=null?this._bucket=kn.makeFromBucketSpec(o,this._host):this._bucket=N_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=kn.makeFromBucketSpec(this._url,e):this._bucket=N_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){P_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){P_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new _u(this,e)}_makeRequest(e,t,i,o,l=!0){if(this._deleted)return new EP(Dv());{const u=AP(e,this._appId,i,o,t,this._firebaseVersion,l);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[i,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,o).getPromise()}}const x_="@firebase/storage",O_="0.13.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv="storage";function FP(n=Wf(),e){n=Ut(n);const i=Mu(n,Mv).getImmediate({identifier:e}),o=Vy("storage");return o&&UP(i,...o),i}function UP(n,e,t,i={}){DP(n,e,t,i)}function jP(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new MP(t,i,o,e,Ui)}function zP(){Ai(new Zr(Mv,jP,"PUBLIC").setMultipleInstances(!0)),$n(x_,O_,""),$n(x_,O_,"esm2017")}zP();var A_={};const b_="@firebase/database",L_="1.0.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fv="";function $P(n){Fv=n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){t==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Et(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return t==null?null:ra(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){t==null?delete this.cache_[e]:this.cache_[e]=t}get(e){return Hn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new VP(e)}}catch{}return new BP},xi=Uv("localStorage"),WP=Uv("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss=new Vf("@firebase/database"),HP=function(){let n=1;return function(){return n++}}(),jv=function(n){const e=HT(n),t=new $T;t.update(e);const i=t.digest();return jf.encodeByteArray(i)},Ta=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=Ta.apply(null,i):typeof i=="object"?e+=Et(i):e+=i,e+=" "}return e};let Qo=null,D_=!0;const KP=function(n,e){W(!0,"Can't turn on custom loggers persistently."),Ss.logLevel=He.VERBOSE,Qo=Ss.log.bind(Ss)},xt=function(...n){if(D_===!0&&(D_=!1,Qo===null&&WP.get("logging_enabled")===!0&&KP()),Qo){const e=Ta.apply(null,n);Qo(e)}},ka=function(n){return function(...e){xt(n,...e)}},yf=function(...n){const e="FIREBASE INTERNAL ERROR: "+Ta(...n);Ss.error(e)},fr=function(...n){const e=`FIREBASE FATAL ERROR: ${Ta(...n)}`;throw Ss.error(e),new Error(e)},Bt=function(...n){const e="FIREBASE WARNING: "+Ta(...n);Ss.warn(e)},GP=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Bt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},eh=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},qP=function(n){if(document.readyState==="complete")n();else{let e=!1;const t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},Rs="[MIN_NAME]",Li="[MAX_NAME]",zi=function(n,e){if(n===e)return 0;if(n===Rs||e===Li)return-1;if(e===Rs||n===Li)return 1;{const t=M_(n),i=M_(e);return t!==null?i!==null?t-i===0?n.length-e.length:t-i:-1:i!==null?1:n<e?-1:1}},YP=function(n,e){return n===e?0:n<e?-1:1},Uo=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+Et(e))},th=function(n){if(typeof n!="object"||n===null)return Et(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)i!==0&&(t+=","),t+=Et(e[i]),t+=":",t+=th(n[e[i]]);return t+="}",t},zv=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let o=0;o<t;o+=e)o+e>t?i.push(n.substring(o,t)):i.push(n.substring(o,o+e));return i};function Ot(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const $v=function(n){W(!eh(n),"Invalid JSON number");const e=11,t=52,i=(1<<e-1)-1;let o,l,u,d,h;n===0?(l=0,u=0,o=1/n===-1/0?1:0):(o=n<0,n=Math.abs(n),n>=Math.pow(2,1-i)?(d=Math.min(Math.floor(Math.log(n)/Math.LN2),i),l=d+i,u=Math.round(n*Math.pow(2,t-d)-Math.pow(2,t))):(l=0,u=Math.round(n/Math.pow(2,1-i-t))));const g=[];for(h=t;h;h-=1)g.push(u%2?1:0),u=Math.floor(u/2);for(h=e;h;h-=1)g.push(l%2?1:0),l=Math.floor(l/2);g.push(o?1:0),g.reverse();const m=g.join("");let _="";for(h=0;h<64;h+=8){let v=parseInt(m.substr(h,8),2).toString(16);v.length===1&&(v="0"+v),_=_+v}return _.toLowerCase()},QP=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},JP=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function XP(n,e){let t="Unknown Error";n==="too_big"?t="The data requested exceeds the maximum size that can be accessed with a single request.":n==="permission_denied"?t="Client doesn't have permission to access the desired data.":n==="unavailable"&&(t="The service is unavailable");const i=new Error(n+" at "+e._path.toString()+": "+t);return i.code=n.toUpperCase(),i}const ZP=new RegExp("^-?(0*)\\d{1,10}$"),eN=-2147483648,tN=2147483647,M_=function(n){if(ZP.test(n)){const e=Number(n);if(e>=eN&&e<=tN)return e}return null},Fs=function(n){try{n()}catch(e){setTimeout(()=>{const t=e.stack||"";throw Bt("Exception was thrown by user callback.",t),e},Math.floor(0))}},nN=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Jo=function(n,e){const t=setTimeout(n,e);return typeof t=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):typeof t=="object"&&t.unref&&t.unref(),t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t==null?void 0:t.getImmediate({optional:!0}),this.appCheck||t==null||t.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;(t=this.appCheckProvider)===null||t===void 0||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Bt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&t.code==="auth/token-not-initialized"?(xt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Bt(e)}}class Jl{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Jl.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh="5",Vv="v",Bv="s",Wv="r",Hv="f",Kv=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Gv="ls",qv="p",vf="ac",Yv="websocket",Qv="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(e,t,i,o,l=!1,u="",d=!1,h=!1){this.secure=t,this.namespace=i,this.webSocketOnly=o,this.nodeAdmin=l,this.persistenceKey=u,this.includeNamespaceInQueryParams=d,this.isUsingEmulator=h,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=xi.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&xi.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function sN(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function Xv(n,e,t){W(typeof e=="string","typeof type must == string"),W(typeof t=="object","typeof params must == object");let i;if(e===Yv)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===Qv)i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);sN(n)&&(t.ns=n.namespace);const o=[];return Ot(t,(l,u)=>{o.push(l+"="+u)}),i+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(){this.counters_={}}incrementCounter(e,t=1){Hn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return IT(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd={},qd={};function rh(n){const e=n.toString();return Gd[e]||(Gd[e]=new oN),Gd[e]}function aN(n,e){const t=n.toString();return qd[t]||(qd[t]=e()),qd[t]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<i.length;++o)i[o]&&Fs(()=>{this.onMessage_(i[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_="start",uN="close",cN="pLPCommand",dN="pRTLPCB",Zv="id",ew="pw",tw="ser",fN="cb",hN="seg",pN="ts",gN="d",mN="dframe",nw=1870,rw=30,_N=nw-rw,yN=25e3,vN=3e4;class ys{constructor(e,t,i,o,l,u,d){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=o,this.authToken=l,this.transportSessionId=u,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ka(e),this.stats_=rh(t),this.urlFn=h=>(this.appCheckToken&&(h[vf]=this.appCheckToken),Xv(t,Qv,h))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new lN(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(vN)),qP(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ih((...l)=>{const[u,d,h,g,m]=l;if(this.incrementIncomingBytes_(l),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,u===F_)this.id=d,this.password=h;else if(u===uN)d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+u)},(...l)=>{const[u,d]=l;this.incrementIncomingBytes_(l),this.myPacketOrderer.handleResponse(u,d)},()=>{this.onClosed_()},this.urlFn);const i={};i[F_]="t",i[tw]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[fN]=this.scriptTagHolder.uniqueCallbackIdentifier),i[Vv]=nh,this.transportSessionId&&(i[Bv]=this.transportSessionId),this.lastSessionId&&(i[Gv]=this.lastSessionId),this.applicationId&&(i[qv]=this.applicationId),this.appCheckToken&&(i[vf]=this.appCheckToken),typeof location<"u"&&location.hostname&&Kv.test(location.hostname)&&(i[Wv]=Hv);const o=this.urlFn(i);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ys.forceAllow_=!0}static forceDisallow(){ys.forceDisallow_=!0}static isAvailable(){return ys.forceAllow_?!0:!ys.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!QP()&&!JP()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Et(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=jy(t),o=zv(i,_N);for(let l=0;l<o.length;l++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[l]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const i={};i[mN]="t",i[Zv]=e,i[ew]=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Et(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class ih{constructor(e,t,i,o){this.onDisconnect=i,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=HP(),window[cN+this.uniqueCallbackIdentifier]=e,window[dN+this.uniqueCallbackIdentifier]=t,this.myIFrame=ih.createIFrame_();let l="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(l='<script>document.domain="'+document.domain+'";<\/script>');const u="<html><body>"+l+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(d){xt("frame writing exception"),d.stack&&xt(d.stack),xt(d)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||xt("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Zv]=this.myID,e[ew]=this.myPW,e[tw]=this.currentSerial;let t=this.urlFn(e),i="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+rw+i.length<=nw;){const u=this.pendingSegs.shift();i=i+"&"+hN+o+"="+u.seg+"&"+pN+o+"="+u.ts+"&"+gN+o+"="+u.d,o++}return t=t+i,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},o=setTimeout(i,Math.floor(yN)),l=()=>{clearTimeout(o),i()};this.addTag(e,l)}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const o=i.readyState;(!o||o==="loaded"||o==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{xt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN=16384,EN=45e3;let yu=null;typeof MozWebSocket<"u"?yu=MozWebSocket:typeof WebSocket<"u"&&(yu=WebSocket);class zn{constructor(e,t,i,o,l,u,d){this.connId=e,this.applicationId=i,this.appCheckToken=o,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ka(this.connId),this.stats_=rh(t),this.connURL=zn.connectionURL_(t,u,d,o,i),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,i,o,l){const u={};return u[Vv]=nh,typeof location<"u"&&location.hostname&&Kv.test(location.hostname)&&(u[Wv]=Hv),t&&(u[Bv]=t),i&&(u[Gv]=i),o&&(u[vf]=o),l&&(u[qv]=l),Xv(e,Yv,u)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,xi.set("previous_websocket_failure",!0);try{let i;bT(),this.mySock=new yu(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const o=i.message||i.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){zn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(t);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&yu!==null&&!zn.forceDisallow_}static previouslyFailed(){return xi.isInMemoryStorage||xi.get("previous_websocket_failure")===!0}markConnectionHealthy(){xi.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const t=this.frames.join("");this.frames=null;const i=ra(t);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(W(this.frames===null,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(t);else{const i=this.extractFrameCount_(t);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const t=Et(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=zv(t,wN);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(EN))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}zn.responsesRequiredToBeHealthy=2;zn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{static get ALL_TRANSPORTS(){return[ys,zn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=zn.isAvailable();let i=t&&!zn.previouslyFailed();if(e.webSocketOnly&&(t||Bt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[zn];else{const o=this.transports_=[];for(const l of aa.ALL_TRANSPORTS)l&&l.isAvailable()&&o.push(l);aa.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}aa.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN=6e4,CN=5e3,IN=10*1024,TN=100*1024,Yd="t",U_="d",kN="s",j_="r",RN="e",z_="o",$_="a",V_="n",B_="p",PN="h";class NN{constructor(e,t,i,o,l,u,d,h,g,m){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=o,this.authToken_=l,this.onMessage_=u,this.onReady_=d,this.onDisconnect_=h,this.onKill_=g,this.lastSessionId=m,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ka("c:"+this.id+":"),this.transportManager_=new aa(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=Jo(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>TN?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>IN?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Yd in e){const t=e[Yd];t===$_?this.upgradeIfSecondaryHealthy_():t===j_?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===z_&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Uo("t",e),i=Uo("d",e);if(t==="c")this.onSecondaryControl_(i);else if(t==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:B_,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:$_,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:V_,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Uo("t",e),i=Uo("d",e);t==="c"?this.onControl_(i):t==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Uo(Yd,e);if(U_ in e){const i=e[U_];if(t===PN){const o=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(t===V_){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===kN?this.onConnectionShutdown_(i):t===j_?this.onReset_(i):t===RN?yf("Server Error: "+i):t===z_?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):yf("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),nh!==i&&Bt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),Jo(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(SN))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Jo(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(CN))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:B_,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(xi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{put(e,t,i,o){}merge(e,t,i,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e){this.allowedEvents_=e,this.listeners_={},W(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let o=0;o<i.length;o++)i[o].callback.apply(i[o].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const o=this.getInitialEvent(e);o&&t.apply(i,o)}off(e,t,i){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let l=0;l<o.length;l++)if(o[l].callback===t&&(!i||i===o[l].context)){o.splice(l,1);return}}validateEventType_(e){W(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu extends sw{static getInstance(){return new vu}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!$f()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return W(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_=32,H_=768;class Ge{constructor(e,t){if(t===void 0){this.pieces_=e.split("/");let i=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[i]=this.pieces_[o],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(e+="/"+this.pieces_[t]);return e||"/"}}function je(){return new Ge("")}function Le(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function ei(n){return n.pieces_.length-n.pieceNum_}function Xe(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Ge(n.pieces_,e)}function sh(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function xN(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)n.pieces_[t]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}function la(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function ow(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Ge(e,0)}function dt(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof Ge)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let o=0;o<i.length;o++)i[o].length>0&&t.push(i[o])}return new Ge(t,0)}function Oe(n){return n.pieceNum_>=n.pieces_.length}function Vt(n,e){const t=Le(n),i=Le(e);if(t===null)return e;if(t===i)return Vt(Xe(n),Xe(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function ON(n,e){const t=la(n,0),i=la(e,0);for(let o=0;o<t.length&&o<i.length;o++){const l=zi(t[o],i[o]);if(l!==0)return l}return t.length===i.length?0:t.length<i.length?-1:1}function aw(n,e){if(ei(n)!==ei(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function pn(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(ei(n)>ei(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class AN{constructor(e,t){this.errorPrefix_=t,this.parts_=la(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=Du(this.parts_[i]);lw(this)}}function bN(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=Du(e),lw(n)}function LN(n){const e=n.parts_.pop();n.byteLength_-=Du(e),n.parts_.length>0&&(n.byteLength_-=1)}function lw(n){if(n.byteLength_>H_)throw new Error(n.errorPrefix_+"has a key path longer than "+H_+" bytes ("+n.byteLength_+").");if(n.parts_.length>W_)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+W_+") or object contains a cycle "+ki(n))}function ki(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh extends sw{static getInstance(){return new oh}constructor(){super(["visible"]);let e,t;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(e){return W(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo=1e3,DN=60*5*1e3,K_=30*1e3,MN=1.3,FN=3e4,UN="server_kill",G_=3;class ur extends iw{constructor(e,t,i,o,l,u,d,h){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=l,this.authTokenProvider_=u,this.appCheckTokenProvider_=d,this.authOverride_=h,this.id=ur.nextPersistentConnectionId_++,this.log_=ka("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=jo,this.maxReconnectDelay_=DN,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,h)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");oh.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&vu.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,i){const o=++this.requestNumber_,l={r:o,a:e,b:t};this.log_(Et(l)),W(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),i&&(this.requestCBHash_[o]=i)}get(e){this.initConnection_();const t=new wa,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:u=>{const d=u.d;u.s==="ok"?t.resolve(d):t.reject(d)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const l=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(l),t.promise}listen(e,t,i,o){this.initConnection_();const l=e._queryIdentifier,u=e._path.toString();this.log_("Listen called for "+u+" "+l),this.listens.has(u)||this.listens.set(u,new Map),W(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),W(!this.listens.get(u).has(l),"listen() called twice for same path/queryId.");const d={onComplete:o,hashFn:t,query:e,tag:i};this.listens.get(u).set(l,d),this.connected_&&this.sendListen_(d)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(i)})}sendListen_(e){const t=e.query,i=t._path.toString(),o=t._queryIdentifier;this.log_("Listen on "+i+" for "+o);const l={p:i},u="q";e.tag&&(l.q=t._queryObject,l.t=e.tag),l.h=e.hashFn(),this.sendRequest(u,l,d=>{const h=d.d,g=d.s;ur.warnOnListenWarnings_(h,t),(this.listens.get(i)&&this.listens.get(i).get(o))===e&&(this.log_("listen response",d),g!=="ok"&&this.removeListen_(i,o),e.onComplete&&e.onComplete(g,h))})}static warnOnListenWarnings_(e,t){if(e&&typeof e=="object"&&Hn(e,"w")){const i=Ts(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const o='".indexOn": "'+t._queryParams.getIndex().toString()+'"',l=t._path.toString();Bt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||zT(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=K_)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=jT(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(t,i,o=>{const l=o.s,u=o.d||"error";this.authToken_===e&&(l==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,u))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,i=e.d||"error";t==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,i)})}unlisten(e,t){const i=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),W(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,e._queryObject,t)}sendUnlisten_(e,t,i,o){this.log_("Unlisten on "+e+" for "+t);const l={p:e},u="n";o&&(l.q=i,l.t=o),this.sendRequest(u,l)}onDisconnectPut(e,t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:i})}onDisconnectMerge(e,t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:i})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,i,o){const l={p:t,d:i};this.log_("onDisconnect "+e,l),this.sendRequest(e,l,u=>{o&&setTimeout(()=>{o(u.s,u.d)},Math.floor(0))})}put(e,t,i,o){this.putInternal("p",e,t,i,o)}merge(e,t,i,o){this.putInternal("m",e,t,i,o)}putInternal(e,t,i,o,l){this.initConnection_();const u={p:t,d:i};l!==void 0&&(u.h=l),this.outstandingPuts_.push({action:e,request:u,onComplete:o}),this.outstandingPutCount_++;const d=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(d):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,i,l=>{this.log_(t+" response",l),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(l.s,l.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,i=>{if(i.s!=="ok"){const l=i.d;this.log_("reportStats","Error sending stats: "+l)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Et(e));const t=e.r,i=this.requestCBHash_[t];i&&(delete this.requestCBHash_[t],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),e==="d"?this.onDataUpdate_(t.p,t.d,!1,t.t):e==="m"?this.onDataUpdate_(t.p,t.d,!0,t.t):e==="c"?this.onListenRevoked_(t.p,t.q):e==="ac"?this.onAuthRevoked_(t.s,t.d):e==="apc"?this.onAppCheckRevoked_(t.s,t.d):e==="sd"?this.onSecurityDebugPacket_(t):yf("Unrecognized action received from server: "+Et(e)+`
Are you using the latest client?`)}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){W(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=jo,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=jo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>FN&&(this.reconnectDelay_=jo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*MN)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+ur.nextConnectionId_++,l=this.lastSessionId;let u=!1,d=null;const h=function(){d?d.close():(u=!0,i())},g=function(_){W(d,"sendRequest call when we're not connected not allowed."),d.sendRequest(_)};this.realtime_={close:h,sendRequest:g};const m=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[_,v]=await Promise.all([this.authTokenProvider_.getToken(m),this.appCheckTokenProvider_.getToken(m)]);u?xt("getToken() completed but was canceled"):(xt("getToken() completed. Creating connection."),this.authToken_=_&&_.accessToken,this.appCheckToken_=v&&v.token,d=new NN(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,i,E=>{Bt(E+" ("+this.repoInfo_.toString()+")"),this.interrupt(UN)},l))}catch(_){this.log_("Failed to get token: "+_),u||(this.repoInfo_.nodeAdmin&&Bt(_),h())}}}interrupt(e){xt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){xt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],uf(this.interruptReasons_)&&(this.reconnectDelay_=jo,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let i;t?i=t.map(l=>th(l)).join("$"):i="default";const o=this.removeListen_(e,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,t){const i=new Ge(e).toString();let o;if(this.listens.has(i)){const l=this.listens.get(i);o=l.get(t),l.delete(t),l.size===0&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(e,t){xt("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=G_&&(this.reconnectDelay_=K_,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){xt("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=G_&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";e["sdk."+t+"."+Fv.replace(/\./g,"-")]=1,$f()?e["framework.cordova"]=1:Ky()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=vu.getInstance().currentlyOnline();return uf(this.interruptReasons_)&&e}}ur.nextPersistentConnectionId_=0;ur.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new xe(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new xe(Rs,e),o=new xe(Rs,t);return this.compare(i,o)!==0}minPost(){return xe.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wl;class uw extends $u{static get __EMPTY_NODE(){return Wl}static set __EMPTY_NODE(e){Wl=e}compare(e,t){return zi(e.name,t.name)}isDefinedOn(e){throw bs("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return xe.MIN}maxPost(){return new xe(Li,Wl)}makePost(e,t){return W(typeof e=="string","KeyIndex indexValue must always be a string."),new xe(e,Wl)}toString(){return".key"}}const Cs=new uw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,t,i,o,l=null){this.isReverse_=o,this.resultGenerator_=l,this.nodeStack_=[];let u=1;for(;!e.isEmpty();)if(e=e,u=t?i(e.key,t):1,o&&(u*=-1),u<0)this.isReverse_?e=e.left:e=e.right;else if(u===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(e.key,e.value):t={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Rt{constructor(e,t,i,o,l){this.key=e,this.value=t,this.color=i??Rt.RED,this.left=o??Zt.EMPTY_NODE,this.right=l??Zt.EMPTY_NODE}copy(e,t,i,o,l){return new Rt(e??this.key,t??this.value,i??this.color,o??this.left,l??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const l=i(e,o.key);return l<0?o=o.copy(null,null,null,o.left.insert(e,t,i),null):l===0?o=o.copy(null,t,null,null,null):o=o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Zt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let i,o;if(i=this,t(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),t(e,i.key)===0){if(i.right.isEmpty())return Zt.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Rt.RED=!0;Rt.BLACK=!1;class jN{copy(e,t,i,o,l){return this}insert(e,t,i){return new Rt(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Zt{constructor(e,t=Zt.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Zt(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Rt.BLACK,null,null))}remove(e){return new Zt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Rt.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),t===0)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,o=null;for(;!i.isEmpty();)if(t=this.comparator_(e,i.key),t===0){if(i.left.isEmpty())return o?o.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else t<0?i=i.left:t>0&&(o=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Hl(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Hl(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Hl(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Hl(this.root_,null,this.comparator_,!0,e)}}Zt.EMPTY_NODE=new jN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zN(n,e){return zi(n.name,e.name)}function ah(n,e){return zi(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wf;function $N(n){wf=n}const cw=function(n){return typeof n=="number"?"number:"+$v(n):"string:"+n},dw=function(n){if(n.isLeafNode()){const e=n.val();W(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Hn(e,".sv"),"Priority must be a string or number.")}else W(n===wf||n.isEmpty(),"priority of unexpected type.");W(n===wf||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let q_;class kt{static set __childrenNodeConstructor(e){q_=e}static get __childrenNodeConstructor(){return q_}constructor(e,t=kt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,W(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),dw(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new kt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:kt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Oe(e)?this:Le(e)===".priority"?this.priorityNode_:kt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return e===".priority"?this.updatePriority(t):t.isEmpty()&&e!==".priority"?this:kt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const i=Le(e);return i===null?t:t.isEmpty()&&i!==".priority"?this:(W(i!==".priority"||ei(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,kt.__childrenNodeConstructor.EMPTY_NODE.updateChild(Xe(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+cw(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",t==="number"?e+=$v(this.value_):e+=this.value_,this.lazyHash_=jv(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===kt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof kt.__childrenNodeConstructor?-1:(W(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,i=typeof this.value_,o=kt.VALUE_TYPE_ORDER.indexOf(t),l=kt.VALUE_TYPE_ORDER.indexOf(i);return W(o>=0,"Unknown leaf type: "+t),W(l>=0,"Unknown leaf type: "+i),o===l?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:l-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}else return!1}}kt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fw,hw;function VN(n){fw=n}function BN(n){hw=n}class WN extends $u{compare(e,t){const i=e.node.getPriority(),o=t.node.getPriority(),l=i.compareTo(o);return l===0?zi(e.name,t.name):l}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return xe.MIN}maxPost(){return new xe(Li,new kt("[PRIORITY-POST]",hw))}makePost(e,t){const i=fw(e);return new xe(t,new kt("[PRIORITY-POST]",i))}toString(){return".priority"}}const ft=new WN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN=Math.log(2);class KN{constructor(e){const t=l=>parseInt(Math.log(l)/HN,10),i=l=>parseInt(Array(l+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;const o=i(this.count);this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const wu=function(n,e,t,i){n.sort(e);const o=function(h,g){const m=g-h;let _,v;if(m===0)return null;if(m===1)return _=n[h],v=t?t(_):_,new Rt(v,_.node,Rt.BLACK,null,null);{const E=parseInt(m/2,10)+h,T=o(h,E),N=o(E+1,g);return _=n[E],v=t?t(_):_,new Rt(v,_.node,Rt.BLACK,T,N)}},l=function(h){let g=null,m=null,_=n.length;const v=function(T,N){const R=_-T,H=_;_-=T;const z=o(R+1,H),J=n[R],G=t?t(J):J;E(new Rt(G,J.node,N,null,z))},E=function(T){g?(g.left=T,g=T):(m=T,g=T)};for(let T=0;T<h.count;++T){const N=h.nextBitIsOne(),R=Math.pow(2,h.count-(T+1));N?v(R,Rt.BLACK):(v(R,Rt.BLACK),v(R,Rt.RED))}return m},u=new KN(n.length),d=l(u);return new Zt(i||e,d)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qd;const zo={};class lr{static get Default(){return W(ft,"ChildrenNode.ts has not been loaded"),Qd=Qd||new lr({".priority":zo},{".priority":ft}),Qd}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=Ts(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Zt?t:null}hasIndex(e){return Hn(this.indexSet_,e.toString())}addIndex(e,t){W(e!==Cs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let o=!1;const l=t.getIterator(xe.Wrap);let u=l.getNext();for(;u;)o=o||e.isDefinedOn(u.node),i.push(u),u=l.getNext();let d;o?d=wu(i,e.getCompare()):d=zo;const h=e.toString(),g=Object.assign({},this.indexSet_);g[h]=e;const m=Object.assign({},this.indexes_);return m[h]=d,new lr(m,g)}addToIndexes(e,t){const i=lu(this.indexes_,(o,l)=>{const u=Ts(this.indexSet_,l);if(W(u,"Missing index implementation for "+l),o===zo)if(u.isDefinedOn(e.node)){const d=[],h=t.getIterator(xe.Wrap);let g=h.getNext();for(;g;)g.name!==e.name&&d.push(g),g=h.getNext();return d.push(e),wu(d,u.getCompare())}else return zo;else{const d=t.get(e.name);let h=o;return d&&(h=h.remove(new xe(e.name,d))),h.insert(e,e.node)}});return new lr(i,this.indexSet_)}removeFromIndexes(e,t){const i=lu(this.indexes_,o=>{if(o===zo)return o;{const l=t.get(e.name);return l?o.remove(new xe(e.name,l)):o}});return new lr(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $o;class me{static get EMPTY_NODE(){return $o||($o=new me(new Zt(ah),null,lr.Default))}constructor(e,t,i){this.children_=e,this.priorityNode_=t,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&dw(this.priorityNode_),this.children_.isEmpty()&&W(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||$o}updatePriority(e){return this.children_.isEmpty()?this:new me(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const t=this.children_.get(e);return t===null?$o:t}}getChild(e){const t=Le(e);return t===null?this:this.getImmediateChild(t).getChild(Xe(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,t){if(W(t,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(t);{const i=new xe(e,t);let o,l;t.isEmpty()?(o=this.children_.remove(e),l=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(e,t),l=this.indexMap_.addToIndexes(i,this.children_));const u=o.isEmpty()?$o:this.priorityNode_;return new me(o,u,l)}}updateChild(e,t){const i=Le(e);if(i===null)return t;{W(Le(e)!==".priority"||ei(e)===1,".priority must be the last token in a path");const o=this.getImmediateChild(i).updateChild(Xe(e),t);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let i=0,o=0,l=!0;if(this.forEachChild(ft,(u,d)=>{t[u]=d.val(e),i++,l&&me.INTEGER_REGEXP_.test(u)?o=Math.max(o,Number(u)):l=!1}),!e&&l&&o<2*i){const u=[];for(const d in t)u[d]=t[d];return u}else return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+cw(this.getPriority().val())+":"),this.forEachChild(ft,(t,i)=>{const o=i.hash();o!==""&&(e+=":"+t+":"+o)}),this.lazyHash_=e===""?"":jv(e)}return this.lazyHash_}getPredecessorChildName(e,t,i){const o=this.resolveIndex_(i);if(o){const l=o.getPredecessorKey(new xe(e,t));return l?l.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const i=t.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new xe(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const i=t.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new xe(t,this.children_.get(t)):null}forEachChild(e,t){const i=this.resolveIndex_(e);return i?i.inorderTraversal(o=>t(o.name,o.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const i=this.resolveIndex_(t);if(i)return i.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,xe.Wrap);let l=o.peek();for(;l!=null&&t.compare(l,e)<0;)o.getNext(),l=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const i=this.resolveIndex_(t);if(i)return i.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,xe.Wrap);let l=o.peek();for(;l!=null&&t.compare(l,e)>0;)o.getNext(),l=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ra?-1:0}withIndex(e){if(e===Cs||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new me(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===Cs||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority()))if(this.children_.count()===t.children_.count()){const i=this.getIterator(ft),o=t.getIterator(ft);let l=i.getNext(),u=o.getNext();for(;l&&u;){if(l.name!==u.name||!l.node.equals(u.node))return!1;l=i.getNext(),u=o.getNext()}return l===null&&u===null}else return!1;else return!1}}resolveIndex_(e){return e===Cs?null:this.indexMap_.get(e.toString())}}me.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class GN extends me{constructor(){super(new Zt(ah),me.EMPTY_NODE,lr.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return me.EMPTY_NODE}isEmpty(){return!1}}const Ra=new GN;Object.defineProperties(xe,{MIN:{value:new xe(Rs,me.EMPTY_NODE)},MAX:{value:new xe(Li,Ra)}});uw.__EMPTY_NODE=me.EMPTY_NODE;kt.__childrenNodeConstructor=me;$N(Ra);BN(Ra);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN=!0;function wt(n,e=null){if(n===null)return me.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),W(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const t=n;return new kt(t,wt(e))}if(!(n instanceof Array)&&qN){const t=[];let i=!1;if(Ot(n,(u,d)=>{if(u.substring(0,1)!=="."){const h=wt(d);h.isEmpty()||(i=i||!h.getPriority().isEmpty(),t.push(new xe(u,h)))}}),t.length===0)return me.EMPTY_NODE;const l=wu(t,zN,u=>u.name,ah);if(i){const u=wu(t,ft.getCompare());return new me(l,wt(e),new lr({".priority":u},{".priority":ft}))}else return new me(l,wt(e),lr.Default)}else{let t=me.EMPTY_NODE;return Ot(n,(i,o)=>{if(Hn(n,i)&&i.substring(0,1)!=="."){const l=wt(o);(l.isLeafNode()||!l.isEmpty())&&(t=t.updateImmediateChild(i,l))}}),t.updatePriority(wt(e))}}VN(wt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN extends $u{constructor(e){super(),this.indexPath_=e,W(!Oe(e)&&Le(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),o=this.extractChild(t.node),l=i.compareTo(o);return l===0?zi(e.name,t.name):l}makePost(e,t){const i=wt(e),o=me.EMPTY_NODE.updateChild(this.indexPath_,i);return new xe(t,o)}maxPost(){const e=me.EMPTY_NODE.updateChild(this.indexPath_,Ra);return new xe(Li,e)}toString(){return la(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN extends $u{compare(e,t){const i=e.node.compareTo(t.node);return i===0?zi(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return xe.MIN}maxPost(){return xe.MAX}makePost(e,t){const i=wt(e);return new xe(t,i)}toString(){return".value"}}const JN=new QN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(n){return{type:"value",snapshotNode:n}}function Ps(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function ua(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function ca(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}function XN(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e){this.index_=e}updateChild(e,t,i,o,l,u){W(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=e.getImmediateChild(t);return d.getChild(o).equals(i.getChild(o))&&d.isEmpty()===i.isEmpty()||(u!=null&&(i.isEmpty()?e.hasChild(t)?u.trackChildChange(ua(t,d)):W(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?u.trackChildChange(Ps(t,i)):u.trackChildChange(ca(t,i,d))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(t,i).withIndex(this.index_)}updateFullNode(e,t,i){return i!=null&&(e.isLeafNode()||e.forEachChild(ft,(o,l)=>{t.hasChild(o)||i.trackChildChange(ua(o,l))}),t.isLeafNode()||t.forEachChild(ft,(o,l)=>{if(e.hasChild(o)){const u=e.getImmediateChild(o);u.equals(l)||i.trackChildChange(ca(o,l,u))}else i.trackChildChange(Ps(o,l))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?me.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this.indexedFilter_=new lh(e.getIndex()),this.index_=e.getIndex(),this.startPost_=da.getStartPost_(e),this.endPost_=da.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&i}updateChild(e,t,i,o,l,u){return this.matches(new xe(t,i))||(i=me.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,i,o,l,u)}updateFullNode(e,t,i){t.isLeafNode()&&(t=me.EMPTY_NODE);let o=t.withIndex(this.index_);o=o.updatePriority(me.EMPTY_NODE);const l=this;return t.forEachChild(ft,(u,d)=>{l.matches(new xe(u,d))||(o=o.updateImmediateChild(u,me.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,o,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=t=>{const i=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new da(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,i,o,l,u){return this.rangedFilter_.matches(new xe(t,i))||(i=me.EMPTY_NODE),e.getImmediateChild(t).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,i,o,l,u):this.fullLimitUpdateChild_(e,t,i,l,u)}updateFullNode(e,t,i){let o;if(t.isLeafNode()||t.isEmpty())o=me.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<t.numChildren()&&t.isIndexed(this.index_)){o=me.EMPTY_NODE.withIndex(this.index_);let l;this.reverse_?l=t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):l=t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let u=0;for(;l.hasNext()&&u<this.limit_;){const d=l.getNext();if(this.withinDirectionalStart(d))if(this.withinDirectionalEnd(d))o=o.updateImmediateChild(d.name,d.node),u++;else break;else continue}}else{o=t.withIndex(this.index_),o=o.updatePriority(me.EMPTY_NODE);let l;this.reverse_?l=o.getReverseIterator(this.index_):l=o.getIterator(this.index_);let u=0;for(;l.hasNext();){const d=l.getNext();u<this.limit_&&this.withinDirectionalStart(d)&&this.withinDirectionalEnd(d)?u++:o=o.updateImmediateChild(d.name,me.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,o,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,i,o,l){let u;if(this.reverse_){const _=this.index_.getCompare();u=(v,E)=>_(E,v)}else u=this.index_.getCompare();const d=e;W(d.numChildren()===this.limit_,"");const h=new xe(t,i),g=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),m=this.rangedFilter_.matches(h);if(d.hasChild(t)){const _=d.getImmediateChild(t);let v=o.getChildAfterChild(this.index_,g,this.reverse_);for(;v!=null&&(v.name===t||d.hasChild(v.name));)v=o.getChildAfterChild(this.index_,v,this.reverse_);const E=v==null?1:u(v,h);if(m&&!i.isEmpty()&&E>=0)return l!=null&&l.trackChildChange(ca(t,i,_)),d.updateImmediateChild(t,i);{l!=null&&l.trackChildChange(ua(t,_));const N=d.updateImmediateChild(t,me.EMPTY_NODE);return v!=null&&this.rangedFilter_.matches(v)?(l!=null&&l.trackChildChange(Ps(v.name,v.node)),N.updateImmediateChild(v.name,v.node)):N}}else return i.isEmpty()?e:m&&u(g,h)>=0?(l!=null&&(l.trackChildChange(ua(g.name,g.node)),l.trackChildChange(Ps(t,i))),d.updateImmediateChild(t,i).updateImmediateChild(g.name,me.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ft}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return W(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return W(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Rs}hasEnd(){return this.endSet_}getIndexEndValue(){return W(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return W(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Li}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return W(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ft}copy(){const e=new uh;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function ex(n){return n.loadsAllData()?new lh(n.getIndex()):n.hasLimit()?new ZN(n):new da(n)}function Y_(n){const e={};if(n.isDefault())return e;let t;if(n.index_===ft?t="$priority":n.index_===JN?t="$value":n.index_===Cs?t="$key":(W(n.index_ instanceof YN,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=Et(t),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";e[i]=Et(n.indexStartValue_),n.startNameSet_&&(e[i]+=","+Et(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";e[i]=Et(n.indexEndValue_),n.endNameSet_&&(e[i]+=","+Et(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function Q_(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;t===""&&(n.isViewFromLeft()?t="l":t="r"),e.vf=t}return n.index_!==ft&&(e.i=n.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu extends iw{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return t!==void 0?"tag$"+t:(W(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,i,o){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=o,this.log_=ka("p:rest:"),this.listens_={}}listen(e,t,i,o){const l=e._path.toString();this.log_("Listen called for "+l+" "+e._queryIdentifier);const u=Eu.getListenId_(e,i),d={};this.listens_[u]=d;const h=Y_(e._queryParams);this.restRequest_(l+".json",h,(g,m)=>{let _=m;if(g===404&&(_=null,g=null),g===null&&this.onDataUpdate_(l,_,!1,i),Ts(this.listens_,u)===d){let v;g?g===401?v="permission_denied":v="rest_error:"+g:v="ok",o(v,null)}})}unlisten(e,t){const i=Eu.getListenId_(e,t);delete this.listens_[i]}get(e){const t=Y_(e._queryParams),i=e._path.toString(),o=new wa;return this.restRequest_(i+".json",t,(l,u)=>{let d=u;l===404&&(d=null,l=null),l===null?(this.onDataUpdate_(i,d,!1,null),o.resolve(d)):o.reject(new Error(d))}),o.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,l])=>{o&&o.accessToken&&(t.auth=o.accessToken),l&&l.token&&(t.ac=l.token);const u=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Ls(t);this.log_("Sending REST request for "+u);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(i&&d.readyState===4){this.log_("REST Response for "+u+" received. status:",d.status,"response:",d.responseText);let h=null;if(d.status>=200&&d.status<300){try{h=ra(d.responseText)}catch{Bt("Failed to parse JSON response for "+u+": "+d.responseText)}i(null,h)}else d.status!==401&&d.status!==404&&Bt("Got unsuccessful REST response for "+u+" Status: "+d.status),i(d.status);i=null}},d.open("GET",u,!0),d.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(){this.rootNode_=me.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(){return{value:null,children:new Map}}function gw(n,e,t){if(Oe(e))n.value=t,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,t);else{const i=Le(e);n.children.has(i)||n.children.set(i,Su());const o=n.children.get(i);e=Xe(e),gw(o,e,t)}}function Ef(n,e,t){n.value!==null?t(e,n.value):nx(n,(i,o)=>{const l=new Ge(e.toString()+"/"+i);Ef(o,l,t)})}function nx(n,e){n.children.forEach((t,i)=>{e(i,t)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Ot(this.last_,(i,o)=>{t[i]=t[i]-o}),this.last_=e,t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_=10*1e3,ix=30*1e3,sx=5*60*1e3;class ox{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new rx(e);const i=J_+(ix-J_)*Math.random();Jo(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;Ot(e,(o,l)=>{l>0&&Hn(this.statsToReport_,o)&&(t[o]=l,i=!0)}),i&&this.server_.reportStats(t),Jo(this.reportStats_.bind(this),Math.floor(Math.random()*2*sx))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rn;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Rn||(Rn={}));function ch(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function dh(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function fh(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=Rn.ACK_USER_WRITE,this.source=ch()}operationForChild(e){if(Oe(this.path)){if(this.affectedTree.value!=null)return W(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Ge(e));return new Cu(je(),t,this.revert)}}else return W(Le(this.path)===e,"operationForChild called for unrelated child."),new Cu(Xe(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,t){this.source=e,this.path=t,this.type=Rn.LISTEN_COMPLETE}operationForChild(e){return Oe(this.path)?new fa(this.source,je()):new fa(this.source,Xe(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=Rn.OVERWRITE}operationForChild(e){return Oe(this.path)?new Di(this.source,je(),this.snap.getImmediateChild(e)):new Di(this.source,Xe(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=Rn.MERGE}operationForChild(e){if(Oe(this.path)){const t=this.children.subtree(new Ge(e));return t.isEmpty()?null:t.value?new Di(this.source,je(),t.value):new Ns(this.source,je(),t)}else return W(Le(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Ns(this.source,Xe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Oe(e))return this.isFullyInitialized()&&!this.filtered_;const t=Le(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function lx(n,e,t,i){const o=[],l=[];return e.forEach(u=>{u.type==="child_changed"&&n.index_.indexedValueChanged(u.oldSnap,u.snapshotNode)&&l.push(XN(u.childName,u.snapshotNode))}),Vo(n,o,"child_removed",e,i,t),Vo(n,o,"child_added",e,i,t),Vo(n,o,"child_moved",l,i,t),Vo(n,o,"child_changed",e,i,t),Vo(n,o,"value",e,i,t),o}function Vo(n,e,t,i,o,l){const u=i.filter(d=>d.type===t);u.sort((d,h)=>cx(n,d,h)),u.forEach(d=>{const h=ux(n,d,l);o.forEach(g=>{g.respondsTo(d.type)&&e.push(g.createEvent(h,n.query_))})})}function ux(n,e,t){return e.type==="value"||e.type==="child_removed"||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function cx(n,e,t){if(e.childName==null||t.childName==null)throw bs("Should only compare child_ events.");const i=new xe(e.childName,e.snapshotNode),o=new xe(t.childName,t.snapshotNode);return n.index_.compare(i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vu(n,e){return{eventCache:n,serverCache:e}}function Xo(n,e,t,i){return Vu(new ti(e,t,i),n.serverCache)}function mw(n,e,t,i){return Vu(n.eventCache,new ti(e,t,i))}function Iu(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Mi(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jd;const dx=()=>(Jd||(Jd=new Zt(YP)),Jd);class Je{static fromObject(e){let t=new Je(null);return Ot(e,(i,o)=>{t=t.set(new Ge(i),o)}),t}constructor(e,t=dx()){this.value=e,this.children=t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(this.value!=null&&t(this.value))return{path:je(),value:this.value};if(Oe(e))return null;{const i=Le(e),o=this.children.get(i);if(o!==null){const l=o.findRootMostMatchingPathAndValue(Xe(e),t);return l!=null?{path:dt(new Ge(i),l.path),value:l.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Oe(e))return this;{const t=Le(e),i=this.children.get(t);return i!==null?i.subtree(Xe(e)):new Je(null)}}set(e,t){if(Oe(e))return new Je(t,this.children);{const i=Le(e),l=(this.children.get(i)||new Je(null)).set(Xe(e),t),u=this.children.insert(i,l);return new Je(this.value,u)}}remove(e){if(Oe(e))return this.children.isEmpty()?new Je(null):new Je(null,this.children);{const t=Le(e),i=this.children.get(t);if(i){const o=i.remove(Xe(e));let l;return o.isEmpty()?l=this.children.remove(t):l=this.children.insert(t,o),this.value===null&&l.isEmpty()?new Je(null):new Je(this.value,l)}else return this}}get(e){if(Oe(e))return this.value;{const t=Le(e),i=this.children.get(t);return i?i.get(Xe(e)):null}}setTree(e,t){if(Oe(e))return t;{const i=Le(e),l=(this.children.get(i)||new Je(null)).setTree(Xe(e),t);let u;return l.isEmpty()?u=this.children.remove(i):u=this.children.insert(i,l),new Je(this.value,u)}}fold(e){return this.fold_(je(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((o,l)=>{i[o]=l.fold_(dt(e,o),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,je(),t)}findOnPath_(e,t,i){const o=this.value?i(t,this.value):!1;if(o)return o;if(Oe(e))return null;{const l=Le(e),u=this.children.get(l);return u?u.findOnPath_(Xe(e),dt(t,l),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,je(),t)}foreachOnPath_(e,t,i){if(Oe(e))return this;{this.value&&i(t,this.value);const o=Le(e),l=this.children.get(o);return l?l.foreachOnPath_(Xe(e),dt(t,o),i):new Je(null)}}foreach(e){this.foreach_(je(),e)}foreach_(e,t){this.children.inorderTraversal((i,o)=>{o.foreach_(dt(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.writeTree_=e}static empty(){return new Pn(new Je(null))}}function Zo(n,e,t){if(Oe(e))return new Pn(new Je(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(i!=null){const o=i.path;let l=i.value;const u=Vt(o,e);return l=l.updateChild(u,t),new Pn(n.writeTree_.set(o,l))}else{const o=new Je(t),l=n.writeTree_.setTree(e,o);return new Pn(l)}}}function Sf(n,e,t){let i=n;return Ot(t,(o,l)=>{i=Zo(i,dt(e,o),l)}),i}function X_(n,e){if(Oe(e))return Pn.empty();{const t=n.writeTree_.setTree(e,new Je(null));return new Pn(t)}}function Cf(n,e){return $i(n,e)!=null}function $i(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return t!=null?n.writeTree_.get(t.path).getChild(Vt(t.path,e)):null}function Z_(n){const e=[],t=n.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(ft,(i,o)=>{e.push(new xe(i,o))}):n.writeTree_.children.inorderTraversal((i,o)=>{o.value!=null&&e.push(new xe(i,o.value))}),e}function Jr(n,e){if(Oe(e))return n;{const t=$i(n,e);return t!=null?new Pn(new Je(t)):new Pn(n.writeTree_.subtree(e))}}function If(n){return n.writeTree_.isEmpty()}function xs(n,e){return _w(je(),n.writeTree_,e)}function _w(n,e,t){if(e.value!=null)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((o,l)=>{o===".priority"?(W(l.value!==null,"Priority writes must always be leaf nodes"),i=l.value):t=_w(dt(n,o),l,t)}),!t.getChild(n).isEmpty()&&i!==null&&(t=t.updateChild(dt(n,".priority"),i)),t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bu(n,e){return Ew(e,n)}function fx(n,e,t,i,o){W(i>n.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:o}),o&&(n.visibleWrites=Zo(n.visibleWrites,e,t)),n.lastWriteId=i}function hx(n,e,t,i){W(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:i,visible:!0}),n.visibleWrites=Sf(n.visibleWrites,e,t),n.lastWriteId=i}function px(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}function gx(n,e){const t=n.allWrites.findIndex(d=>d.writeId===e);W(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let o=i.visible,l=!1,u=n.allWrites.length-1;for(;o&&u>=0;){const d=n.allWrites[u];d.visible&&(u>=t&&mx(d,i.path)?o=!1:pn(i.path,d.path)&&(l=!0)),u--}if(o){if(l)return _x(n),!0;if(i.snap)n.visibleWrites=X_(n.visibleWrites,i.path);else{const d=i.children;Ot(d,h=>{n.visibleWrites=X_(n.visibleWrites,dt(i.path,h))})}return!0}else return!1}function mx(n,e){if(n.snap)return pn(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&pn(dt(n.path,t),e))return!0;return!1}function _x(n){n.visibleWrites=yw(n.allWrites,yx,je()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function yx(n){return n.visible}function yw(n,e,t){let i=Pn.empty();for(let o=0;o<n.length;++o){const l=n[o];if(e(l)){const u=l.path;let d;if(l.snap)pn(t,u)?(d=Vt(t,u),i=Zo(i,d,l.snap)):pn(u,t)&&(d=Vt(u,t),i=Zo(i,je(),l.snap.getChild(d)));else if(l.children){if(pn(t,u))d=Vt(t,u),i=Sf(i,d,l.children);else if(pn(u,t))if(d=Vt(u,t),Oe(d))i=Sf(i,je(),l.children);else{const h=Ts(l.children,Le(d));if(h){const g=h.getChild(Xe(d));i=Zo(i,je(),g)}}}else throw bs("WriteRecord should have .snap or .children")}}return i}function vw(n,e,t,i,o){if(!i&&!o){const l=$i(n.visibleWrites,e);if(l!=null)return l;{const u=Jr(n.visibleWrites,e);if(If(u))return t;if(t==null&&!Cf(u,je()))return null;{const d=t||me.EMPTY_NODE;return xs(u,d)}}}else{const l=Jr(n.visibleWrites,e);if(!o&&If(l))return t;if(!o&&t==null&&!Cf(l,je()))return null;{const u=function(g){return(g.visible||o)&&(!i||!~i.indexOf(g.writeId))&&(pn(g.path,e)||pn(e,g.path))},d=yw(n.allWrites,u,e),h=t||me.EMPTY_NODE;return xs(d,h)}}}function vx(n,e,t){let i=me.EMPTY_NODE;const o=$i(n.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(ft,(l,u)=>{i=i.updateImmediateChild(l,u)}),i;if(t){const l=Jr(n.visibleWrites,e);return t.forEachChild(ft,(u,d)=>{const h=xs(Jr(l,new Ge(u)),d);i=i.updateImmediateChild(u,h)}),Z_(l).forEach(u=>{i=i.updateImmediateChild(u.name,u.node)}),i}else{const l=Jr(n.visibleWrites,e);return Z_(l).forEach(u=>{i=i.updateImmediateChild(u.name,u.node)}),i}}function wx(n,e,t,i,o){W(i||o,"Either existingEventSnap or existingServerSnap must exist");const l=dt(e,t);if(Cf(n.visibleWrites,l))return null;{const u=Jr(n.visibleWrites,l);return If(u)?o.getChild(t):xs(u,o.getChild(t))}}function Ex(n,e,t,i){const o=dt(e,t),l=$i(n.visibleWrites,o);if(l!=null)return l;if(i.isCompleteForChild(t)){const u=Jr(n.visibleWrites,o);return xs(u,i.getNode().getImmediateChild(t))}else return null}function Sx(n,e){return $i(n.visibleWrites,e)}function Cx(n,e,t,i,o,l,u){let d;const h=Jr(n.visibleWrites,e),g=$i(h,je());if(g!=null)d=g;else if(t!=null)d=xs(h,t);else return[];if(d=d.withIndex(u),!d.isEmpty()&&!d.isLeafNode()){const m=[],_=u.getCompare(),v=l?d.getReverseIteratorFrom(i,u):d.getIteratorFrom(i,u);let E=v.getNext();for(;E&&m.length<o;)_(E,i)!==0&&m.push(E),E=v.getNext();return m}else return[]}function Ix(){return{visibleWrites:Pn.empty(),allWrites:[],lastWriteId:-1}}function Tu(n,e,t,i){return vw(n.writeTree,n.treePath,e,t,i)}function hh(n,e){return vx(n.writeTree,n.treePath,e)}function ey(n,e,t,i){return wx(n.writeTree,n.treePath,e,t,i)}function ku(n,e){return Sx(n.writeTree,dt(n.treePath,e))}function Tx(n,e,t,i,o,l){return Cx(n.writeTree,n.treePath,e,t,i,o,l)}function ph(n,e,t){return Ex(n.writeTree,n.treePath,e,t)}function ww(n,e){return Ew(dt(n.treePath,e),n.writeTree)}function Ew(n,e){return{treePath:n,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;W(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),W(i!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(i);if(o){const l=o.type;if(t==="child_added"&&l==="child_removed")this.changeMap.set(i,ca(i,e.snapshotNode,o.snapshotNode));else if(t==="child_removed"&&l==="child_added")this.changeMap.delete(i);else if(t==="child_removed"&&l==="child_changed")this.changeMap.set(i,ua(i,o.oldSnap));else if(t==="child_changed"&&l==="child_added")this.changeMap.set(i,Ps(i,e.snapshotNode));else if(t==="child_changed"&&l==="child_changed")this.changeMap.set(i,ca(i,e.snapshotNode,o.oldSnap));else throw bs("Illegal combination of changes: "+e+" occurred after "+o)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}}const Sw=new Rx;class gh{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new ti(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ph(this.writes_,e,i)}}getChildAfterChild(e,t,i){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Mi(this.viewCache_),l=Tx(this.writes_,o,t,1,i,e);return l.length===0?null:l[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Px(n){return{filter:n}}function Nx(n,e){W(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),W(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function xx(n,e,t,i,o){const l=new kx;let u,d;if(t.type===Rn.OVERWRITE){const g=t;g.source.fromUser?u=Tf(n,e,g.path,g.snap,i,o,l):(W(g.source.fromServer,"Unknown source."),d=g.source.tagged||e.serverCache.isFiltered()&&!Oe(g.path),u=Ru(n,e,g.path,g.snap,i,o,d,l))}else if(t.type===Rn.MERGE){const g=t;g.source.fromUser?u=Ax(n,e,g.path,g.children,i,o,l):(W(g.source.fromServer,"Unknown source."),d=g.source.tagged||e.serverCache.isFiltered(),u=kf(n,e,g.path,g.children,i,o,d,l))}else if(t.type===Rn.ACK_USER_WRITE){const g=t;g.revert?u=Dx(n,e,g.path,i,o,l):u=bx(n,e,g.path,g.affectedTree,i,o,l)}else if(t.type===Rn.LISTEN_COMPLETE)u=Lx(n,e,t.path,i,l);else throw bs("Unknown operation type: "+t.type);const h=l.getChanges();return Ox(e,u,h),{viewCache:u,changes:h}}function Ox(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const o=i.getNode().isLeafNode()||i.getNode().isEmpty(),l=Iu(n);(t.length>0||!n.eventCache.isFullyInitialized()||o&&!i.getNode().equals(l)||!i.getNode().getPriority().equals(l.getPriority()))&&t.push(pw(Iu(e)))}}function Cw(n,e,t,i,o,l){const u=e.eventCache;if(ku(i,t)!=null)return e;{let d,h;if(Oe(t))if(W(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const g=Mi(e),m=g instanceof me?g:me.EMPTY_NODE,_=hh(i,m);d=n.filter.updateFullNode(e.eventCache.getNode(),_,l)}else{const g=Tu(i,Mi(e));d=n.filter.updateFullNode(e.eventCache.getNode(),g,l)}else{const g=Le(t);if(g===".priority"){W(ei(t)===1,"Can't have a priority with additional path components");const m=u.getNode();h=e.serverCache.getNode();const _=ey(i,t,m,h);_!=null?d=n.filter.updatePriority(m,_):d=u.getNode()}else{const m=Xe(t);let _;if(u.isCompleteForChild(g)){h=e.serverCache.getNode();const v=ey(i,t,u.getNode(),h);v!=null?_=u.getNode().getImmediateChild(g).updateChild(m,v):_=u.getNode().getImmediateChild(g)}else _=ph(i,g,e.serverCache);_!=null?d=n.filter.updateChild(u.getNode(),g,_,m,o,l):d=u.getNode()}}return Xo(e,d,u.isFullyInitialized()||Oe(t),n.filter.filtersNodes())}}function Ru(n,e,t,i,o,l,u,d){const h=e.serverCache;let g;const m=u?n.filter:n.filter.getIndexedFilter();if(Oe(t))g=m.updateFullNode(h.getNode(),i,null);else if(m.filtersNodes()&&!h.isFiltered()){const E=h.getNode().updateChild(t,i);g=m.updateFullNode(h.getNode(),E,null)}else{const E=Le(t);if(!h.isCompleteForPath(t)&&ei(t)>1)return e;const T=Xe(t),R=h.getNode().getImmediateChild(E).updateChild(T,i);E===".priority"?g=m.updatePriority(h.getNode(),R):g=m.updateChild(h.getNode(),E,R,T,Sw,null)}const _=mw(e,g,h.isFullyInitialized()||Oe(t),m.filtersNodes()),v=new gh(o,_,l);return Cw(n,_,t,o,v,d)}function Tf(n,e,t,i,o,l,u){const d=e.eventCache;let h,g;const m=new gh(o,e,l);if(Oe(t))g=n.filter.updateFullNode(e.eventCache.getNode(),i,u),h=Xo(e,g,!0,n.filter.filtersNodes());else{const _=Le(t);if(_===".priority")g=n.filter.updatePriority(e.eventCache.getNode(),i),h=Xo(e,g,d.isFullyInitialized(),d.isFiltered());else{const v=Xe(t),E=d.getNode().getImmediateChild(_);let T;if(Oe(v))T=i;else{const N=m.getCompleteChild(_);N!=null?sh(v)===".priority"&&N.getChild(ow(v)).isEmpty()?T=N:T=N.updateChild(v,i):T=me.EMPTY_NODE}if(E.equals(T))h=e;else{const N=n.filter.updateChild(d.getNode(),_,T,v,m,u);h=Xo(e,N,d.isFullyInitialized(),n.filter.filtersNodes())}}}return h}function ty(n,e){return n.eventCache.isCompleteForChild(e)}function Ax(n,e,t,i,o,l,u){let d=e;return i.foreach((h,g)=>{const m=dt(t,h);ty(e,Le(m))&&(d=Tf(n,d,m,g,o,l,u))}),i.foreach((h,g)=>{const m=dt(t,h);ty(e,Le(m))||(d=Tf(n,d,m,g,o,l,u))}),d}function ny(n,e,t){return t.foreach((i,o)=>{e=e.updateChild(i,o)}),e}function kf(n,e,t,i,o,l,u,d){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let h=e,g;Oe(t)?g=i:g=new Je(null).setTree(t,i);const m=e.serverCache.getNode();return g.children.inorderTraversal((_,v)=>{if(m.hasChild(_)){const E=e.serverCache.getNode().getImmediateChild(_),T=ny(n,E,v);h=Ru(n,h,new Ge(_),T,o,l,u,d)}}),g.children.inorderTraversal((_,v)=>{const E=!e.serverCache.isCompleteForChild(_)&&v.value===null;if(!m.hasChild(_)&&!E){const T=e.serverCache.getNode().getImmediateChild(_),N=ny(n,T,v);h=Ru(n,h,new Ge(_),N,o,l,u,d)}}),h}function bx(n,e,t,i,o,l,u){if(ku(o,t)!=null)return e;const d=e.serverCache.isFiltered(),h=e.serverCache;if(i.value!=null){if(Oe(t)&&h.isFullyInitialized()||h.isCompleteForPath(t))return Ru(n,e,t,h.getNode().getChild(t),o,l,d,u);if(Oe(t)){let g=new Je(null);return h.getNode().forEachChild(Cs,(m,_)=>{g=g.set(new Ge(m),_)}),kf(n,e,t,g,o,l,d,u)}else return e}else{let g=new Je(null);return i.foreach((m,_)=>{const v=dt(t,m);h.isCompleteForPath(v)&&(g=g.set(m,h.getNode().getChild(v)))}),kf(n,e,t,g,o,l,d,u)}}function Lx(n,e,t,i,o){const l=e.serverCache,u=mw(e,l.getNode(),l.isFullyInitialized()||Oe(t),l.isFiltered());return Cw(n,u,t,i,Sw,o)}function Dx(n,e,t,i,o,l){let u;if(ku(i,t)!=null)return e;{const d=new gh(i,e,o),h=e.eventCache.getNode();let g;if(Oe(t)||Le(t)===".priority"){let m;if(e.serverCache.isFullyInitialized())m=Tu(i,Mi(e));else{const _=e.serverCache.getNode();W(_ instanceof me,"serverChildren would be complete if leaf node"),m=hh(i,_)}m=m,g=n.filter.updateFullNode(h,m,l)}else{const m=Le(t);let _=ph(i,m,e.serverCache);_==null&&e.serverCache.isCompleteForChild(m)&&(_=h.getImmediateChild(m)),_!=null?g=n.filter.updateChild(h,m,_,Xe(t),d,l):e.eventCache.getNode().hasChild(m)?g=n.filter.updateChild(h,m,me.EMPTY_NODE,Xe(t),d,l):g=h,g.isEmpty()&&e.serverCache.isFullyInitialized()&&(u=Tu(i,Mi(e)),u.isLeafNode()&&(g=n.filter.updateFullNode(g,u,l)))}return u=e.serverCache.isFullyInitialized()||ku(i,je())!=null,Xo(e,g,u,n.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,o=new lh(i.getIndex()),l=ex(i);this.processor_=Px(l);const u=t.serverCache,d=t.eventCache,h=o.updateFullNode(me.EMPTY_NODE,u.getNode(),null),g=l.updateFullNode(me.EMPTY_NODE,d.getNode(),null),m=new ti(h,u.isFullyInitialized(),o.filtersNodes()),_=new ti(g,d.isFullyInitialized(),l.filtersNodes());this.viewCache_=Vu(_,m),this.eventGenerator_=new ax(this.query_)}get query(){return this.query_}}function Fx(n){return n.viewCache_.serverCache.getNode()}function Ux(n){return Iu(n.viewCache_)}function jx(n,e){const t=Mi(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!Oe(e)&&!t.getImmediateChild(Le(e)).isEmpty())?t.getChild(e):null}function ry(n){return n.eventRegistrations_.length===0}function zx(n,e){n.eventRegistrations_.push(e)}function iy(n,e,t){const i=[];if(t){W(e==null,"A cancel should cancel all event registrations.");const o=n.query._path;n.eventRegistrations_.forEach(l=>{const u=l.createCancelEvent(t,o);u&&i.push(u)})}if(e){let o=[];for(let l=0;l<n.eventRegistrations_.length;++l){const u=n.eventRegistrations_[l];if(!u.matches(e))o.push(u);else if(e.hasAnyCallback()){o=o.concat(n.eventRegistrations_.slice(l+1));break}}n.eventRegistrations_=o}else n.eventRegistrations_=[];return i}function sy(n,e,t,i){e.type===Rn.MERGE&&e.source.queryId!==null&&(W(Mi(n.viewCache_),"We should always have a full cache before handling merges"),W(Iu(n.viewCache_),"Missing event cache, even though we have a server cache"));const o=n.viewCache_,l=xx(n.processor_,o,e,t,i);return Nx(n.processor_,l.viewCache),W(l.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=l.viewCache,Iw(n,l.changes,l.viewCache.eventCache.getNode(),null)}function $x(n,e){const t=n.viewCache_.eventCache,i=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(ft,(l,u)=>{i.push(Ps(l,u))}),t.isFullyInitialized()&&i.push(pw(t.getNode())),Iw(n,i,t.getNode(),e)}function Iw(n,e,t,i){const o=i?[i]:n.eventRegistrations_;return lx(n.eventGenerator_,e,t,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pu;class Tw{constructor(){this.views=new Map}}function Vx(n){W(!Pu,"__referenceConstructor has already been defined"),Pu=n}function Bx(){return W(Pu,"Reference.ts has not been loaded"),Pu}function Wx(n){return n.views.size===0}function mh(n,e,t,i){const o=e.source.queryId;if(o!==null){const l=n.views.get(o);return W(l!=null,"SyncTree gave us an op for an invalid query."),sy(l,e,t,i)}else{let l=[];for(const u of n.views.values())l=l.concat(sy(u,e,t,i));return l}}function kw(n,e,t,i,o){const l=e._queryIdentifier,u=n.views.get(l);if(!u){let d=Tu(t,o?i:null),h=!1;d?h=!0:i instanceof me?(d=hh(t,i),h=!1):(d=me.EMPTY_NODE,h=!1);const g=Vu(new ti(d,h,!1),new ti(i,o,!1));return new Mx(e,g)}return u}function Hx(n,e,t,i,o,l){const u=kw(n,e,i,o,l);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,u),zx(u,t),$x(u,t)}function Kx(n,e,t,i){const o=e._queryIdentifier,l=[];let u=[];const d=ni(n);if(o==="default")for(const[h,g]of n.views.entries())u=u.concat(iy(g,t,i)),ry(g)&&(n.views.delete(h),g.query._queryParams.loadsAllData()||l.push(g.query));else{const h=n.views.get(o);h&&(u=u.concat(iy(h,t,i)),ry(h)&&(n.views.delete(o),h.query._queryParams.loadsAllData()||l.push(h.query)))}return d&&!ni(n)&&l.push(new(Bx())(e._repo,e._path)),{removed:l,events:u}}function Rw(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function Xr(n,e){let t=null;for(const i of n.views.values())t=t||jx(i,e);return t}function Pw(n,e){if(e._queryParams.loadsAllData())return Wu(n);{const i=e._queryIdentifier;return n.views.get(i)}}function Nw(n,e){return Pw(n,e)!=null}function ni(n){return Wu(n)!=null}function Wu(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nu;function Gx(n){W(!Nu,"__referenceConstructor has already been defined"),Nu=n}function qx(){return W(Nu,"Reference.ts has not been loaded"),Nu}let Yx=1;class oy{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Je(null),this.pendingWriteTree_=Ix(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function xw(n,e,t,i,o){return fx(n.pendingWriteTree_,e,t,i,o),o?Us(n,new Di(ch(),e,t)):[]}function Qx(n,e,t,i){hx(n.pendingWriteTree_,e,t,i);const o=Je.fromObject(t);return Us(n,new Ns(ch(),e,o))}function Kr(n,e,t=!1){const i=px(n.pendingWriteTree_,e);if(gx(n.pendingWriteTree_,e)){let l=new Je(null);return i.snap!=null?l=l.set(je(),!0):Ot(i.children,u=>{l=l.set(new Ge(u),!0)}),Us(n,new Cu(i.path,l,t))}else return[]}function Pa(n,e,t){return Us(n,new Di(dh(),e,t))}function Jx(n,e,t){const i=Je.fromObject(t);return Us(n,new Ns(dh(),e,i))}function Xx(n,e){return Us(n,new fa(dh(),e))}function Zx(n,e,t){const i=yh(n,t);if(i){const o=vh(i),l=o.path,u=o.queryId,d=Vt(l,e),h=new fa(fh(u),d);return wh(n,l,h)}else return[]}function Ow(n,e,t,i,o=!1){const l=e._path,u=n.syncPointTree_.get(l);let d=[];if(u&&(e._queryIdentifier==="default"||Nw(u,e))){const h=Kx(u,e,t,i);Wx(u)&&(n.syncPointTree_=n.syncPointTree_.remove(l));const g=h.removed;if(d=h.events,!o){const m=g.findIndex(v=>v._queryParams.loadsAllData())!==-1,_=n.syncPointTree_.findOnPath(l,(v,E)=>ni(E));if(m&&!_){const v=n.syncPointTree_.subtree(l);if(!v.isEmpty()){const E=r1(v);for(let T=0;T<E.length;++T){const N=E[T],R=N.query,H=Dw(n,N);n.listenProvider_.startListening(ea(R),ha(n,R),H.hashFn,H.onComplete)}}}!_&&g.length>0&&!i&&(m?n.listenProvider_.stopListening(ea(e),null):g.forEach(v=>{const E=n.queryToTagMap.get(Hu(v));n.listenProvider_.stopListening(ea(v),E)}))}i1(n,g)}return d}function Aw(n,e,t,i){const o=yh(n,i);if(o!=null){const l=vh(o),u=l.path,d=l.queryId,h=Vt(u,e),g=new Di(fh(d),h,t);return wh(n,u,g)}else return[]}function e1(n,e,t,i){const o=yh(n,i);if(o){const l=vh(o),u=l.path,d=l.queryId,h=Vt(u,e),g=Je.fromObject(t),m=new Ns(fh(d),h,g);return wh(n,u,m)}else return[]}function t1(n,e,t,i=!1){const o=e._path;let l=null,u=!1;n.syncPointTree_.foreachOnPath(o,(v,E)=>{const T=Vt(v,o);l=l||Xr(E,T),u=u||ni(E)});let d=n.syncPointTree_.get(o);d?(u=u||ni(d),l=l||Xr(d,je())):(d=new Tw,n.syncPointTree_=n.syncPointTree_.set(o,d));let h;l!=null?h=!0:(h=!1,l=me.EMPTY_NODE,n.syncPointTree_.subtree(o).foreachChild((E,T)=>{const N=Xr(T,je());N&&(l=l.updateImmediateChild(E,N))}));const g=Nw(d,e);if(!g&&!e._queryParams.loadsAllData()){const v=Hu(e);W(!n.queryToTagMap.has(v),"View does not exist, but we have a tag");const E=s1();n.queryToTagMap.set(v,E),n.tagToQueryMap.set(E,v)}const m=Bu(n.pendingWriteTree_,o);let _=Hx(d,e,t,m,l,h);if(!g&&!u&&!i){const v=Pw(d,e);_=_.concat(o1(n,e,v))}return _}function _h(n,e,t){const o=n.pendingWriteTree_,l=n.syncPointTree_.findOnPath(e,(u,d)=>{const h=Vt(u,e),g=Xr(d,h);if(g)return g});return vw(o,e,l,t,!0)}function n1(n,e){const t=e._path;let i=null;n.syncPointTree_.foreachOnPath(t,(g,m)=>{const _=Vt(g,t);i=i||Xr(m,_)});let o=n.syncPointTree_.get(t);o?i=i||Xr(o,je()):(o=new Tw,n.syncPointTree_=n.syncPointTree_.set(t,o));const l=i!=null,u=l?new ti(i,!0,!1):null,d=Bu(n.pendingWriteTree_,e._path),h=kw(o,e,d,l?u.getNode():me.EMPTY_NODE,l);return Ux(h)}function Us(n,e){return bw(e,n.syncPointTree_,null,Bu(n.pendingWriteTree_,je()))}function bw(n,e,t,i){if(Oe(n.path))return Lw(n,e,t,i);{const o=e.get(je());t==null&&o!=null&&(t=Xr(o,je()));let l=[];const u=Le(n.path),d=n.operationForChild(u),h=e.children.get(u);if(h&&d){const g=t?t.getImmediateChild(u):null,m=ww(i,u);l=l.concat(bw(d,h,g,m))}return o&&(l=l.concat(mh(o,n,i,t))),l}}function Lw(n,e,t,i){const o=e.get(je());t==null&&o!=null&&(t=Xr(o,je()));let l=[];return e.children.inorderTraversal((u,d)=>{const h=t?t.getImmediateChild(u):null,g=ww(i,u),m=n.operationForChild(u);m&&(l=l.concat(Lw(m,d,h,g)))}),o&&(l=l.concat(mh(o,n,i,t))),l}function Dw(n,e){const t=e.query,i=ha(n,t);return{hashFn:()=>(Fx(e)||me.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return i?Zx(n,t._path,i):Xx(n,t._path);{const l=XP(o,t);return Ow(n,t,null,l)}}}}function ha(n,e){const t=Hu(e);return n.queryToTagMap.get(t)}function Hu(n){return n._path.toString()+"$"+n._queryIdentifier}function yh(n,e){return n.tagToQueryMap.get(e)}function vh(n){const e=n.indexOf("$");return W(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Ge(n.substr(0,e))}}function wh(n,e,t){const i=n.syncPointTree_.get(e);W(i,"Missing sync point for query tag that we're tracking");const o=Bu(n.pendingWriteTree_,e);return mh(i,t,o,null)}function r1(n){return n.fold((e,t,i)=>{if(t&&ni(t))return[Wu(t)];{let o=[];return t&&(o=Rw(t)),Ot(i,(l,u)=>{o=o.concat(u)}),o}})}function ea(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(qx())(n._repo,n._path):n}function i1(n,e){for(let t=0;t<e.length;++t){const i=e[t];if(!i._queryParams.loadsAllData()){const o=Hu(i),l=n.queryToTagMap.get(o);n.queryToTagMap.delete(o),n.tagToQueryMap.delete(l)}}}function s1(){return Yx++}function o1(n,e,t){const i=e._path,o=ha(n,e),l=Dw(n,t),u=n.listenProvider_.startListening(ea(e),o,l.hashFn,l.onComplete),d=n.syncPointTree_.subtree(i);if(o)W(!ni(d.value),"If we're adding a query, it shouldn't be shadowed");else{const h=d.fold((g,m,_)=>{if(!Oe(g)&&m&&ni(m))return[Wu(m).query];{let v=[];return m&&(v=v.concat(Rw(m).map(E=>E.query))),Ot(_,(E,T)=>{v=v.concat(T)}),v}});for(let g=0;g<h.length;++g){const m=h[g];n.listenProvider_.stopListening(ea(m),ha(n,m))}}return u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new Eh(t)}node(){return this.node_}}class Sh{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=dt(this.path_,e);return new Sh(this.syncTree_,t)}node(){return _h(this.syncTree_,this.path_)}}const a1=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},ay=function(n,e,t){if(!n||typeof n!="object")return n;if(W(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return l1(n[".sv"],e,t);if(typeof n[".sv"]=="object")return u1(n[".sv"],e);W(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},l1=function(n,e,t){switch(n){case"timestamp":return t.timestamp;default:W(!1,"Unexpected server value: "+n)}},u1=function(n,e,t){n.hasOwnProperty("increment")||W(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;typeof i!="number"&&W(!1,"Unexpected increment value: "+i);const o=e.node();if(W(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return i;const u=o.getValue();return typeof u!="number"?i:u+i},Mw=function(n,e,t,i){return Ch(e,new Sh(t,n),i)},Fw=function(n,e,t){return Ch(n,new Eh(e),t)};function Ch(n,e,t){const i=n.getPriority().val(),o=ay(i,e.getImmediateChild(".priority"),t);let l;if(n.isLeafNode()){const u=n,d=ay(u.getValue(),e,t);return d!==u.getValue()||o!==u.getPriority().val()?new kt(d,wt(o)):n}else{const u=n;return l=u,o!==u.getPriority().val()&&(l=l.updatePriority(new kt(o))),u.forEachChild(ft,(d,h)=>{const g=Ch(h,e.getImmediateChild(d),t);g!==h&&(l=l.updateImmediateChild(d,g))}),l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function Th(n,e){let t=e instanceof Ge?e:new Ge(e),i=n,o=Le(t);for(;o!==null;){const l=Ts(i.node.children,o)||{children:{},childCount:0};i=new Ih(o,i,l),t=Xe(t),o=Le(t)}return i}function js(n){return n.node.value}function Uw(n,e){n.node.value=e,Rf(n)}function jw(n){return n.node.childCount>0}function c1(n){return js(n)===void 0&&!jw(n)}function Ku(n,e){Ot(n.node.children,(t,i)=>{e(new Ih(t,n,i))})}function zw(n,e,t,i){t&&e(n),Ku(n,o=>{zw(o,e,!0)})}function d1(n,e,t){let i=n.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function Na(n){return new Ge(n.parent===null?n.name:Na(n.parent)+"/"+n.name)}function Rf(n){n.parent!==null&&f1(n.parent,n.name,n)}function f1(n,e,t){const i=c1(t),o=Hn(n.node.children,e);i&&o?(delete n.node.children[e],n.node.childCount--,Rf(n)):!i&&!o&&(n.node.children[e]=t.node,n.node.childCount++,Rf(n))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1=/[\[\].#$\/\u0000-\u001F\u007F]/,p1=/[\[\].#$\u0000-\u001F\u007F]/,Xd=10*1024*1024,kh=function(n){return typeof n=="string"&&n.length!==0&&!h1.test(n)},$w=function(n){return typeof n=="string"&&n.length!==0&&!p1.test(n)},g1=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),$w(n)},m1=function(n){return n===null||typeof n=="string"||typeof n=="number"&&!eh(n)||n&&typeof n=="object"&&Hn(n,".sv")},Vw=function(n,e,t,i){i&&e===void 0||Gu(Lu(n,"value"),e,t)},Gu=function(n,e,t){const i=t instanceof Ge?new AN(t,n):t;if(e===void 0)throw new Error(n+"contains undefined "+ki(i));if(typeof e=="function")throw new Error(n+"contains a function "+ki(i)+" with contents = "+e.toString());if(eh(e))throw new Error(n+"contains "+e.toString()+" "+ki(i));if(typeof e=="string"&&e.length>Xd/3&&Du(e)>Xd)throw new Error(n+"contains a string greater than "+Xd+" utf8 bytes "+ki(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let o=!1,l=!1;if(Ot(e,(u,d)=>{if(u===".value")o=!0;else if(u!==".priority"&&u!==".sv"&&(l=!0,!kh(u)))throw new Error(n+" contains an invalid key ("+u+") "+ki(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);bN(i,u),Gu(n,d,i),LN(i)}),o&&l)throw new Error(n+' contains ".value" child '+ki(i)+" in addition to actual children.")}},_1=function(n,e){let t,i;for(t=0;t<e.length;t++){i=e[t];const l=la(i);for(let u=0;u<l.length;u++)if(!(l[u]===".priority"&&u===l.length-1)){if(!kh(l[u]))throw new Error(n+"contains an invalid key ("+l[u]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(ON);let o=null;for(t=0;t<e.length;t++){if(i=e[t],o!==null&&pn(o,i))throw new Error(n+"contains a path "+o.toString()+" that is ancestor of another path "+i.toString());o=i}},y1=function(n,e,t,i){const o=Lu(n,"values");if(typeof e!="object"||Array.isArray(e))throw new Error(o+" must be an object containing the children to replace.");const l=[];Ot(e,(u,d)=>{const h=new Ge(u);if(Gu(o,d,dt(t,h)),sh(h)===".priority"&&!m1(d))throw new Error(o+"contains an invalid value for '"+h.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");l.push(h)}),_1(o,l)},Bw=function(n,e,t,i){if(!$w(t))throw new Error(Lu(n,e)+'was an invalid path = "'+t+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},v1=function(n,e,t,i){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Bw(n,e,t)},Rh=function(n,e){if(Le(e)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},w1=function(n,e){const t=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!kh(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!g1(t))throw new Error(Lu(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Ph(n,e){let t=null;for(let i=0;i<e.length;i++){const o=e[i],l=o.getPath();t!==null&&!aw(l,t.path)&&(n.eventLists_.push(t),t=null),t===null&&(t={events:[],path:l}),t.events.push(o)}t&&n.eventLists_.push(t)}function gn(n,e,t){Ph(n,t),S1(n,i=>pn(i,e)||pn(e,i))}function S1(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const o=n.eventLists_[i];if(o){const l=o.path;e(l)?(C1(n.eventLists_[i]),n.eventLists_[i]=null):t=!1}}t&&(n.eventLists_=[]),n.recursionDepth_--}function C1(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(t!==null){n.events[e]=null;const i=t.getEventRunner();Qo&&xt("event: "+t.toString()),Fs(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1="repo_interrupt",T1=25;class k1{constructor(e,t,i,o){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new E1,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Su(),this.transactionQueueTree_=new Ih,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function R1(n,e,t){if(n.stats_=rh(n.repoInfo_),n.forceRestClient_||nN())n.server_=new Eu(n.repoInfo_,(i,o,l,u)=>{ly(n,i,o,l,u)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>uy(n,!0),0);else{if(typeof t<"u"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Et(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new ur(n.repoInfo_,e,(i,o,l,u)=>{ly(n,i,o,l,u)},i=>{uy(n,i)},i=>{P1(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=aN(n.repoInfo_,()=>new ox(n.stats_,n.server_)),n.infoData_=new tx,n.infoSyncTree_=new oy({startListening:(i,o,l,u)=>{let d=[];const h=n.infoData_.getNode(i._path);return h.isEmpty()||(d=Pa(n.infoSyncTree_,i._path,h),setTimeout(()=>{u("ok")},0)),d},stopListening:()=>{}}),Nh(n,"connected",!1),n.serverSyncTree_=new oy({startListening:(i,o,l,u)=>(n.server_.listen(i,l,o,(d,h)=>{const g=u(d,h);gn(n.eventQueue_,i._path,g)}),[]),stopListening:(i,o)=>{n.server_.unlisten(i,o)}})}function Ww(n){const t=n.infoData_.getNode(new Ge(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function qu(n){return a1({timestamp:Ww(n)})}function ly(n,e,t,i,o){n.dataUpdateCount++;const l=new Ge(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let u=[];if(o)if(i){const h=lu(t,g=>wt(g));u=e1(n.serverSyncTree_,l,h,o)}else{const h=wt(t);u=Aw(n.serverSyncTree_,l,h,o)}else if(i){const h=lu(t,g=>wt(g));u=Jx(n.serverSyncTree_,l,h)}else{const h=wt(t);u=Pa(n.serverSyncTree_,l,h)}let d=l;u.length>0&&(d=Os(n,l)),gn(n.eventQueue_,d,u)}function uy(n,e){Nh(n,"connected",e),e===!1&&A1(n)}function P1(n,e){Ot(e,(t,i)=>{Nh(n,t,i)})}function Nh(n,e,t){const i=new Ge("/.info/"+e),o=wt(t);n.infoData_.updateSnapshot(i,o);const l=Pa(n.infoSyncTree_,i,o);gn(n.eventQueue_,i,l)}function xh(n){return n.nextWriteId_++}function N1(n,e,t){const i=n1(n.serverSyncTree_,e);return i!=null?Promise.resolve(i):n.server_.get(e).then(o=>{const l=wt(o).withIndex(e._queryParams.getIndex());t1(n.serverSyncTree_,e,t,!0);let u;if(e._queryParams.loadsAllData())u=Pa(n.serverSyncTree_,e._path,l);else{const d=ha(n.serverSyncTree_,e);u=Aw(n.serverSyncTree_,e._path,l,d)}return gn(n.eventQueue_,e._path,u),Ow(n.serverSyncTree_,e,t,null,!0),l},o=>(xa(n,"get for query "+Et(e)+" failed: "+o),Promise.reject(new Error(o))))}function x1(n,e,t,i,o){xa(n,"set",{path:e.toString(),value:t,priority:i});const l=qu(n),u=wt(t,i),d=_h(n.serverSyncTree_,e),h=Fw(u,d,l),g=xh(n),m=xw(n.serverSyncTree_,e,h,g,!0);Ph(n.eventQueue_,m),n.server_.put(e.toString(),u.val(!0),(v,E)=>{const T=v==="ok";T||Bt("set at "+e+" failed: "+v);const N=Kr(n.serverSyncTree_,g,!T);gn(n.eventQueue_,e,N),Pf(n,o,v,E)});const _=Ah(n,e);Os(n,_),gn(n.eventQueue_,_,[])}function O1(n,e,t,i){xa(n,"update",{path:e.toString(),value:t});let o=!0;const l=qu(n),u={};if(Ot(t,(d,h)=>{o=!1,u[d]=Mw(dt(e,d),wt(h),n.serverSyncTree_,l)}),o)xt("update() called with empty data.  Don't do anything."),Pf(n,i,"ok",void 0);else{const d=xh(n),h=Qx(n.serverSyncTree_,e,u,d);Ph(n.eventQueue_,h),n.server_.merge(e.toString(),t,(g,m)=>{const _=g==="ok";_||Bt("update at "+e+" failed: "+g);const v=Kr(n.serverSyncTree_,d,!_),E=v.length>0?Os(n,e):e;gn(n.eventQueue_,E,v),Pf(n,i,g,m)}),Ot(t,g=>{const m=Ah(n,dt(e,g));Os(n,m)}),gn(n.eventQueue_,e,[])}}function A1(n){xa(n,"onDisconnectEvents");const e=qu(n),t=Su();Ef(n.onDisconnect_,je(),(o,l)=>{const u=Mw(o,l,n.serverSyncTree_,e);gw(t,o,u)});let i=[];Ef(t,je(),(o,l)=>{i=i.concat(Pa(n.serverSyncTree_,o,l));const u=Ah(n,o);Os(n,u)}),n.onDisconnect_=Su(),gn(n.eventQueue_,je(),i)}function b1(n){n.persistentConnection_&&n.persistentConnection_.interrupt(I1)}function xa(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),xt(t,...e)}function Pf(n,e,t,i){e&&Fs(()=>{if(t==="ok")e(null);else{const o=(t||"error").toUpperCase();let l=o;i&&(l+=": "+i);const u=new Error(l);u.code=o,e(u)}})}function Hw(n,e,t){return _h(n.serverSyncTree_,e,t)||me.EMPTY_NODE}function Oh(n,e=n.transactionQueueTree_){if(e||Yu(n,e),js(e)){const t=Gw(n,e);W(t.length>0,"Sending zero length transaction queue"),t.every(o=>o.status===0)&&L1(n,Na(e),t)}else jw(e)&&Ku(e,t=>{Oh(n,t)})}function L1(n,e,t){const i=t.map(g=>g.currentWriteId),o=Hw(n,e,i);let l=o;const u=o.hash();for(let g=0;g<t.length;g++){const m=t[g];W(m.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),m.status=1,m.retryCount++;const _=Vt(e,m.path);l=l.updateChild(_,m.currentOutputSnapshotRaw)}const d=l.val(!0),h=e;n.server_.put(h.toString(),d,g=>{xa(n,"transaction put response",{path:h.toString(),status:g});let m=[];if(g==="ok"){const _=[];for(let v=0;v<t.length;v++)t[v].status=2,m=m.concat(Kr(n.serverSyncTree_,t[v].currentWriteId)),t[v].onComplete&&_.push(()=>t[v].onComplete(null,!0,t[v].currentOutputSnapshotResolved)),t[v].unwatcher();Yu(n,Th(n.transactionQueueTree_,e)),Oh(n,n.transactionQueueTree_),gn(n.eventQueue_,e,m);for(let v=0;v<_.length;v++)Fs(_[v])}else{if(g==="datastale")for(let _=0;_<t.length;_++)t[_].status===3?t[_].status=4:t[_].status=0;else{Bt("transaction at "+h.toString()+" failed: "+g);for(let _=0;_<t.length;_++)t[_].status=4,t[_].abortReason=g}Os(n,e)}},u)}function Os(n,e){const t=Kw(n,e),i=Na(t),o=Gw(n,t);return D1(n,o,i),i}function D1(n,e,t){if(e.length===0)return;const i=[];let o=[];const u=e.filter(d=>d.status===0).map(d=>d.currentWriteId);for(let d=0;d<e.length;d++){const h=e[d],g=Vt(t,h.path);let m=!1,_;if(W(g!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),h.status===4)m=!0,_=h.abortReason,o=o.concat(Kr(n.serverSyncTree_,h.currentWriteId,!0));else if(h.status===0)if(h.retryCount>=T1)m=!0,_="maxretry",o=o.concat(Kr(n.serverSyncTree_,h.currentWriteId,!0));else{const v=Hw(n,h.path,u);h.currentInputSnapshot=v;const E=e[d].update(v.val());if(E!==void 0){Gu("transaction failed: Data returned ",E,h.path);let T=wt(E);typeof E=="object"&&E!=null&&Hn(E,".priority")||(T=T.updatePriority(v.getPriority()));const R=h.currentWriteId,H=qu(n),z=Fw(T,v,H);h.currentOutputSnapshotRaw=T,h.currentOutputSnapshotResolved=z,h.currentWriteId=xh(n),u.splice(u.indexOf(R),1),o=o.concat(xw(n.serverSyncTree_,h.path,z,h.currentWriteId,h.applyLocally)),o=o.concat(Kr(n.serverSyncTree_,R,!0))}else m=!0,_="nodata",o=o.concat(Kr(n.serverSyncTree_,h.currentWriteId,!0))}gn(n.eventQueue_,t,o),o=[],m&&(e[d].status=2,function(v){setTimeout(v,Math.floor(0))}(e[d].unwatcher),e[d].onComplete&&(_==="nodata"?i.push(()=>e[d].onComplete(null,!1,e[d].currentInputSnapshot)):i.push(()=>e[d].onComplete(new Error(_),!1,null))))}Yu(n,n.transactionQueueTree_);for(let d=0;d<i.length;d++)Fs(i[d]);Oh(n,n.transactionQueueTree_)}function Kw(n,e){let t,i=n.transactionQueueTree_;for(t=Le(e);t!==null&&js(i)===void 0;)i=Th(i,t),e=Xe(e),t=Le(e);return i}function Gw(n,e){const t=[];return qw(n,e,t),t.sort((i,o)=>i.order-o.order),t}function qw(n,e,t){const i=js(e);if(i)for(let o=0;o<i.length;o++)t.push(i[o]);Ku(e,o=>{qw(n,o,t)})}function Yu(n,e){const t=js(e);if(t){let i=0;for(let o=0;o<t.length;o++)t[o].status!==2&&(t[i]=t[o],i++);t.length=i,Uw(e,t.length>0?t:void 0)}Ku(e,i=>{Yu(n,i)})}function Ah(n,e){const t=Na(Kw(n,e)),i=Th(n.transactionQueueTree_,e);return d1(i,o=>{Zd(n,o)}),Zd(n,i),zw(i,o=>{Zd(n,o)}),t}function Zd(n,e){const t=js(e);if(t){const i=[];let o=[],l=-1;for(let u=0;u<t.length;u++)t[u].status===3||(t[u].status===1?(W(l===u-1,"All SENT items should be at beginning of queue."),l=u,t[u].status=3,t[u].abortReason="set"):(W(t[u].status===0,"Unexpected transaction status in abort"),t[u].unwatcher(),o=o.concat(Kr(n.serverSyncTree_,t[u].currentWriteId,!0)),t[u].onComplete&&i.push(t[u].onComplete.bind(null,new Error("set"),!1,null))));l===-1?Uw(e,void 0):t.length=l+1,gn(n.eventQueue_,Na(e),o);for(let u=0;u<i.length;u++)Fs(i[u])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let o=t[i];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}e+="/"+o}return e}function F1(n){const e={};n.charAt(0)==="?"&&(n=n.substring(1));for(const t of n.split("&")){if(t.length===0)continue;const i=t.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Bt(`Invalid query segment '${t}' in query '${n}'`)}return e}const cy=function(n,e){const t=U1(n),i=t.namespace;t.domain==="firebase.com"&&fr(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&t.domain!=="localhost"&&fr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||GP();const o=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new Jv(t.host,t.secure,i,o,e,"",i!==t.subdomain),path:new Ge(t.pathString)}},U1=function(n){let e="",t="",i="",o="",l="",u=!0,d="https",h=443;if(typeof n=="string"){let g=n.indexOf("//");g>=0&&(d=n.substring(0,g-1),n=n.substring(g+2));let m=n.indexOf("/");m===-1&&(m=n.length);let _=n.indexOf("?");_===-1&&(_=n.length),e=n.substring(0,Math.min(m,_)),m<_&&(o=M1(n.substring(m,_)));const v=F1(n.substring(Math.min(n.length,_)));g=e.indexOf(":"),g>=0?(u=d==="https"||d==="wss",h=parseInt(e.substring(g+1),10)):g=e.length;const E=e.slice(0,g);if(E.toLowerCase()==="localhost")t="localhost";else if(E.split(".").length<=2)t=E;else{const T=e.indexOf(".");i=e.substring(0,T).toLowerCase(),t=e.substring(T+1),l=i}"ns"in v&&(l=v.ns)}return{host:e,port:h,domain:t,subdomain:i,secure:u,scheme:d,pathString:o,namespace:l}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dy="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",j1=function(){let n=0;const e=[];return function(t){const i=t===n;n=t;let o;const l=new Array(8);for(o=7;o>=0;o--)l[o]=dy.charAt(t%64),t=Math.floor(t/64);W(t===0,"Cannot push at time == 0");let u=l.join("");if(i){for(o=11;o>=0&&e[o]===63;o--)e[o]=0;e[o]++}else for(o=0;o<12;o++)e[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)u+=dy.charAt(e[o]);return W(u.length===20,"nextPushId: Length should be 20."),u}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(e,t,i,o){this.eventType=e,this.eventRegistration=t,this.snapshot=i,this.prevName=o}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Et(this.snapshot.exportVal())}}class $1{constructor(e,t,i){this.eventRegistration=e,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return W(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,t,i,o){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=o}get key(){return Oe(this._path)?null:sh(this._path)}get ref(){return new pr(this._repo,this._path)}get _queryIdentifier(){const e=Q_(this._queryParams),t=th(e);return t==="{}"?"default":t}get _queryObject(){return Q_(this._queryParams)}isEqual(e){if(e=Ut(e),!(e instanceof bh))return!1;const t=this._repo===e._repo,i=aw(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return t&&i&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+xN(this._path)}}class pr extends bh{constructor(e,t){super(e,t,new uh,!1)}get parent(){const e=ow(this._path);return e===null?null:new pr(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class pa{constructor(e,t,i){this._node=e,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Ge(e),i=ga(this.ref,e);return new pa(this._node.getChild(t),i,ft)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,o)=>e(new pa(o,ga(this.ref,i),ft)))}hasChild(e){const t=new Ge(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ko(n,e){return n=Ut(n),n._checkNotDeleted("ref"),e!==void 0?ga(n._root,e):n._root}function ga(n,e){return n=Ut(n),Le(n._path)===null?v1("child","path",e):Bw("child","path",e),new pr(n._repo,dt(n._path,e))}function B1(n,e){n=Ut(n),Rh("push",n._path),Vw("push",e,n._path,!0);const t=Ww(n._repo),i=j1(t),o=ga(n,i),l=ga(n,i);let u;return u=Promise.resolve(l),o.then=u.then.bind(u),o.catch=u.then.bind(u,void 0),o}function W1(n){return Rh("remove",n._path),Yw(n,null)}function Yw(n,e){n=Ut(n),Rh("set",n._path),Vw("set",e,n._path,!1);const t=new wa;return x1(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function H1(n,e){y1("update",e,n._path);const t=new wa;return O1(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}function Qw(n){n=Ut(n);const e=new V1(()=>{}),t=new Lh(e);return N1(n._repo,n,t).then(i=>new pa(i,new pr(n._repo,n._path),n._queryParams.getIndex()))}class Lh{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,t){const i=t._queryParams.getIndex();return new z1("value",this,new pa(e.snapshotNode,new pr(t._repo,t._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new $1(this,e,t):null}matches(e){return e instanceof Lh?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}Vx(pr);Gx(pr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1="FIREBASE_DATABASE_EMULATOR_HOST",Nf={};let G1=!1;function q1(n,e,t,i){n.repoInfo_=new Jv(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}function Y1(n,e,t,i,o){let l=i||n.options.databaseURL;l===void 0&&(n.options.projectId||fr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),xt("Using default host for project ",n.options.projectId),l=`${n.options.projectId}-default-rtdb.firebaseio.com`);let u=cy(l,o),d=u.repoInfo,h;typeof process<"u"&&A_&&(h=A_[K1]),h?(l=`http://${h}?ns=${d.namespace}`,u=cy(l,o),d=u.repoInfo):u.repoInfo.secure;const g=new iN(n.name,n.options,e);w1("Invalid Firebase Database URL",u),Oe(u.path)||fr("Database URL must point to the root of a Firebase Database (not including a child path).");const m=J1(d,n,g,new rN(n.name,t));return new X1(m,n)}function Q1(n,e){const t=Nf[e];(!t||t[n.key]!==n)&&fr(`Database ${e}(${n.repoInfo_}) has already been deleted.`),b1(n),delete t[n.key]}function J1(n,e,t,i){let o=Nf[e.name];o||(o={},Nf[e.name]=o);let l=o[n.toURLString()];return l&&fr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),l=new k1(n,G1,t,i),o[n.toURLString()]=l,l}class X1{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(R1(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new pr(this._repo,je())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Q1(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&fr("Cannot call "+e+" on a deleted database.")}}function Z1(n=Wf(),e){const t=Mu(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const i=Vy("database");i&&eO(t,...i)}return t}function eO(n,e,t,i={}){n=Ut(n),n._checkNotDeleted("useEmulator"),n._instanceStarted&&fr("Cannot call useEmulator() after instance has already been initialized.");const o=n._repoInternal;let l;if(o.repoInfo_.nodeAdmin)i.mockUserToken&&fr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),l=new Jl(Jl.OWNER);else if(i.mockUserToken){const u=typeof i.mockUserToken=="string"?i.mockUserToken:Hy(i.mockUserToken,n.app.options.projectId);l=new Jl(u)}q1(o,e,t,l)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tO(n){$P(Ui),Ai(new Zr("database",(e,{instanceIdentifier:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),l=e.getProvider("app-check-internal");return Y1(i,o,l,t)},"PUBLIC").setMultipleInstances(!0)),$n(b_,L_,n),$n(b_,L_,"esm2017")}ur.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};ur.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};tO();const nO={apiKey:"AIzaSyANdwlpY4ZNrKhq6GfCXUuQaUs4y2W9Yq4",authDomain:"mina-art.firebaseapp.com",databaseURL:"https://mina-art-default-rtdb.europe-west1.firebasedatabase.app/",projectId:"mina-art",storageBucket:"mina-art.firebasestorage.app",messagingSenderId:"595256450426",appId:"1:595256450426:web:c1f34a0c2a52c17b8a8ac3",measurementId:"G-H8Y5S6RNRK"},Dh=Qy(nO),Jw=bv(Dh);FP(Dh);const Go=Z1(Dh),rO=async(n,e)=>{try{await Jk(Jw,n,e)}catch{throw new Error("Authentication failed: ")}},iO=()=>{const{t:n,i18n:e}=As(),t=i=>{e.changeLanguage(i)};return K.jsxs("header",{children:[K.jsx("div",{className:"logo","data-key":"logo",children:n("logo")}),K.jsx("div",{className:"language-selector",children:K.jsxs("select",{onChange:i=>t(i.target.value),children:[K.jsx("option",{value:"en",children:"EN"}),K.jsx("option",{value:"ar",children:"AR"}),K.jsx("option",{value:"fr",children:"FR"}),K.jsx("option",{value:"ko",children:"KO"})]})}),K.jsx("nav",{children:K.jsxs("ul",{children:[K.jsx("li",{children:K.jsx("a",{href:"#hero","data-key":"home",children:n("home")})}),K.jsx("li",{children:K.jsx("a",{href:"#gallery","data-key":"gallery",children:n("gallery")})}),K.jsx("li",{children:K.jsx("a",{href:"#painting-game","data-key":"draw",children:n("draw")})}),K.jsx("li",{children:K.jsx("a",{href:"#about","data-key":"about",children:n("about")})})]})})]})},sO=()=>{const{t:n}=As();return K.jsx("section",{id:"hero",className:"hero",children:K.jsx("div",{children:K.jsx("h1",{"data-key":"hero-welcome",className:"section-fade",children:n("hero-welcome")})})})},oO=()=>{const{t:n}=As(),e=Au(),[t,i]=M.useState([]),[o,l]=M.useState(1),u=2,[d,h]=M.useState(null);M.useEffect(()=>{d?document.body.style.overflow="hidden":document.body.style.overflow=""},[d]),M.useEffect(()=>{(async()=>{const v=Ko(Go,"images");try{const E=await Qw(v);if(E.exists()){const T=E.val(),R=Object.keys(T).map(H=>({id:H,...T[H]})).sort((H,z)=>H.order-z.order);i(R)}}catch(E){console.error("Error fetching images from Firebase:",E)}})()},[]);const g=()=>{const _=(o-1)*u,v=Math.min(_+u,t.length);return t.slice(_,v).map(E=>K.jsx("img",{src:`data:image/png;base64,${E.blob}`,alt:`Artwork ${E.id}`,className:"rounded shadow-md cursor-pointer",onClick:()=>h(`data:image/png;base64,${E.blob}`)},E.id))},m=()=>{h(null)};return K.jsxs("section",{id:"gallery",className:"gallery",children:[K.jsx("h1",{"data-key":"gallery-title",className:"section-fade",children:n("gallery-title")}),K.jsx("button",{"data-key":"gallery-random",id:"randomImageBtn",onClick:()=>{const _=Math.floor(Math.random()*t.length);h(`data:image/png;base64,${t[_].blob}`)},children:n("gallery-random")}),K.jsx("div",{id:"gallery-container",children:g()}),K.jsx("div",{id:"pagination-controls",className:"section-fade",children:Array.from({length:Math.ceil(t.length/u)}).map((_,v)=>K.jsx("button",{onClick:()=>l(v+1),className:`px-4 py-2 rounded ${o===v+1?"bg-pink-400 text-white":"bg-gray-200"}`,children:v+1},v))}),K.jsx("button",{onClick:()=>e("/mina-art/admin"),className:"px-4 py-2 bg-blue-500 text-white rounded mt-4",children:"Go to Admin Panel"}),d&&K.jsx("div",{className:"popup-overlay",onClick:m,style:{display:"flex",justifyContent:"center",alignItems:"center",position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0,0,0,0.7)",zIndex:9999},children:K.jsxs("div",{className:"popup-content",style:{position:"relative",maxWidth:"90%",maxHeight:"90%"},onClick:_=>_.stopPropagation(),children:[K.jsx("span",{className:"close",onClick:m,style:{position:"absolute",top:"10px",right:"10px",fontSize:"30px",color:"white",cursor:"pointer"},children:"×"}),K.jsx("img",{src:d,alt:"Popup Artwork",style:{width:"100%",height:"auto",borderRadius:"8px"}})]})})]})},aO=()=>{const{t:n}=As();return K.jsxs("section",{id:"about",className:"about",children:[K.jsx("h2",{"data-key":"about-title",className:"section-fade",children:n("about-title")}),K.jsx("p",{"data-key":"about-description",className:"section-fade",children:n("about-description")}),K.jsxs("div",{className:"social",children:[K.jsx("a",{href:"https://www.instagram.com/blurryminah/",target:"_blank","aria-label":"Instagram",className:"section-fade",children:K.jsx("i",{className:"fab fa-instagram"})}),K.jsx("a",{href:"https://www.tiktok.com/@blurryminah",target:"_blank","aria-label":"TikTok",className:"section-fade",children:K.jsx("i",{className:"fab fa-tiktok"})})]})]})},lO=()=>{const{t:n}=As();return K.jsx("footer",{children:K.jsxs("p",{"data-key":"footer-text",children:["© 2025 ",n("footer-text")]})})},uO=()=>{const{t:n}=As();return K.jsxs("section",{id:"painting-game",className:"painting-game",children:[K.jsx("h2",{"data-key":"drawing-title",className:"section-fade",children:n("drawing-title")}),K.jsx("iframe",{src:"https://jspaint.app",title:"Painting Game"})]})},cO=()=>{const[n,e]=M.useState([]),[t,i]=M.useState(null),[o,l]=M.useState(1),[u,d]=M.useState(null),[h,g]=M.useState(!1),[m,_]=M.useState(!1),v=Au();M.useEffect(()=>{const R=bv(),H=eR(R,J=>{J||v("/mina-art/login")});return(async()=>{g(!0);const J=Ko(Go,"images");try{const G=await Qw(J);if(G.exists()){const _e=G.val(),ae=Object.keys(_e).map(V=>({id:V,..._e[V]})).sort((V,ee)=>V.order-ee.order);e(ae)}}catch(G){d("Failed to fetch images"),console.error(G)}finally{g(!1)}})(),()=>H()},[v]);const E=async()=>{if(t){if(!t.type.startsWith("image/")){d("Please select a valid image file.");return}_(!0),d(null);try{const R=new FileReader;R.onloadend=async()=>{const H=R.result,z=new Uint8Array(H),J=Array.from(z).map(V=>String.fromCharCode(V)).join(""),G=btoa(J),_e=Ko(Go,"images"),A=B1(_e),ae={id:A.key,order:o,blob:G};await Yw(A,ae),e(V=>[...V,ae]),i(null),l(V=>V+1),_(!1)},R.readAsArrayBuffer(t)}catch(R){d("Failed to upload image. Please try again."),console.error(R),_(!1)}}},T=async R=>{try{const H=Ko(Go,`images/${R}`);await W1(H),e(z=>z.filter(J=>J.id!==R))}catch{d("Failed to delete image.")}},N=async(R,H)=>{try{const z=Ko(Go,`images/${R}`);await H1(z,{order:H}),e(J=>J.map(G=>G.id===R?{...G,order:H}:G))}catch{d("Failed to reorder image.")}};return K.jsxs("div",{children:[K.jsx("h2",{children:"Admin Panel"}),u&&K.jsx("p",{children:u}),h&&K.jsx("div",{className:"loading-spinner",children:"Loading images..."}),K.jsxs("div",{className:"upload-container",children:[K.jsx("input",{type:"file",onChange:R=>i(R.target.files?R.target.files[0]:null),accept:"image/*"}),K.jsx("button",{onClick:E,disabled:m,children:m?"Uploading...":"Upload Image"})]}),m&&K.jsx("div",{className:"loading-spinner",children:"Uploading image..."}),K.jsx("div",{className:"image-list",children:n.map(R=>K.jsxs("div",{className:"image-item",children:[K.jsx("img",{src:`data:image/png;base64,${R.blob}`,alt:"Uploaded",style:{maxWidth:"200px",maxHeight:"200px"}}),K.jsxs("div",{className:"image-actions",children:[K.jsx("button",{onClick:()=>T(R.id),children:"Delete"}),K.jsx("button",{onClick:()=>N(R.id,R.order-1),children:"Move Up"}),K.jsx("button",{onClick:()=>N(R.id,R.order+1),children:"Move Down"})]})]},R.id))})]})},fy=()=>{const[n,e]=M.useState(""),[t,i]=M.useState(""),[o,l]=M.useState(null),u=Au(),d=async h=>{h.preventDefault();try{await rO(n,t),u("/mina-art/admin")}catch{l("Failed to sign in. Please check your credentials.")}};return K.jsxs("form",{onSubmit:d,children:[K.jsx("h2",{children:"Admin Login"}),o&&K.jsx("p",{children:o}),K.jsx("input",{type:"email",value:n,onChange:h=>e(h.target.value),placeholder:"Email",required:!0}),K.jsx("input",{type:"password",value:t,onChange:h=>i(h.target.value),placeholder:"Password",required:!0}),K.jsx("button",{type:"submit",children:"Login"})]})},dO=()=>{const[n,e]=M.useState(!1);M.useEffect(()=>Jw.onAuthStateChanged(o=>{e(!!o)}),[]);const t=sI([{path:"/mina-art",element:K.jsxs(K.Fragment,{children:[K.jsx(iO,{}),K.jsx(sO,{}),K.jsx(oO,{}),K.jsx(uO,{}),K.jsx(aO,{}),K.jsx(lO,{})]})},{path:"/mina-art/admin",element:n?K.jsx(cO,{}):K.jsx(fy,{})},{path:"/mina-art/login",element:K.jsx(fy,{})},{path:"*",element:K.jsx(tI,{to:"/mina-art"})}]);return K.jsx(AI,{i18n:At,children:K.jsx(pI,{router:t})})};VS.createRoot(document.getElementById("root")).render(K.jsx(py.StrictMode,{children:K.jsx(dO,{})}));
